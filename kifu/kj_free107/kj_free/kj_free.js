'use strict';const _0x5bd22d=_0x26d3;(function(_0x354bb9,_0x173906){const _0xcbfac0=_0x26d3,_0x21742f=_0x354bb9();while(!![]){try{const _0x2cde93=parseInt(_0xcbfac0(0x16d))/0x1+-parseInt(_0xcbfac0(0x209))/0x2+parseInt(_0xcbfac0(0x2cb))/0x3*(parseInt(_0xcbfac0(0x2ca))/0x4)+-parseInt(_0xcbfac0(0x3a5))/0x5*(parseInt(_0xcbfac0(0x2aa))/0x6)+parseInt(_0xcbfac0(0x296))/0x7*(-parseInt(_0xcbfac0(0x229))/0x8)+-parseInt(_0xcbfac0(0x344))/0x9+parseInt(_0xcbfac0(0x1c7))/0xa;if(_0x2cde93===_0x173906)break;else _0x21742f['push'](_0x21742f['shift']());}catch(_0x5ee44e){_0x21742f['push'](_0x21742f['shift']());}}}(_0x1886,0x95508));const FREE=!![],HTML_COMMENT=!![];(function(){const _0x3c3c35=_0x26d3;var _0x1a56bc=location,_0x26d657=_0x1a56bc['host'],_0xf3665d=[_0x3c3c35(0x1a3),_0x3c3c35(0x1f9)];function _0x379b90(){const _0x1c2ab9=_0x3c3c35;if(_0x1a56bc[_0x1c2ab9(0x2dd)]==='file:')return!![];if(typeof SHOW_LOG!==_0x1c2ab9(0x24c))return!![];var _0x4ecf25=![];return _0xf3665d['some'](function(_0x3cec26){const _0x1cf803=_0x1c2ab9;if(_0x26d657[_0x1cf803(0x393)](-_0x3cec26['length'])===_0x3cec26)return _0x4ecf25=!![],!![];}),_0x4ecf25;}for(var _0x99ec65 in console){typeof console[_0x99ec65]===_0x3c3c35(0x2d7)&&_0x42ca6c(_0x99ec65);}function _0x42ca6c(_0x1bec7e){var _0x1c31f9=console[_0x1bec7e];console[_0x1bec7e]=function(){const _0x17f307=_0x26d3;_0x379b90()&&_0x1c31f9[_0x17f307(0x1fa)](this,arguments);};}}());const SENTE=0x80,GOTE=0x0,FF=0xff,FU=0x1,KY=0x2,KE=0x3,GI=0x4,KI=0x5,KA=0x6,HI=0x7,GY=0x8,TO=0x9,NY=0xa,NE=0xb,NG=0xc,UM=0xe,RY=0xf,SFU=0x81,SKY=0x82,SKE=0x83,SGI=0x84,SKI=0x85,SKA=0x86,SHI=0x87,SGY=0x88,HIRATE=0x0,KYOTI=0x1,UKYOTI=0x2,KAOTI=0x3,HIOTI=0x4,HIKYOTI=0x5,NIMAIOTI=0x6,SANMAIOTI=0x7,YOMAIOTI=0x8,GOMAIOTI=0x9,GOMAIOTI_HIDARI=0xa,ROKUMAIOTI=0xb,HATIMAIOTI=0xc,JYUUMAIOTI=0xd,SONOTA=0xe,hirate_board=[FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,FF,KY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKY,FF,KE,KA,FU,0x0,0x0,0x0,SFU,SHI,SKE,FF,GI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGI,FF,KI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKI,FF,GY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGY,FF,KI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKI,FF,GI,0x0,FU,0x0,0x0,0x0,SFU,0x0,SGI,FF,KE,HI,FU,0x0,0x0,0x0,SFU,SKA,SKE,FF,KY,0x0,FU,0x0,0x0,0x0,SFU,0x0,SKY],hirate_sqr=[0x0,0x11,0x5d,0x61,0xd,0x1b,0x53,0x57,0x17,0x25,0x49,0x4d,0x21,0x2f,0x3f,0x43,0x2b,0x39,0x35,0x13,0x5b,0x63,0xb,0x1d,0x51,0x59,0x15,0x27,0x47,0x4f,0x1f,0x31,0x3d,0x45,0x29,0x58,0x16,0x1c,0x52,0x3b,0x33],kiki_n=[0x0,0x1,0x1,0x2,0x5,0x6,0x4,0x4,0x8,0x6,0x6,0x6,0x6,0x6,0x8,0x8],kiki_vec=[[0x0],[0x1],[0x1],[-0x8,0xc],[-0xb,-0x9,0x1,0x9,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xb,-0x9,0x9,0xb],[-0xa,-0x1,0x1,0xa],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xa,-0x9,-0x1,0x1,0xa,0xb],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb],[-0xb,-0xa,-0x9,-0x1,0x1,0x9,0xa,0xb]],kiki_long=[[0x0],[0x0],[0x1],[0x0,0x0],[0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x1,0x1,0x1],[0x1,0x1,0x1,0x1],[0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x0,0x0,0x0,0x0,0x0,0x0],[0x1,0x0,0x1,0x0,0x0,0x1,0x0,0x1],[0x0,0x1,0x0,0x1,0x1,0x0,0x1,0x0]],pice_no=[[0x0,0x0],[0x1,0x12],[0x13,0x16],[0x17,0x1a],[0x1b,0x1e],[0x1f,0x22],[0x23,0x24],[0x25,0x26],[0x27,0x28]];class Board{constructor(){const _0x274530=_0x26d3;this[_0x274530(0x2ba)]=new Array(0x6f),this[_0x274530(0x1b6)]=new Array(0x6f),this['square']=new Array(0x29),this['motigoma']=new Array(0x2);for(var _0x13d4cc=0x0;_0x13d4cc<0x2;_0x13d4cc++){this[_0x274530(0x2ac)][_0x13d4cc]=new Array(0x8);}this[_0x274530(0x2f3)]=new Array(0x8),this['motigoma_pn']=new Array(0x8);for(_0x13d4cc=0x0;_0x13d4cc<0x8;_0x13d4cc++){this[_0x274530(0x343)][_0x13d4cc]=new Array(0x12);}this[_0x274530(0x1b8)]();}['log'](){const _0x2a6a44=_0x26d3;console[_0x2a6a44(0x186)]('先手持ち駒');for(let _0x42f545=0x0;_0x42f545<0x8;_0x42f545++){console[_0x2a6a44(0x186)]('k='+_0x42f545+'\x20'+this[_0x2a6a44(0x2ac)][0x1][_0x42f545]);}}['flip_teban'](){const _0xf8cfde=_0x26d3;this['teban']=0x80-this[_0xf8cfde(0x21f)];}[_0x5bd22d(0x1b8)](){const _0x117d0b=_0x5bd22d;for(var _0x3a9cea=0x0;_0x3a9cea<=0x63;_0x3a9cea++)this[_0x117d0b(0x2ba)][_0x3a9cea]=hirate_board[_0x3a9cea];for(_0x3a9cea=0x64;_0x3a9cea<=0x6e;_0x3a9cea++)this['board'][_0x3a9cea]=FF;for(var _0x2ce969=0x0;_0x2ce969<0x2;_0x2ce969++){for(let _0x1bd3c6=0x0;_0x1bd3c6<0x8;_0x1bd3c6++)this[_0x117d0b(0x2ac)][_0x2ce969][_0x1bd3c6]=0x0;}this['teban']=SENTE;for(var _0x364097=0x1;_0x364097<=0x28;_0x364097++){_0x3a9cea=this['square'][_0x364097]=hirate_sqr[_0x364097],this[_0x117d0b(0x1b6)][_0x3a9cea]=_0x364097;}for(var _0x588a54=0x0;_0x588a54<0x8;_0x588a54++)this['motigoma_pn_use'][_0x588a54]=0x0;for(_0x588a54=0x0;_0x588a54<0x8;_0x588a54++){for(_0x2ce969=0x0;_0x2ce969<0x12;_0x2ce969++){this['motigoma_pn'][_0x588a54][_0x2ce969]=0x0;}}this['teai']=HIRATE;}[_0x5bd22d(0x184)](_0x5e72c4){const _0x2ccea4=_0x5bd22d;let _0x445785=this[_0x2ccea4(0x1b6)][_0x5e72c4];this[_0x2ccea4(0x243)][_0x445785]=0x0,this[_0x2ccea4(0x1b6)][_0x5e72c4]=this['board'][_0x5e72c4]=0x0;}[_0x5bd22d(0x21c)](_0x4c2f15){const _0x173f20=_0x5bd22d;if(_0x4c2f15>=SONOTA)return;this[_0x173f20(0x1b8)](),this[_0x173f20(0x39e)]=_0x4c2f15;if(_0x4c2f15!=HIRATE)this['teban']=GOTE;if(_0x4c2f15==KYOTI)this[_0x173f20(0x184)](0xb);else{if(_0x4c2f15==UKYOTI)this[_0x173f20(0x184)](0x5b);else{if(_0x4c2f15==KAOTI)this['erak'](0x16);else{if(_0x4c2f15==HIOTI)this[_0x173f20(0x184)](0x52);else{if(_0x4c2f15==HIKYOTI)this[_0x173f20(0x184)](0x52),this['erak'](0xb);else{if(_0x4c2f15>=NIMAIOTI){this['erak'](0x16),this[_0x173f20(0x184)](0x52);if(_0x4c2f15>=SANMAIOTI){this[_0x173f20(0x184)](0x5b);if(_0x4c2f15>=YOMAIOTI){this[_0x173f20(0x184)](0xb);if(_0x4c2f15==GOMAIOTI)this['erak'](0x51);else{if(_0x4c2f15==GOMAIOTI_HIDARI)this[_0x173f20(0x184)](0x15);else _0x4c2f15>=ROKUMAIOTI&&(this[_0x173f20(0x184)](0x15),this[_0x173f20(0x184)](0x51),_0x4c2f15>=HATIMAIOTI&&(this[_0x173f20(0x184)](0x1f),this[_0x173f20(0x184)](0x47),_0x4c2f15==JYUUMAIOTI&&(this[_0x173f20(0x184)](0x29),this[_0x173f20(0x184)](0x3d))));}}}}}}}}}}[_0x5bd22d(0x302)](){for(let _0x4299db=0x1;_0x4299db<=0x9;_0x4299db++)for(let _0x569123=0x1;_0x569123<=0x9;_0x569123++){this['board'][_0x569123*0xa+_0x4299db]=0x0;}for(let _0x2b4df8=0x0;_0x2b4df8<0x2;_0x2b4df8++){for(let _0x2b94bb=0x0;_0x2b94bb<0x8;_0x2b94bb++)this['motigoma'][_0x2b4df8][_0x2b94bb]=0x0;}}[_0x5bd22d(0x1da)](_0x6f3e94){const _0x16f73d=_0x5bd22d;let _0x3e4532;for(_0x3e4532=0x0;_0x3e4532<=0x63;_0x3e4532++){this[_0x16f73d(0x2ba)][_0x3e4532]=_0x6f3e94['board'][_0x3e4532],this[_0x16f73d(0x1b6)][_0x3e4532]=_0x6f3e94[_0x16f73d(0x1b6)][_0x3e4532];}for(_0x3e4532=0x0;_0x3e4532<0x29;_0x3e4532++)this[_0x16f73d(0x243)][_0x3e4532]=_0x6f3e94[_0x16f73d(0x243)][_0x3e4532];for(_0x3e4532=0x0;_0x3e4532<0x2;_0x3e4532++){for(let _0x45b249=0x0;_0x45b249<0x8;_0x45b249++){this[_0x16f73d(0x2ac)][_0x3e4532][_0x45b249]=_0x6f3e94[_0x16f73d(0x2ac)][_0x3e4532][_0x45b249];}}this[_0x16f73d(0x21f)]=_0x6f3e94['teban'],this['teai']=_0x6f3e94[_0x16f73d(0x39e)];}[_0x5bd22d(0x2c8)](_0x324817){const _0x5b1ff2=_0x5bd22d;_0x324817<0x0&&console[_0x5b1ff2(0x1d4)](_0x5b1ff2(0x37b)+_0x324817);let _0x2d7cce;if(_0x324817>0x63){if((_0x324817&0x10)!=0x0)_0x2d7cce=SENTE|_0x324817&0x7;else _0x2d7cce=_0x324817&0x7;}else _0x2d7cce=this['board'][_0x324817];return _0x2d7cce;}[_0x5bd22d(0x309)](_0x10a47a){const _0x25a666=_0x5bd22d;let _0x485208,_0x2a2a14,_0x13ccbe,_0x42bccc;_0x485208=pice_no[_0x10a47a&0x7][0x0],_0x2a2a14=pice_no[_0x10a47a&0x7][0x1];for(_0x13ccbe=_0x485208,_0x42bccc=0xb;_0x13ccbe<=_0x2a2a14&&_0x42bccc<=0x63;_0x42bccc++){(this['board'][_0x42bccc]&0x7)==_0x10a47a&&this[_0x25a666(0x2ba)][_0x42bccc]!=0xff&&(this[_0x25a666(0x243)][_0x13ccbe]=_0x42bccc,this['piece'][_0x42bccc]=_0x13ccbe,_0x13ccbe++);}let _0x3927f0,_0x27ef8c;this[_0x25a666(0x2f3)][_0x10a47a]=0x0;for(_0x3927f0=0x0;_0x3927f0<this[_0x25a666(0x2ac)][0x0][_0x10a47a];_0x3927f0++){this[_0x25a666(0x243)][_0x13ccbe]=0x0,_0x27ef8c=this[_0x25a666(0x2f3)][_0x10a47a]++,this[_0x25a666(0x343)][_0x10a47a][_0x27ef8c]=_0x13ccbe++;}for(_0x3927f0=0x0;_0x3927f0<this[_0x25a666(0x2ac)][0x1][_0x10a47a];_0x3927f0++){this[_0x25a666(0x243)][_0x13ccbe]=0x0,_0x27ef8c=this['motigoma_pn_use'][_0x10a47a]++,this[_0x25a666(0x343)][_0x10a47a][_0x27ef8c]=_0x13ccbe++;}for(;_0x13ccbe<=_0x2a2a14;_0x13ccbe++)this['square'][_0x13ccbe]=0x0;}[_0x5bd22d(0x390)](){const _0x3bbb7e=_0x5bd22d;let _0x60b7ee;for(_0x60b7ee=0x0;_0x60b7ee<=0x63;_0x60b7ee++)this[_0x3bbb7e(0x1b6)][_0x60b7ee]=0x0;for(let _0x24f0aa=FU;_0x24f0aa<=HI;_0x24f0aa++)this[_0x3bbb7e(0x309)](_0x24f0aa);this[_0x3bbb7e(0x243)][0x27]=0x0;for(_0x60b7ee=0xb;_0x60b7ee<=0x63;_0x60b7ee++)if(this[_0x3bbb7e(0x2ba)][_0x60b7ee]==SGY){this[_0x3bbb7e(0x243)][0x27]=_0x60b7ee,this['piece'][_0x60b7ee]=0x27;break;}this[_0x3bbb7e(0x243)][0x28]=0x0;for(_0x60b7ee=0xb;_0x60b7ee<=0x63;_0x60b7ee++)if(this[_0x3bbb7e(0x2ba)][_0x60b7ee]==GY){this[_0x3bbb7e(0x243)][0x28]=_0x60b7ee,this[_0x3bbb7e(0x1b6)][_0x60b7ee]=0x28;break;}}[_0x5bd22d(0x346)](_0x56b975){const _0x420a00=_0x5bd22d;let _0x3ef8b6=this[_0x420a00(0x1b6)][_0x56b975];this[_0x420a00(0x1b6)][_0x56b975]=0x0;let _0x45b16a=this['board'][_0x56b975];this['square'][_0x3ef8b6]=0x0;if((_0x45b16a&0xf)!=GY){let _0x2c4a9d=(_0x45b16a&0x80)!=0x0?0x0:0x1,_0x151671=_0x45b16a&0x7;this[_0x420a00(0x2ac)][_0x2c4a9d][0x0]++,this[_0x420a00(0x2ac)][_0x2c4a9d][_0x151671]++;let _0x545bd7=this[_0x420a00(0x2f3)][_0x151671]++;this[_0x420a00(0x343)][_0x151671][_0x545bd7]=_0x3ef8b6;}this['board'][_0x56b975]=0x0;}[_0x5bd22d(0x28d)](_0x31be1b,_0x20cedb){const _0x13024a=_0x5bd22d;this[_0x13024a(0x2ba)][_0x20cedb]=_0x31be1b;let _0x494c2e=_0x31be1b&0x7,_0xc60743=(_0x31be1b&0x80)!=0x0?0x1:0x0;if(this[_0x13024a(0x2ac)][_0xc60743][0x0]<=0x0){console[_0x13024a(0x1d4)](_0x13024a(0x222)+this['motigoma'][_0xc60743][0x0]);return;}this[_0x13024a(0x2ac)][_0xc60743][0x0]--,this['motigoma'][_0xc60743][_0x494c2e]--;var _0x572cb6=--this['motigoma_pn_use'][_0x494c2e],_0xb77ce9=this[_0x13024a(0x343)][_0x494c2e][_0x572cb6];this[_0x13024a(0x1b6)][_0x20cedb]=_0xb77ce9,this[_0x13024a(0x243)][_0xb77ce9]=_0x20cedb;}[_0x5bd22d(0x335)](_0x5045e8,_0x267292){const _0x480445=_0x5bd22d;this[_0x480445(0x2ba)][_0x5045e8]==0x0&&console[_0x480445(0x1d4)](_0x480445(0x2ef)+_0x5045e8);let _0x1d43a1=this[_0x480445(0x1b6)][_0x5045e8];this[_0x480445(0x243)][_0x1d43a1]=_0x267292,this[_0x480445(0x2ba)][_0x267292]=this[_0x480445(0x2ba)][_0x5045e8],this[_0x480445(0x2ba)][_0x5045e8]=0x0,this['piece'][_0x5045e8]=0x0,this[_0x480445(0x1b6)][_0x267292]=_0x1d43a1;}[_0x5bd22d(0x312)](_0x580101){const _0xf5b8e6=_0x5bd22d;if(_0x580101['t']<=0xa)return;_0x580101['k']=this[_0xf5b8e6(0x2c8)](_0x580101['f']);(_0x580101['k']==0xff||_0x580101['k']==0x0)&&console['error'](_0xf5b8e6(0x2d4)+_0x580101['f']+_0xf5b8e6(0x27e)+_0x580101['t']+_0xf5b8e6(0x231)+_0x580101['k']);let _0x764caf=_0x580101['t'];(_0x580101['t']&0x80)!=0x0&&(_0x764caf&=0x7f,this['board'][_0x580101['f']]|=0x8);this[_0xf5b8e6(0x2ba)][_0x764caf]>0x0&&this[_0xf5b8e6(0x346)](_0x764caf);if(_0x580101['f']>0x63)this[_0xf5b8e6(0x28d)](_0x580101['k'],_0x764caf);else this[_0xf5b8e6(0x335)](_0x580101['f'],_0x764caf);}[_0x5bd22d(0x37a)](_0x4cd548){const _0x5bca9c=_0x5bd22d;if(_0x4cd548['t']<=0xa)return;let _0xfac84c=_0x4cd548['t'],_0x11af5e=_0x4cd548['k'];(_0x4cd548['t']&0x80)!=0x0&&(_0xfac84c&=0x7f,_0x11af5e&=0x87);_0x4cd548['f']<0x64&&(this['board'][_0x4cd548['f']]=_0x11af5e);this['board'][_0xfac84c]=_0x4cd548['c'];let _0x26a141=0x0;if(_0x4cd548['c']!=0x0){let _0xacc476=(_0x4cd548['c']&0x80)!=0x0?0x0:0x1,_0x3a8388=_0x4cd548['c']&0x7;this[_0x5bca9c(0x2ac)][_0xacc476][0x0]--,this['motigoma'][_0xacc476][_0x3a8388]--;let _0x20e175=--this['motigoma_pn_use'][_0x3a8388];_0x26a141=this[_0x5bca9c(0x343)][_0x3a8388][_0x20e175],this[_0x5bca9c(0x243)][_0x26a141]=_0xfac84c;}if(_0x4cd548['f']>0x63){let _0x1e507d=(_0x4cd548['k']&0x80)!=0x0?0x1:0x0,_0x164664=_0x4cd548['k']&0x7;this[_0x5bca9c(0x2ac)][_0x1e507d][0x0]++,this[_0x5bca9c(0x2ac)][_0x1e507d][_0x164664]++;let _0x4609e5=this[_0x5bca9c(0x2f3)][_0x164664]++,_0x59886c=this[_0x5bca9c(0x343)][_0x164664][_0x4609e5]=this[_0x5bca9c(0x1b6)][_0x4cd548['t']];this['piece'][_0xfac84c]=_0x26a141,this[_0x5bca9c(0x243)][_0x59886c]=0x0;}else{let _0x3ee0b5=this['piece'][_0x4cd548['f']]=this[_0x5bca9c(0x1b6)][_0xfac84c];this[_0x5bca9c(0x1b6)][_0xfac84c]=_0x26a141,this[_0x5bca9c(0x243)][_0x3ee0b5]=_0x4cd548['f'];}}[_0x5bd22d(0x1e8)](_0x676ee4){const _0x336633=_0x5bd22d;if(_0x676ee4[_0x336633(0x23a)]<=0x0)return;let _0x41619c=_0x676ee4[_0x336633(0x30b)](_0x676ee4['move_no']);if(_0x41619c==null){console[_0x336633(0x1d4)](_0x336633(0x33e)+_0x676ee4['move_no']);return;}if(_0x41619c['t']>=0xb)this['flip_teban']();let _0x4a99c2=new Kifup();_0x4a99c2['f']=_0x41619c['f'],_0x4a99c2['t']=_0x41619c['t'],_0x4a99c2['k']=_0x41619c['k'],_0x4a99c2['c']=_0x41619c['c'],this[_0x336633(0x37a)](_0x4a99c2),_0x676ee4[_0x336633(0x252)]();return;}[_0x5bd22d(0x1f5)](_0x549a64,_0x42d894){const _0x4be626=_0x5bd22d;while(_0x549a64[_0x4be626(0x23a)]>_0x42d894&&_0x549a64[_0x4be626(0x23a)]>0x0){this[_0x4be626(0x1e8)](_0x549a64);}}[_0x5bd22d(0x1d5)](_0x1ed638,_0x518f61){const _0x239bb7=_0x5bd22d;if(_0x1ed638>0x63)return console[_0x239bb7(0x186)](_0x239bb7(0x224)+_0x1ed638),0x0;let _0xf2a1cb=this[_0x239bb7(0x2ba)][_0x1ed638],_0x5f486a=_0xf2a1cb&0x80,_0x172f5f=_0xf2a1cb&0xf,_0x43c679=kiki_n[_0x172f5f];for(var _0x448a76=0x0;_0x448a76<_0x43c679;_0x448a76++){let _0x41fe55=kiki_vec[_0x172f5f][_0x448a76];if(_0x5f486a!=0x0)_0x41fe55=-_0x41fe55;let _0x226bd8=_0x1ed638+_0x41fe55;if(_0x226bd8==_0x518f61)return 0x1;if(kiki_long[_0x172f5f][_0x448a76]!=0x0&&this[_0x239bb7(0x2ba)][_0x226bd8]==0x0)for(_0x226bd8+=_0x41fe55;;_0x226bd8+=_0x41fe55){if(_0x226bd8>0x63||_0x226bd8<0xb)break;if(_0x226bd8==_0x518f61)return 0x1;if(this[_0x239bb7(0x2ba)][_0x226bd8]!=0x0)break;}}return 0x0;}[_0x5bd22d(0x211)](_0x5ed60b,_0x27901d,_0xece175,_0x279932){const _0x5c4b43=_0x5bd22d;let _0x43bf7b=0x0;for(let _0x395730=0x1;_0x395730<=0x28;_0x395730++){let _0x351711=this[_0x5c4b43(0x243)][_0x395730];if(_0x351711==0x0||_0x351711==_0x5ed60b)continue;let _0x10463b=this['board'][_0x351711];if((_0x10463b&0x80)!=_0x27901d)continue;if(this[_0x5c4b43(0x1d5)](_0x351711,_0x5ed60b)!=0x0){_0x279932[++_0x43bf7b]=_0x351711;if(_0x43bf7b>=_0xece175)break;}}return _0x279932[0x0]=_0x43bf7b;}[_0x5bd22d(0x2a3)](_0x480820,_0x16d997){const _0x114f70=_0x5bd22d;_0x16d997&=0x7f;_0x16d997>0x63&&console[_0x114f70(0x1d4)](_0x114f70(0x36c)+_0x16d997);let _0x571614=_0x16d997-_0x480820,_0x28b4ad;if(_0x571614>=0x0)_0x28b4ad=_0x571614;else _0x28b4ad=-_0x571614;if(_0x28b4ad==0xc)return _0x571614;if(_0x28b4ad==0x8)return _0x571614;let _0x33c654=parseInt(_0x480820/0xa),_0x804fd0=parseInt(_0x16d997/0xa);if(_0x33c654==_0x804fd0){if(_0x571614>0x0)return 0x1;else return-0x1;}let _0x3cd234=_0x480820%0xa,_0xbc445f=_0x16d997%0xa;if(_0x3cd234==_0xbc445f){if(_0x571614>0x0)return 0xa;else return-0xa;}if(_0x33c654+_0x3cd234==_0x804fd0+_0xbc445f){if(_0x571614>0x0)return 0x9;else return-0x9;}if(_0x33c654-_0x3cd234==_0x804fd0-_0xbc445f){if(_0x571614>0x0)return 0xb;else return-0xb;}return 0x64;}[_0x5bd22d(0x236)](_0xe42ee6,_0x211a7b,_0x5a66de){if(_0xe42ee6>0x63||(_0x211a7b&0x80)!=0x0)return 0x0;let _0x2da0dd=_0x5a66de&0xf;if(_0x2da0dd>=GY||_0x2da0dd==KI)return 0x0;var _0x1d944c=_0x211a7b%0xa;let _0x555b22=_0xe42ee6%0xa;if((_0x5a66de&0x80)==0x0){if(_0x1d944c<0x7&&_0x555b22<0x7)return 0x0;if(_0x2da0dd<=KY){if(_0x1d944c==0x9)return 0x2;}else{if(_0x2da0dd==KE){if(_0x1d944c>0x7)return 0x2;}}}else{if(_0x1d944c>0x3&&_0x555b22>0x3)return 0x0;if(_0x2da0dd<=KY){if(_0x1d944c==0x1)return 0x2;}else{if(_0x2da0dd==KE){if(_0x1d944c<0x3)return 0x2;}}}return 0x1;}}const KIFU_MAX=0x640,TORYO=0x0,CHUDAN=0x1,HANSOKU_MAKE=0x2,HANSOKU_KACHI=0x3,JISHOGI=0x4,KACHI=0x5,SENNITITE=0x6,KIREMAKE=0x7,SENTE_HANSOKU=0x8,GOTE_HANSOKU=0x9,TUMI=0xa,AGARU=0x3,HIKI=0x4,SUGU=0x5,YORI=0x6,MIGI=0x7,HIDARI=0x8,MIGIHIKI=0x9,MIGIYORI=0xa,MIGIAGARU=0xb,HIDARIHIKI=0xc,HIDARIYORI=0xd,HIDARIAGARU=0xe,kdirs=[[-0xc,-0xb,-0xa,-0x9,-0x1,0x1,0x8,0x9,0xa,0xb],[0x0],[-0xb,-0x1,0x9,0x0],[-0xb,-0x1,0x9,0x0],[+0xb,0x1,-0x9,0x0],[-0x1,0x0],[-0xa,0xa,0x0],[0x8,0x9,0xa,0xb,-0x1,0x1,0x0],[-0x9,-0xa,-0xb,-0xc,-0x1,0x1,0x0],[0xb,0x0],[0xa,0x0],[0x9,0x0],[-0x9,0x0],[-0xa,0x0],[-0xb,0x0]];class Kifup{constructor(){const _0x130b50=_0x5bd22d;this['f']=0x0,this['t']=0x0,this['c']=0x0,this[_0x130b50(0x325)]=null,this[_0x130b50(0x266)]=null,this['branch']=null;}}class KifuData{constructor(){const _0x12b027=_0x5bd22d;this[_0x12b027(0x171)]=new Array(KIFU_MAX),this[_0x12b027(0x23a)]=0x0,this[_0x12b027(0x187)](),this[_0x12b027(0x338)](),this[_0x12b027(0x2cf)]=0x0,this[_0x12b027(0x36b)]=0x0;}[_0x5bd22d(0x1cc)](){const _0x28bd25=_0x5bd22d;this[_0x28bd25(0x23a)]=0x0,this[_0x28bd25(0x31e)]=this['kifu_root'];}['back'](){const _0x469f23=_0x5bd22d;if(this['move_no']<=0x0){console[_0x469f23(0x1d4)](_0x469f23(0x191));return;}this[_0x469f23(0x23a)]--,this[_0x469f23(0x31e)]=this[_0x469f23(0x2ff)](this[_0x469f23(0x31e)]);}[_0x5bd22d(0x187)](){const _0x5bfc0f=_0x5bd22d;for(let _0x1f724f=0x0;_0x1f724f<KIFU_MAX;_0x1f724f++){let _0x131985=new Kifup();this['kifu_array'][_0x1f724f]=_0x131985;}this['kifu_root']=this['current_p']=this[_0x5bfc0f(0x171)][0x0],this[_0x5bfc0f(0x1cc)]();}[_0x5bd22d(0x182)](){const _0x58529f=_0x5bd22d;console[_0x58529f(0x186)](_0x58529f(0x267)+this[_0x58529f(0x171)][0x0]['f']+_0x58529f(0x27e)+this[_0x58529f(0x171)][0x0]['t']),console[_0x58529f(0x186)]('kifu_array[1]:f='+this[_0x58529f(0x171)][0x1]['f']+_0x58529f(0x27e)+this[_0x58529f(0x171)][0x1]['t']);}[_0x5bd22d(0x338)](){const _0x2a18ed=_0x5bd22d;this[_0x2a18ed(0x387)]=0x0,this['sente_name']='',this[_0x2a18ed(0x269)]='',this[_0x2a18ed(0x16e)]='',this[_0x2a18ed(0x203)]='',this[_0x2a18ed(0x242)]='',this[_0x2a18ed(0x2f4)]='',this[_0x2a18ed(0x284)]='',this[_0x2a18ed(0x281)]='',this['motijikan']='',this[_0x2a18ed(0x225)]='',this[_0x2a18ed(0x36a)]='',this['syutten']='',this[_0x2a18ed(0x328)]='',this['happyoushi']='';}[_0x5bd22d(0x2ff)](_0x177e3){const _0x4542f2=_0x5bd22d;if(_0x177e3==this[_0x4542f2(0x294)]||_0x177e3==null)return null;for(let _0x2ef65f=0x0;_0x2ef65f<KIFU_MAX;_0x2ef65f++){let _0x549195=this[_0x4542f2(0x171)][_0x2ef65f];if(_0x549195[_0x4542f2(0x266)]==_0x177e3)return _0x549195;if(_0x549195[_0x4542f2(0x17d)]==_0x177e3)return this[_0x4542f2(0x2ff)](_0x549195);}return null;}[_0x5bd22d(0x208)](){const _0x1dd852=_0x5bd22d;if(this['current_p']==null)return 0x0;let _0x5a767a=0x0,_0x2c01e6;for(_0x2c01e6=this[_0x1dd852(0x31e)];;_0x5a767a++){_0x2c01e6=this['find_oya'](_0x2c01e6);if(_0x2c01e6==null)break;}for(_0x2c01e6=this[_0x1dd852(0x31e)];;_0x5a767a++){_0x2c01e6=_0x2c01e6[_0x1dd852(0x266)];if(_0x2c01e6==null)break;}return _0x5a767a;}[_0x5bd22d(0x181)](_0x27c6d9){const _0xb2aae3=_0x5bd22d;if(_0x27c6d9==null)return 0x0;let _0x141330=0x0,_0x5a8b16=0x0;for(;;){if(_0x27c6d9==null||_0x27c6d9==this[_0xb2aae3(0x294)])break;if((_0x5a8b16&0x1)==0x0)_0x141330+=_0x27c6d9[_0xb2aae3(0x1bf)];_0x27c6d9=this[_0xb2aae3(0x2ff)](_0x27c6d9),_0x5a8b16++;}return _0x141330;}['is_chess_clock'](){const _0x3d61ca=_0x5bd22d;for(let _0xe50318=this[_0x3d61ca(0x294)];;){if(_0xe50318==null)break;if(_0xe50318!=this[_0x3d61ca(0x294)]){if(_0xe50318['f']==0x0&&_0xe50318['t']==0x0)break;if(_0xe50318['time']%0x3c!=0x0)return 0x1;}_0xe50318=_0xe50318['next'];}return 0x0;}['get_main_all_time'](){const _0x56db3a=_0x5bd22d;let _0x2ced95=0x0;for(let _0x396382=this[_0x56db3a(0x294)];;){if(_0x396382==null)break;if(_0x396382!=this[_0x56db3a(0x294)]){if(_0x396382['f']==0x0&&_0x396382['t']==0x0)break;_0x2ced95+=_0x396382[_0x56db3a(0x1bf)];}_0x396382=_0x396382[_0x56db3a(0x266)];}return _0x2ced95;}[_0x5bd22d(0x30b)](_0x426846){const _0x2056ff=_0x5bd22d;if(_0x426846<0x0)return console[_0x2056ff(0x186)](_0x2056ff(0x262)+_0x426846),null;if(_0x426846==0x0)return this['kifu_root'];if(_0x426846==this['move_no'])return this[_0x2056ff(0x31e)];if(this[_0x2056ff(0x31e)]==null)return null;let _0x2f5477=this['current_p'],_0x1bd9c9=this[_0x2056ff(0x23a)];if(_0x426846>this[_0x2056ff(0x23a)])for(;;){_0x2f5477=_0x2f5477[_0x2056ff(0x266)];if(_0x2f5477==null)return console[_0x2056ff(0x1d4)](_0x2056ff(0x262)+_0x426846+'\x20move_no2='+_0x1bd9c9),null;_0x1bd9c9++;if(_0x426846==_0x1bd9c9)return _0x2f5477;}else for(;;){_0x2f5477=this[_0x2056ff(0x2ff)](_0x2f5477);if(_0x2f5477==null)return console[_0x2056ff(0x1d4)](_0x2056ff(0x262)+_0x426846+'\x20move_no2='+_0x1bd9c9),null;_0x1bd9c9--;if(_0x426846==_0x1bd9c9)return _0x2f5477;}return null;}['get_next_move'](){const _0x1d5295=_0x5bd22d;let _0x57a82f=new Kifup();if(this[_0x1d5295(0x31e)]==null)return _0x57a82f['f']=_0x57a82f['t']=0x0,_0x57a82f;let _0x4ad3cc=this[_0x1d5295(0x31e)][_0x1d5295(0x266)];if(_0x4ad3cc==null)return _0x57a82f['f']=_0x57a82f['t']=0x0,_0x57a82f;return _0x57a82f['f']=_0x4ad3cc['f'],_0x57a82f['t']=_0x4ad3cc['t'],_0x57a82f;}[_0x5bd22d(0x2fb)](){const _0x98cb8c=_0x5bd22d;let _0x3468c4=new Kifup();if(this[_0x98cb8c(0x31e)]==null||this[_0x98cb8c(0x31e)]==this[_0x98cb8c(0x294)])_0x3468c4['f']=_0x3468c4['t']=0x0;else{_0x3468c4['f']=this['current_p']['f'],_0x3468c4['t']=this[_0x98cb8c(0x31e)]['t'];if(_0x3468c4['t']<0xb){let _0x5e271a=this[_0x98cb8c(0x2ff)](this['current_p']);_0x5e271a==null||_0x5e271a==this[_0x98cb8c(0x294)]?_0x3468c4['f']=_0x3468c4['t']=0x0:(_0x3468c4['f']=_0x5e271a['f'],_0x3468c4['t']=_0x5e271a['t']);}}return _0x3468c4;}[_0x5bd22d(0x1ea)](_0x1796f7){const _0x43741c=_0x5bd22d;if(this[_0x43741c(0x31e)]==null)return console[_0x43741c(0x1d4)]('***current_p_susumeru\x20current=null'),-0x1;var _0x26cfa7=this['current_p'][_0x43741c(0x266)];if(_0x26cfa7==null)return console[_0x43741c(0x1d4)](_0x43741c(0x2e2)),-0x1;if(_0x1796f7['f']==_0x26cfa7['f']&&_0x1796f7['t']==_0x26cfa7['t'])return this[_0x43741c(0x31e)]=_0x26cfa7,0x0;_0x26cfa7=_0x26cfa7[_0x43741c(0x17d)];for(;;){if(_0x26cfa7==null)return console[_0x43741c(0x1d4)](_0x43741c(0x223)),-0x1;if(_0x1796f7['f']==_0x26cfa7['f']&&_0x1796f7['t']==_0x26cfa7['t'])return this[_0x43741c(0x31e)]=_0x26cfa7,0x0;_0x26cfa7=_0x26cfa7[_0x43741c(0x17d)];}return-0x1;}[_0x5bd22d(0x217)](){const _0x18cfdf=_0x5bd22d;let _0x41d6d0=this[_0x18cfdf(0x27c)]();if(_0x41d6d0['t']<0xb)return 0x0;if(_0x41d6d0['f']!=0x0)return 0x1;return 0x0;}[_0x5bd22d(0x1d8)](){const _0x33f49f=_0x5bd22d;for(let _0x42f443=this[_0x33f49f(0x294)];;){if(_0x42f443==null)break;if(_0x42f443!=this['kifu_root']){if(_0x42f443['f']==0x0&&_0x42f443['t']==0x0)break;if(_0x42f443['f']!=0x0&&_0x42f443['t']<0xb)return 0x1;}_0x42f443=_0x42f443['next'];}return 0x0;}[_0x5bd22d(0x1ff)](){}[_0x5bd22d(0x2ce)](){const _0x5bcff4=_0x5bd22d;if(this[_0x5bcff4(0x36b)]==0x0)return 0x0;if(this[_0x5bcff4(0x31e)]==null)return 0x0;let _0x1a499a=this[_0x5bcff4(0x31e)][_0x5bcff4(0x266)];if(_0x1a499a==null)return 0x0;if(_0x1a499a[_0x5bcff4(0x17d)]!=null)return 0x1;return 0x0;}[_0x5bd22d(0x327)](_0x588151){const _0x1927ba=_0x5bd22d;if(this[_0x1927ba(0x36b)]==0x0)return 0x0;let _0xb90843=this['get_kifup'](_0x588151);if(_0xb90843==null)return 0x0;if(_0xb90843['branch']!=null)return 0x1;let _0x383536=this[_0x1927ba(0x2ff)](_0xb90843);if(_0x383536==null)return 0x0;if(_0x383536[_0x1927ba(0x266)]==_0xb90843)return 0x0;if(_0x383536['next'][_0x1927ba(0x17d)]!=null)return 0x1;return 0x0;}[_0x5bd22d(0x1d6)](_0x351123){const _0x28d138=_0x5bd22d;if(_0x351123==null)return 0x0;let _0x2598c5;for(_0x2598c5=_0x351123;;){let _0x545627=this[_0x28d138(0x2ff)](_0x2598c5);if(_0x545627==null)break;if(_0x545627[_0x28d138(0x266)]!=_0x2598c5)return 0x1;if(_0x545627==this[_0x28d138(0x294)])break;_0x2598c5=_0x545627;}return 0x0;}['get_comment'](_0x25d208){const _0x4fd623=_0x5bd22d;let _0x498cf0=this[_0x4fd623(0x30b)](_0x25d208);if(_0x498cf0==null)return null;return _0x498cf0[_0x4fd623(0x325)];}['add_comment'](_0x387a75,_0x44efaa){const _0x35d3f8=_0x5bd22d;let _0x40c0e2=this[_0x35d3f8(0x30b)](_0x387a75);if(_0x40c0e2==null)return-0x4;let _0x51ebab=_0x40c0e2[_0x35d3f8(0x325)];return _0x51ebab==null?_0x40c0e2[_0x35d3f8(0x325)]=_0x44efaa:_0x40c0e2[_0x35d3f8(0x325)]+='\x0a'+_0x44efaa,0x0;}[_0x5bd22d(0x2a2)](){const _0x268e20=_0x5bd22d;let _0xfddcb1=this[_0x268e20(0x26d)];if(_0xfddcb1==null)return 0x0;if(_0xfddcb1[_0x268e20(0x227)]('各')==0x0){_0xfddcb1=_0xfddcb1[_0x268e20(0x221)](0x1);if(_0xfddcb1==null)return 0x0;}let _0x2fe5d8;if(_0xfddcb1[_0x268e20(0x315)](0x0)>='0'&&_0xfddcb1[_0x268e20(0x315)](0x0)<='9')_0x2fe5d8=parseInt(_0xfddcb1[_0x268e20(0x315)](0x0));else _0x2fe5d8=get_zen_num(_0xfddcb1);let _0x43912c=0x0,_0xe5855e=_0xfddcb1['indexOf']('分');if(_0xe5855e>=0x0){let _0x23d6d6=_0xfddcb1[_0x268e20(0x227)]('時間');if(_0x23d6d6>=0x0){if(_0xfddcb1['charAt'](_0x23d6d6+0x2)>='0'&&_0xfddcb1[_0x268e20(0x315)](_0x23d6d6+0x2)<='9'){let _0x235157=parseInt(_0xfddcb1[_0x268e20(0x315)](_0x23d6d6+0x2));if(isNaN(_0x235157))return 0x0;if(_0xfddcb1[_0x268e20(0x315)](_0x23d6d6+0x3)>='0'&&_0xfddcb1[_0x268e20(0x315)](_0x23d6d6+0x3)<='9'){let _0x1cd9f8=parseInt(_0xfddcb1[_0x268e20(0x315)](_0x23d6d6+0x3));if(isNaN(_0x1cd9f8))return 0x0;_0x43912c=_0x235157*0xa+_0x1cd9f8;}else _0x43912c=_0x235157;}}else _0x2fe5d8=0x0,_0x43912c=parseInt(_0xfddcb1);}return _0x2fe5d8*0x3c+_0x43912c;}[_0x5bd22d(0x336)](_0x6afaaf,_0x52a8df){let _0x2b426f=0x0,_0x6e814=0x0;for(var _0x27f75b=0xb;_0x27f75b<=0x63;_0x27f75b++){if(_0x6afaaf['board'][_0x27f75b]==_0x52a8df){if(_0x2b426f==0x0)_0x2b426f=_0x27f75b;else _0x6e814=_0x27f75b;}}let _0x12eb0f=new Point();return _0x12eb0f['x']=_0x2b426f,_0x12eb0f['y']=_0x6e814,_0x12eb0f;}[_0x5bd22d(0x1be)](_0x1e44ee,_0x464e1b,_0x2b6945,_0x4ff568,_0x11cf34,_0xc0998c,_0x47b9b1,_0x33208b){const _0x3aed11=_0x5bd22d;let _0x3a5bc3=_0x11cf34&0xf;if((_0x3a5bc3==RY||_0x3a5bc3==UM)&&(_0xc0998c==MIGI||_0xc0998c==HIDARI)){let _0x298a77=this[_0x3aed11(0x336)](_0x1e44ee,_0x11cf34),_0x2a05e9=parseInt(_0x298a77['x']/0xa),_0x4c7879=parseInt(_0x298a77['y']/0xa);if(_0x298a77['y']>0x0&&_0x2a05e9!=_0x4c7879)return _0xc0998c;}let _0x20617e=_0x47b9b1[0x0];for(let _0x4231ab=0x1;_0x4231ab<=_0x20617e;_0x4231ab++){let _0x5281eb=_0x47b9b1[_0x4231ab];if(_0x5281eb==_0x2b6945)continue;if(_0x1e44ee[_0x3aed11(0x2ba)][_0x5281eb]==_0x11cf34){let _0x2de1f6=_0x1e44ee[_0x3aed11(0x2a3)](_0x5281eb,_0x4ff568);for(let _0x5ac884=0x0;_0x5ac884<0xa;_0x5ac884++){let _0x8005df=kdirs[_0xc0998c][_0x5ac884];if(_0x8005df==0x0)break;if(_0x33208b==0x0&&(_0xc0998c==MIGI||_0xc0998c==HIDARI)&&_0x8005df==-0x1)break;if(_0x464e1b==GOTE)_0x8005df=-_0x8005df;if(_0x8005df==_0x2de1f6)return 0x0;}}}return _0xc0998c;}[_0x5bd22d(0x23d)](_0x48b298,_0x199d1d,_0x5b894a,_0x4d41ac,_0x2161b7,_0x264bb2){const _0x1f2f3e=_0x5bd22d;let _0x31eff9=_0x264bb2['f'],_0x1c4b4b=_0x48b298[_0x1f2f3e(0x2ba)][_0x31eff9],_0x43e5f9=_0x1c4b4b&0xf;if(_0x31eff9!=0x0&&(_0x43e5f9==RY||_0x43e5f9==UM)){let _0x177fa8=this[_0x1f2f3e(0x336)](_0x48b298,_0x1c4b4b),_0x342524=_0x177fa8['x'],_0x7f02f3=_0x177fa8['y'],_0x443e45=parseInt(_0x342524/0xa),_0x445436=parseInt(_0x7f02f3/0xa);if(_0x7f02f3>0x0&&_0x443e45!=_0x445436){let _0x61052=_0x264bb2['t']&0x7f,_0x2a5ddb=_0x61052%0xa,_0x35229a=_0x342524%0xa,_0x3edd9e=_0x7f02f3%0xa;if(_0x35229a>_0x2a5ddb&&_0x3edd9e>_0x2a5ddb||_0x35229a<_0x2a5ddb&&_0x3edd9e<_0x2a5ddb){var _0x3f5a79=parseInt(_0x31eff9/0xa);if(_0x1c4b4b&0x80){if(_0x31eff9==_0x342524){if(_0x3f5a79>_0x445436)return HIDARI;else return MIGI;}else{if(_0x3f5a79>_0x443e45)return HIDARI;else return MIGI;}}else{if(_0x31eff9==_0x342524){if(_0x3f5a79>_0x445436)return MIGI;else return HIDARI;}else{if(_0x3f5a79>_0x443e45)return MIGI;else return HIDARI;}}}}}for(;_0x2161b7<=0xe;_0x2161b7++){if(_0x5b894a&&_0x2161b7==SUGU)continue;for(let _0x2e95be=0x0;_0x2e95be<0xa;_0x2e95be++){let _0x725007=kdirs[_0x2161b7][_0x2e95be];if(_0x725007==0x0)break;if(_0x5b894a==0x0&&(_0x2161b7==MIGI||_0x2161b7==HIDARI)&&_0x725007==-0x1)break;if(_0x199d1d==GOTE)_0x725007=-_0x725007;if(_0x725007==_0x4d41ac){if((_0x43e5f9==RY||_0x43e5f9==UM)&&(_0x2161b7==MIGIHIKI||_0x2161b7==MIGIAGARU||_0x2161b7==HIDARIHIKI||_0x2161b7==HIDARIAGARU)){let _0x53af60=this[_0x1f2f3e(0x336)](_0x48b298,_0x1c4b4b),_0x3ee590=_0x53af60['x'],_0x23ebe3=_0x53af60['y'],_0x20e92d=_0x3ee590%0xa,_0x16029e=_0x23ebe3%0xa;if(_0x23ebe3>0x0&&_0x20e92d==_0x16029e){if(_0x2161b7==MIGIHIKI||_0x2161b7==MIGIAGARU)return MIGI;return HIDARI;}}return _0x2161b7;}}}return 0x0;}[_0x5bd22d(0x264)](_0x4c71b6,_0x4fc7a0){const _0x5191f0=_0x5bd22d;let _0x5bb0b4=new Array(0x14),_0x485bcd=_0x4fc7a0['f'],_0x4deceb=_0x4c71b6['FromToK'](_0x485bcd),_0x49012a;if((_0x4deceb&0x6)==0x6)_0x49012a=0x1;else _0x49012a=0x0;let _0x5edffa=_0x4deceb&0x80,_0x335d04=_0x4fc7a0['t'],_0x1697a9=_0x335d04&0x7f,_0x534e38=0x0;if((_0x335d04&0x80)==0x0&&_0x4c71b6[_0x5191f0(0x236)](_0x485bcd,_0x1697a9,_0x4deceb)!=0x0)_0x534e38=0x40;let _0x1e53fc=_0x4c71b6[_0x5191f0(0x211)](_0x1697a9,_0x5edffa,0xa,_0x5bb0b4),_0x3c032b;if((_0x335d04&0x80)!=0x0)_0x3c032b=_0x4deceb&0x87;else _0x3c032b=_0x4deceb;let _0x39f325=0x0;for(let _0x41ba77=0x1;_0x41ba77<=_0x1e53fc;_0x41ba77++){let _0x31fd16=_0x5bb0b4[_0x41ba77];if(_0x31fd16==_0x485bcd)continue;if(_0x4c71b6[_0x5191f0(0x2ba)][_0x31fd16]==_0x3c032b){_0x39f325++;break;}}let _0x1d830e;if(_0x39f325==0x0)return _0x1d830e=0x1,_0x1d830e|_0x534e38;if(_0x485bcd>0x63)return _0x534e38;let _0x1d530d=_0x4c71b6['caldir'](_0x485bcd,_0x1697a9);for(let _0x50aae6=0x3;;_0x50aae6++){_0x50aae6=this['set_modify_sub'](_0x4c71b6,_0x5edffa,_0x49012a,_0x1d530d,_0x50aae6,_0x4fc7a0);if(_0x50aae6==0x0)return console['error'](_0x5191f0(0x333)+_0x485bcd),_0x534e38;let _0x4d0d09=this[_0x5191f0(0x1be)](_0x4c71b6,_0x5edffa,_0x485bcd,_0x1697a9,_0x4deceb,_0x50aae6,_0x5bb0b4,_0x49012a);if(_0x4d0d09!=0x0){_0x1d830e=_0x4d0d09;break;}}return _0x1d830e|_0x534e38;}['set_modify_kp'](_0x187c8b,_0x5dc395,_0x5af4e7){const _0x158d0a=_0x5bd22d;_0x5dc395[_0x158d0a(0x2cd)]=this['set_modify'](_0x187c8b,_0x5af4e7);}[_0x5bd22d(0x32a)](){const _0x2e11f0=_0x5bd22d;for(let _0x464691=0x1;_0x464691<KIFU_MAX;_0x464691++){if(this['kifu_array'][_0x464691]['f']==0x0)return this[_0x2e11f0(0x171)][_0x464691];}return console[_0x2e11f0(0x1d4)]('***\x20get_new_kp\x20error'),null;}[_0x5bd22d(0x177)](_0x2b10d8,_0x444e05,_0x4304ea,_0x5dfea4){const _0x38b700=_0x5bd22d;typeof _0x4304ea['k']===_0x38b700(0x24c)&&console[_0x38b700(0x1d4)](_0x38b700(0x176));if(this[_0x38b700(0x31e)]==null)return console[_0x38b700(0x1d4)]('**\x20store\x20current_p=null\x0a'),-0x1;let _0x1c6841=this[_0x38b700(0x31e)][_0x38b700(0x266)],_0x67a444;if(_0x1c6841==null){_0x67a444=this['get_new_kp']();if(_0x67a444==null)return-0x1;this[_0x38b700(0x31e)][_0x38b700(0x266)]=_0x67a444;}else{if(_0x1c6841['t']==CHUDAN)_0x67a444=_0x1c6841;else{if(_0x1c6841['t']<0xb&&_0x4304ea['t']<0xb)_0x67a444=_0x1c6841;else{if(_0x1c6841['f']==_0x4304ea['f']&&_0x1c6841['t']==_0x4304ea['t'])_0x67a444=_0x1c6841;else{if(_0x4304ea['t']==CHUDAN)return 0x0;let _0x1e9d73=_0x1c6841;for(;;){if(_0x1e9d73['branch']==null){_0x67a444=this[_0x38b700(0x32a)]();if(_0x67a444==null)return-0x1;_0x1e9d73['branch']=_0x67a444;break;}_0x1e9d73=_0x1e9d73['branch'];if(_0x1e9d73['f']==_0x4304ea['f']&&_0x1e9d73['t']==_0x4304ea['t']){_0x67a444=_0x1e9d73;break;}}}}}}if(_0x67a444==null)return console[_0x38b700(0x1d4)]('***\x20store\x20kp\x20==\x20null\x0a'),-0x1;return _0x67a444['f']=_0x4304ea['f'],_0x67a444['k']=_0x4304ea['k'],_0x67a444['t']=_0x4304ea['t'],_0x4304ea['t']>0xa?_0x67a444['c']=_0x2b10d8[_0x38b700(0x2ba)][_0x4304ea['t']&0x7f]:(_0x67a444['c']=0x0,_0x67a444['f']=0x1),this['current_p']=_0x67a444,this[_0x38b700(0x33a)](_0x2b10d8,_0x67a444,_0x4304ea),_0x67a444['time']=_0x5dfea4,0x0;}[_0x5bd22d(0x319)](_0x57f63f,_0x2d4471,_0x2c4153,_0x4f82db){const _0x5436fc=_0x5bd22d;typeof _0x2c4153['k']==='undefined'&&console[_0x5436fc(0x1d4)](_0x5436fc(0x21b));if(_0x2c4153['t']==CHUDAN)return 0x0;if(_0x2d4471[_0x5436fc(0x21f)]==SENTE){if((this[_0x5436fc(0x23a)]&0x1)==0x0)_0x2c4153['k']|=SENTE;}else{if((this['move_no']&0x1)!=0x0)_0x2c4153['k']|=SENTE;}if(_0x2c4153['t']<0xb){let _0x173107=this['store'](_0x57f63f,_0x2d4471,_0x2c4153,_0x4f82db);return this['move_no']++,_0x173107;}if(_0x2c4153['f']==0x0){if(_0x57f63f[_0x5436fc(0x21f)])_0x2c4153['f']=0x90|_0x2c4153['k']&0x7;else _0x2c4153['f']=0x80|_0x2c4153['k']&0x7;}else _0x2c4153['k']=_0x57f63f[_0x5436fc(0x2c8)](_0x2c4153['f']),typeof _0x2c4153['k']==='undefined'&&console[_0x5436fc(0x1d4)]('**\x20store_kifu\x20move.k\x20===\x20\x27undefined\x27\x0a\x20f='+_0x2c4153['f']);let _0x19ade4=_0x57f63f[_0x5436fc(0x2ba)][_0x2c4153['t']&0x7f];if(_0x2c4153['f']>0x63){if(_0x19ade4!=0x0)return console[_0x5436fc(0x1d4)](_0x5436fc(0x388)),-0x1;if((_0x2c4153['t']&0x80)!=0x0)return console[_0x5436fc(0x1d4)]('***\x20打って成る'),-0x1;}else{if(_0x2c4153['t']>0xa){if(_0x57f63f[_0x5436fc(0x2ba)][_0x2c4153['f']]==0x0)return console[_0x5436fc(0x1d4)](_0x5436fc(0x2a1)+_0x2c4153['f']+_0x5436fc(0x257)+_0x57f63f[_0x5436fc(0x2ba)][_0x2c4153['f']]),-0x1;if(_0x19ade4!=0x0){if((_0x57f63f['board'][_0x2c4153['f']]&0x80)==(_0x19ade4&0x80))return console['error'](_0x5436fc(0x2c3)+_0x19ade4+_0x5436fc(0x257)+_0x57f63f[_0x5436fc(0x2ba)][_0x2c4153['f']]),-0x1;}}}let _0x670c1=this[_0x5436fc(0x177)](_0x57f63f,_0x2d4471,_0x2c4153,_0x4f82db);if(_0x670c1!=0x0)return-0x2;_0x57f63f[_0x5436fc(0x312)](_0x2c4153),this[_0x5436fc(0x23a)]++;if(_0x2c4153['t']>0xa)_0x57f63f[_0x5436fc(0x322)]();return 0x0;}[_0x5bd22d(0x1d9)](_0x14d7b3,_0x2c9843,_0x277b6c,_0x4b9a17,_0x48e429,_0x1644bf,_0x23f79c,_0x35b3dd){const _0x444a11=_0x5bd22d,_0x48367d=['０','１','２','３','４','５','６','７','８','９'],_0x43f867=['零','一','二','三','四','五','六','七','八','九'],_0x434aca=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','杏','圭','全','金','馬','龍'],_0x176f60=['','','行','上','引','直','寄','右','左','右引','右寄','右上','左引','左寄','左上'];let _0x18a55e;if(_0x23f79c==0x0)_0x18a55e='';else{if((_0x277b6c&0x80)!=0x0){if(_0x23f79c==0x3)_0x18a55e='☗';else _0x18a55e='▲';}else{if(_0x23f79c==0x3)_0x18a55e='☖';else{if(_0x23f79c==0x1)_0x18a55e='△';else _0x18a55e='▽';}}}_0x277b6c&=0xf;let _0x4f8a03=_0x2c9843&0x7f,_0x464de4='';if(_0x2c9843==TORYO)_0x464de4='投了';else{if(_0x2c9843==CHUDAN)_0x464de4='中断';else{if(_0x2c9843==JISHOGI)_0x464de4=_0x444a11(0x2d3);else{if(_0x2c9843==TUMI)_0x464de4='詰み';else{if(_0x2c9843==SENNITITE)_0x464de4='千日手';else{if(_0x2c9843==KIREMAKE)_0x464de4=_0x444a11(0x29a);else{if(_0x2c9843==KACHI)_0x464de4='入玉宣言勝ち';else{if(_0x2c9843==HANSOKU_KACHI)_0x464de4=_0x444a11(0x1e4);else{if(_0x2c9843==HANSOKU_MAKE)_0x464de4=_0x444a11(0x1c4);else{if(_0x2c9843==SENTE_HANSOKU)_0x464de4='先手反則負け';else{if(_0x2c9843==GOTE_HANSOKU)_0x464de4=_0x444a11(0x34e);else{let _0x227dd1=parseInt(_0x4f8a03/0xa);if(_0x1644bf==0x0&&_0x4f8a03==_0x48e429)_0x464de4='同\u3000';else{if(_0x1644bf==0x2&&_0x4f8a03==_0x48e429)_0x464de4+=_0x48367d[_0x227dd1]+_0x43f867[_0x4f8a03%0xa]+'同';else{if(_0x1644bf==0x3&&_0x4f8a03==_0x48e429)_0x464de4='同';else _0x464de4+=_0x48367d[_0x227dd1]+_0x43f867[_0x4f8a03%0xa];}}if(_0x277b6c<FU||_0x277b6c>RY){}else{if(_0x277b6c==NY)_0x464de4+='成香';else{if(_0x277b6c==NE)_0x464de4+='成桂';else{if(_0x277b6c==NG)_0x464de4+='成銀';else _0x464de4+=_0x434aca[_0x277b6c];}}}if(_0x14d7b3<0x64&&_0x14d7b3!=0x0){_0x464de4+=_0x176f60[_0x4b9a17&0x3f];if((_0x2c9843&0x80)!=0x0)_0x464de4+='成';else{if((_0x4b9a17&0x40)!=0x0)_0x464de4+='不成';}}else{if(_0x4b9a17==0x0)_0x464de4+='打';else{if(_0x1644bf==0x2){}}}}}}}}}}}}}}let _0x2a98d0=_0x464de4;if(_0x2a98d0[_0x444a11(0x227)]('同')==0x0&&_0x2a98d0[_0x444a11(0x39b)]>=0x4){let _0x3f7159=_0x2a98d0[_0x444a11(0x221)](0x2);_0x464de4='同'+_0x3f7159;}_0x464de4=_0x18a55e+_0x464de4;let _0x5ed96f=_0x464de4[_0x444a11(0x39b)];for(;_0x5ed96f<_0x35b3dd;_0x5ed96f++){_0x464de4+='\u3000';}return _0x464de4;}[_0x5bd22d(0x212)](_0x23b17b,_0x50c254,_0x689c8c,_0x195263){const _0x829c86=_0x5bd22d;if(_0x689c8c==null)return'';let _0x14405d,_0x45f7ae,_0x5a0570,_0x50ef0e;_0x14405d=_0x689c8c['f'],_0x45f7ae=_0x689c8c['t'],_0x5a0570=_0x689c8c['k'];((_0x5a0570&0xf)<FU||(_0x5a0570&0xf)>RY)&&(_0x14405d>0x2&&console['error']('***\x20mov_strm_kp\x20error\x20k='+_0x689c8c['k']+'\x20f='+_0x689c8c['f']+'\x20move_no='+this[_0x829c86(0x23a)]));let _0xc15875=_0x689c8c['modify'],_0x319ca6=this['find_oya'](_0x689c8c);if(_0x319ca6==null)_0x50ef0e=0x0;else _0x50ef0e=_0x319ca6['t']&0x7f;return this[_0x829c86(0x1d9)](_0x14405d,_0x45f7ae,_0x5a0570,_0xc15875,_0x50ef0e,_0x23b17b,_0x50c254,_0x195263);}}typeof KIF_FILE_NAME===_0x5bd22d(0x24c)&&alert('エラー\x20001：棋譜ファイル名\x20KIF_FILE_NAME\x20の指定がありません。');typeof KJ_DIR===_0x5bd22d(0x24c)&&alert(_0x5bd22d(0x356));var left_is_sente_flg=![];typeof LEFT_IS_SENTE!==_0x5bd22d(0x24c)&&(left_is_sente_flg=LEFT_IS_SENTE);var muji_flg=![],english_flg=![],bdinv_flg=![];const RATE=devicePixelRatio;console[_0x5bd22d(0x186)](_0x5bd22d(0x2b0)+RATE);function getScaleContext(_0x587567){const _0x4665f6=_0x5bd22d;let _0x4f6cf5=_0x587567[_0x4665f6(0x311)]('2d');return _0x4f6cf5[_0x4665f6(0x17b)](RATE,0x0,0x0,RATE,0x0,0x0),_0x4f6cf5;}var cbd=new Board(),start=new Board(),Kifu=new KifuData(),piece_img,TOP_INFO_H=0x46,BD_ORG_X=0x9a;if(FREE)BD_ORG_X=0x86;var BD_ORG_Y=TOP_INFO_H+0x28;const KOMA_SIZE_X=0x1f,KOMA_SIZE_Y=0x20,SQ_SIZE_X=KOMA_SIZE_X+0x3,SQ_SIZE_Y=KOMA_SIZE_Y+0x3,EDGE_X=0xc,EDGE_Y=0xc,LEFT_GAP=0x4,RIGHT_GAP=0x4,MOTI_EDGE_X=0x5,MOTI_EDGE_Y=0x3,MOTI_SQ_SIZE_X=SQ_SIZE_X*0x3/0x2+0x1,MOTI_SIZE_X=0x3*SQ_SIZE_X+0x2+0x2*MOTI_EDGE_X,MOTI_SIZE_Y=0x4*SQ_SIZE_Y+EDGE_Y,FU_PITCH=KOMA_SIZE_X-0x3,KOMADAI_LEFT_X=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;var KOMADAI_LEFT_Y=BD_ORG_Y-EDGE_Y;const KOMADAI_RIGHT_X=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP;var KOMADAI_RIGHT_Y=BD_ORG_Y+0x5*SQ_SIZE_Y;const MOTI_OVERLAP=0x3,KSQ_SIZE_Y=SQ_SIZE_Y-0x1,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP;var COMMENT_TOP=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y+0x4,comment_height=0x6e;FREE?typeof COMMENT_LINE!==_0x5bd22d(0x24c)&&(COMMENT_LINE>0x0&&(comment_height=0x14*COMMENT_LINE)):comment_height=0x88;var board_color=_0x5bd22d(0x1a8);class Point{}function drawLine(_0x49bac3,_0x296272,_0x1e5255,_0x485fcd,_0x5c58fb){const _0x5870dd=_0x5bd22d;_0x49bac3[_0x5870dd(0x20b)](),_0x49bac3['moveTo'](_0x296272,_0x1e5255),_0x49bac3[_0x5870dd(0x1b7)](_0x485fcd,_0x5c58fb),_0x49bac3[_0x5870dd(0x376)]();}function drawRect(_0x3883ab,_0xc6d775,_0x45e45e,_0x489407){let _0xe156e6=getScaleContext(canvas);_0xe156e6['strokeRect'](_0x3883ab,_0xc6d775,_0x45e45e,_0x489407);}const teai_name=['平手','香落ち',_0x5bd22d(0x197),_0x5bd22d(0x178),_0x5bd22d(0x368),_0x5bd22d(0x1ab),_0x5bd22d(0x23c),_0x5bd22d(0x2f8),'四枚落ち',_0x5bd22d(0x3a4),_0x5bd22d(0x25e),_0x5bd22d(0x31b),_0x5bd22d(0x19f),_0x5bd22d(0x321),_0x5bd22d(0x29e)];function get_shohi(_0x1ff816){const _0x503f4d=_0x5bd22d;let _0x44c8aa,_0x4d634c,_0x2d324f,_0x38c62b=Kifu['get_main_all_time']();if(_0x38c62b>0x0){let _0x4c38a1=Kifu[_0x503f4d(0x30b)](Kifu[_0x503f4d(0x23a)]);if(_0x4c38a1==null)return-0x1;let _0x5f41ea=Kifu[_0x503f4d(0x181)](_0x4c38a1);console['log'](_0x503f4d(0x34b)+_0x5f41ea);let _0x540f4d;if(Kifu[_0x503f4d(0x23a)]<=0x0)_0x540f4d=0x0;else{let _0x1c7d37=Kifu['get_kifup'](Kifu[_0x503f4d(0x23a)]-0x1);if(_0x1c7d37==null)return-0x1;_0x540f4d=Kifu[_0x503f4d(0x181)](_0x1c7d37);}_0x5f41ea=parseInt(_0x5f41ea/0x3c),_0x540f4d=parseInt(_0x540f4d/0x3c);(Kifu[_0x503f4d(0x23a)]&0x1)==0x0?(_0x2d324f=_0x5f41ea,_0x4d634c=_0x540f4d):(_0x4d634c=_0x5f41ea,_0x2d324f=_0x540f4d);_0x44c8aa=Kifu[_0x503f4d(0x23a)];if(Kifu[_0x503f4d(0x23a)]>0x0&&_0x4c38a1['t']<0xb)_0x44c8aa=-0x1;}else{console[_0x503f4d(0x186)](_0x503f4d(0x1b4)+Kifu[_0x503f4d(0x281)]);if(Kifu[_0x503f4d(0x281)]==null)return-0x1;let _0x207c58=Kifu[_0x503f4d(0x281)]['indexOf']('▲');if(_0x207c58<0x0)return-0x1;let _0x16b563=Kifu['shohi_jikan']['substring'](0x0,_0x207c58);_0x44c8aa=parseInt(_0x16b563);if(isNaN(_0x44c8aa))return console[_0x503f4d(0x1d4)](_0x503f4d(0x253)+_0x16b563),-0x1;if(Kifu['is_syuukyoku']()!=0x0&&_0x44c8aa>=Kifu[_0x503f4d(0x208)]()-0x1)_0x44c8aa=-0x1;let _0x46080c=Kifu[_0x503f4d(0x281)][_0x503f4d(0x221)](_0x207c58),_0x243ebe=_0x46080c[_0x503f4d(0x227)]('△');if(_0x243ebe<0x0)return;let _0x55290d=_0x46080c[_0x503f4d(0x221)](0x1,_0x243ebe),_0x55b5ed=_0x46080c[_0x503f4d(0x221)](_0x243ebe+0x1);_0x4d634c=parseInt(_0x55290d),_0x2d324f=parseInt(_0x55b5ed);if(isNaN(_0x4d634c)||isNaN(_0x2d324f))return console[_0x503f4d(0x1d4)]('***\x20ERROR\x20202:\x20消費時間:'+Kifu[_0x503f4d(0x281)]),-0x1;}return _0x1ff816==SENTE?_0x4d634c:_0x2d324f;}function get_shohi_tesuu(){const _0x5c77fc=_0x5bd22d;let _0x491733,_0x31c13c=Kifu[_0x5c77fc(0x35e)]();if(_0x31c13c>0x0){let _0x1b5d88=Kifu['get_kifup'](Kifu[_0x5c77fc(0x23a)]);if(_0x1b5d88==null)return-0x1;_0x491733=Kifu['move_no'];if(Kifu['move_no']>0x0&&_0x1b5d88['t']<0xb)_0x491733=-0x2;}else{if(Kifu[_0x5c77fc(0x281)]==null)return-0x1;let _0x47b690=Kifu[_0x5c77fc(0x281)]['indexOf']('▲');if(_0x47b690<0x0)return-0x1;let _0xf30c7e=Kifu['shohi_jikan'][_0x5c77fc(0x221)](0x0,_0x47b690);_0x491733=parseInt(_0xf30c7e);if(isNaN(_0x491733))return console[_0x5c77fc(0x1d4)](_0x5c77fc(0x253)+_0xf30c7e),-0x1;if(Kifu['is_syuukyoku']()!=0x0&&_0x491733>=Kifu[_0x5c77fc(0x208)]()-0x1)_0x491733=-0x2;}return _0x491733;}function Info(_0x55bd29){const _0x426c73=_0x5bd22d,_0x4c9650=0x1,_0x5796e5=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+_0x4c9650+0.5,_0x1ef2fd=BD_ORG_Y-EDGE_Y,_0x55034f=0x3,_0x49f3cc=MOTI_SIZE_Y+SQ_SIZE_Y-_0x55034f,_0x44b509=_0x1ef2fd+0.5,_0x21ebd9=MOTI_SIZE_X+0x1-_0x4c9650;let _0x65a4e6=_0x44b509+_0x49f3cc,_0x5ca595=getScaleContext(canvas);_0x5ca595['fillStyle']=_0x426c73(0x38a),_0x5ca595[_0x426c73(0x396)](_0x5796e5,_0x44b509,_0x21ebd9,_0x65a4e6-_0x44b509),_0x5ca595[_0x426c73(0x26e)]=_0x426c73(0x351),_0x5ca595[_0x426c73(0x18c)]=0x1,_0x5ca595[_0x426c73(0x2e4)](_0x5796e5,_0x44b509,_0x21ebd9,_0x65a4e6-_0x44b509),_0x5ca595[_0x426c73(0x246)]=_0x426c73(0x18a),_0x5ca595[_0x426c73(0x173)]=_0x426c73(0x1ba);let _0x460717=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+0x1e;_0x5ca595[_0x426c73(0x2f9)](''+version,_0x460717,KOMADAI_LEFT_Y-0x8),_0x5ca595[_0x426c73(0x173)]='12px\x20\x27メイリオ\x27';const _0x45b4e4=_0x5796e5+0x2,_0x2cb3b6=0x9,_0x20e4a7=0x12;let _0x1e17fa,_0x1e60fb;if(_0x55bd29[_0x426c73(0x225)]!=null&&_0x55bd29['sakusya'][_0x426c73(0x39b)]>0x0){_0x1e17fa=_0x1ef2fd+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x33c)+_0x55bd29[_0x426c73(0x225)],_0x45b4e4,_0x1e17fa),_0x1e17fa=_0x1ef2fd+_0x20e4a7+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x55bd29['sakuhinmei'],_0x45b4e4,_0x1e17fa,_0x21ebd9),_0x1e17fa=_0x1ef2fd+0x2*_0x20e4a7+0xe;if(_0x55bd29['syutten']!=null&&_0x55bd29[_0x426c73(0x317)]['length']>0x0)_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x23b)+_0x55bd29[_0x426c73(0x317)],_0x45b4e4,_0x1e17fa,_0x21ebd9);else{if(_0x55bd29[_0x426c73(0x30c)]!=null&&_0x55bd29['happyoushi'][_0x426c73(0x39b)]>0x0)_0x5ca595['fillText'](_0x426c73(0x2d5)+_0x55bd29[_0x426c73(0x30c)],_0x45b4e4,_0x1e17fa,_0x21ebd9);}_0x1e17fa=_0x1ef2fd+0x3*_0x20e4a7+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x219)+_0x55bd29[_0x426c73(0x328)],_0x45b4e4,_0x1e17fa,_0x21ebd9);cbd[_0x426c73(0x39e)]!=0x0&&(_0x1e17fa=_0x1ef2fd+0x4*_0x20e4a7+0xe,_0x5ca595['fillText'](_0x426c73(0x2fe),_0x45b4e4,_0x1e17fa,_0x21ebd9));return;}if(_0x55bd29[_0x426c73(0x242)]!=null){let _0x2ce64e=_0x55bd29[_0x426c73(0x242)],_0x16e1cd=_0x2ce64e['indexOf']('\x20');if(_0x16e1cd>0x0)_0x2ce64e=_0x2ce64e[_0x426c73(0x221)](0x0,_0x16e1cd);_0x16e1cd=_0x2ce64e['indexOf']('(');if(_0x16e1cd>0x0)_0x2ce64e=_0x2ce64e['substring'](0x0,_0x16e1cd);let _0x199aed=_0x55bd29[_0x426c73(0x242)];_0x16e1cd=_0x199aed[_0x426c73(0x227)]('\x20');if(_0x16e1cd>=0x0){_0x1e60fb=_0x199aed['length'];let _0x3e9ff5=_0x16e1cd+0x1;for(;;){if(_0x3e9ff5>=_0x1e60fb)break;if(_0x199aed[_0x426c73(0x315)](_0x3e9ff5)=='\x20')_0x3e9ff5++;else break;}_0x3e9ff5<_0x1e60fb&&(_0x199aed=_0x199aed[_0x426c73(0x221)](_0x3e9ff5),_0x2ce64e+='\x20'+_0x199aed);}_0x1e17fa=_0x1ef2fd+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x2ce64e,_0x45b4e4,_0x1e17fa,_0x21ebd9);}if(_0x55bd29[_0x426c73(0x16e)]!=null){console[_0x426c73(0x186)](_0x426c73(0x22c)+_0x55bd29[_0x426c73(0x16e)]);let _0x39552e=_0x55bd29[_0x426c73(0x16e)];_0x1e60fb=_0x39552e['length'];if(_0x1e60fb>=_0x2cb3b6){}_0x1e17fa=_0x1ef2fd+_0x20e4a7+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x39552e,_0x45b4e4,_0x1e17fa,_0x21ebd9);}if(_0x55bd29[_0x426c73(0x203)]!=null){let _0x1bf64c=_0x55bd29[_0x426c73(0x203)];_0x1e60fb=_0x1bf64c['length'],_0x1e60fb>=_0x2cb3b6&&(_0x1bf64c=_0x1bf64c['substr'](0x0,_0x2cb3b6)),_0x1e17fa=_0x1ef2fd+0x2*_0x20e4a7+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x1bf64c,_0x45b4e4,_0x1e17fa,_0x21ebd9);}_0x55bd29[_0x426c73(0x26d)]!=null&&_0x55bd29[_0x426c73(0x26d)][_0x426c73(0x39b)]>0x0&&(_0x1e17fa=_0x1ef2fd+0x3*_0x20e4a7+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x365)+_0x55bd29[_0x426c73(0x26d)],_0x45b4e4,_0x1e17fa,_0x21ebd9));let _0x3685d6=Kifu[_0x426c73(0x2a2)](),_0x36300f=Kifu[_0x426c73(0x35e)](),_0x220eaf=get_shohi(SENTE),_0x3929b3=get_shohi(GOTE);_0x220eaf>_0x3685d6&&(_0x220eaf=_0x3685d6);_0x3929b3>_0x3685d6&&(_0x3929b3=_0x3685d6);console[_0x426c73(0x186)](_0x426c73(0x1c5)+_0x220eaf);{(_0x220eaf>=0x0||_0x3929b3>=0x0)&&(_0x1e17fa=_0x1ef2fd+0x4*_0x20e4a7+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x2f1),_0x45b4e4,_0x1e17fa,_0x21ebd9));if(_0x220eaf>=0x0){let _0x4559be=time_to_str(_0x220eaf);_0x1e17fa=_0x1ef2fd+0x5*_0x20e4a7+0xe,_0x5ca595['fillText'](_0x426c73(0x1c6)+_0x4559be,_0x45b4e4,_0x1e17fa,_0x21ebd9);}if(_0x3929b3>=0x0){let _0x10c793=time_to_str(_0x3929b3);_0x1e17fa=_0x1ef2fd+0x6*_0x20e4a7+0xe,_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x2b3)+_0x10c793,_0x45b4e4,_0x1e17fa,_0x21ebd9);}}if(_0x3685d6>0x0){let _0x4e172c=get_shohi_tesuu();_0x1e17fa=_0x1ef2fd+0x7*_0x20e4a7+0xe;if(_0x4e172c==-0x2)_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x398),_0x45b4e4,_0x1e17fa,_0x21ebd9);else{if(_0x4e172c==-0x1)return;else _0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x1a6)+_0x4e172c+_0x426c73(0x359),_0x45b4e4,_0x1e17fa,_0x21ebd9);}let _0x1fb0ab=_0x3685d6-_0x220eaf;if(_0x1fb0ab<0x0)_0x1fb0ab=0x0;{if(_0x1fb0ab<=0x1)_0x5ca595['fillStyle']=_0x426c73(0x34a);else{if(_0x1fb0ab<=0xa)_0x5ca595[_0x426c73(0x246)]=_0x426c73(0x198);else _0x5ca595[_0x426c73(0x246)]=_0x426c73(0x18a);}}let _0x17c73c=time_to_str(_0x1fb0ab);_0x1e17fa=_0x1ef2fd+0x8*_0x20e4a7+0xf,_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x1c6)+_0x17c73c,_0x45b4e4,_0x1e17fa,_0x21ebd9);let _0x8b7aa6=_0x3685d6-_0x3929b3;if(_0x8b7aa6<0x0)_0x8b7aa6=0x0;if(_0x8b7aa6<=0x1)_0x5ca595[_0x426c73(0x246)]=_0x426c73(0x34a);else{if(_0x8b7aa6<=0xa)_0x5ca595[_0x426c73(0x246)]=_0x426c73(0x198);else _0x5ca595['fillStyle']=_0x426c73(0x18a);}_0x17c73c=time_to_str(_0x8b7aa6),_0x1e17fa=_0x1ef2fd+0x9*_0x20e4a7+0xf,_0x5ca595[_0x426c73(0x2f9)](_0x426c73(0x2b3)+_0x17c73c,_0x45b4e4,_0x1e17fa,_0x21ebd9);}_0x5ca595['fillStyle']=_0x426c73(0x18a),console[_0x426c73(0x186)](_0x426c73(0x300)+cbd[_0x426c73(0x39e)]),cbd['teai']!=0x0&&(_0x1e17fa=_0x1ef2fd+0xa*_0x20e4a7+0xe);}function TopInfo(_0xe79a80){const _0x1c7b5a=_0x5bd22d;console[_0x1c7b5a(0x186)](_0x1c7b5a(0x256));if(FREE){Info(_0xe79a80);return;}let _0x835a1e=canvas['getBoundingClientRect'](),_0x1f637f=_0x835a1e[_0x1c7b5a(0x188)],_0xde56e0=_0x835a1e[_0x1c7b5a(0x2fa)],_0xfa3c18=document[_0x1c7b5a(0x185)]['scrollTop'],_0x38f361=document[_0x1c7b5a(0x2e8)][_0x1c7b5a(0x259)];if(_0x38f361>_0xfa3c18)_0xde56e0+=_0x38f361;else _0xde56e0+=_0xfa3c18;console[_0x1c7b5a(0x186)](_0x1c7b5a(0x362)+_0xde56e0);const _0x5d211b=0x4;let _0x19a4ff=_0x1f637f+_0x5d211b;const _0x38416f=0x2,_0x2f976d=COMM_LEFT+COM_WIDTH,_0x3e0989=_0x2f976d-_0x19a4ff,_0x3da8fc=_0x38416f+TOP_INFO_H-0x2;let _0x1aa181=getScaleContext(canvas);_0x1aa181[_0x1c7b5a(0x246)]=_0x1c7b5a(0x38a),_0x1aa181['fillRect'](_0x5d211b,_0x38416f,_0x3e0989,_0x3da8fc-_0x38416f),_0x1aa181[_0x1c7b5a(0x26e)]='black',_0x1aa181[_0x1c7b5a(0x18c)]=0x1,_0x1aa181[_0x1c7b5a(0x2e4)](_0x5d211b,_0x38416f,_0x3e0989,_0x3da8fc-_0x38416f);if(!small_header_flg){let _0x1ee6ca='';if(_0xe79a80[_0x1c7b5a(0x242)]!=null){let _0xf4c553=_0xe79a80['date'],_0x59b284=_0xf4c553[_0x1c7b5a(0x227)]('\x20');if(_0x59b284>0x0)_0xf4c553=_0xf4c553[_0x1c7b5a(0x221)](0x0,_0x59b284);_0x59b284=_0xf4c553['indexOf']('(');if(_0x59b284>0x0)_0xf4c553=_0xf4c553['substring'](0x0,_0x59b284);_0x1ee6ca+=_0xf4c553;}if(_0xe79a80[_0x1c7b5a(0x16e)]!=null)_0x1ee6ca+='\x20\u3000'+_0xe79a80['kisen'];_0x1aa181['fillStyle']='rgb(0,\x200,\x200)',_0x1aa181[_0x1c7b5a(0x173)]='15px\x20\x27メイリオ\x27';top_label1==null&&(top_label1=document[_0x1c7b5a(0x386)](_0x1c7b5a(0x24a)),document[_0x1c7b5a(0x185)][_0x1c7b5a(0x28e)](top_label1));top_label1[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x287)]=_0x1c7b5a(0x1fe),top_label1[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x2fa)]=String(_0xde56e0+_0x38416f)+'px',top_label1['style']['left']=String(_0x19a4ff)+'px',top_label1[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x270)]=String(_0x2f976d-_0x19a4ff)+'px',top_label1[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x36e)]=_0x1c7b5a(0x28a),top_label1['style']['textAlign']=_0x1c7b5a(0x1f7);top_label1['hasChildNodes']()&&top_label1['removeChild'](top_label1[_0x1c7b5a(0x1fc)]);top_label1[_0x1c7b5a(0x28e)](document[_0x1c7b5a(0x291)](_0x1ee6ca));let _0x1cc327='',_0x1b5964=null,_0x569dac=null;if(_0xe79a80['seiseki']!=null){let _0xd7c731=_0xe79a80[_0x1c7b5a(0x284)],_0x204686=_0xd7c731[_0x1c7b5a(0x227)]('▽');_0x204686>=0x0?(_0x1b5964=_0xd7c731['substring'](0x1,_0x204686),_0x569dac=_0xd7c731[_0x1c7b5a(0x221)](_0x204686+0x1)):(_0x204686=_0xd7c731['indexOf']('△'),_0x204686>=0x0&&(_0x1b5964=_0xd7c731[_0x1c7b5a(0x221)](0x1,_0x204686),_0x569dac=_0xd7c731[_0x1c7b5a(0x221)](_0x204686+0x1)));}_0x1cc327+=_0xe79a80[_0x1c7b5a(0x2b2)];if(_0x1b5964!=null)_0x1cc327+='（'+_0x1b5964+'）';_0x1cc327+='\x20─\x20'+_0xe79a80[_0x1c7b5a(0x269)];if(_0x569dac!=null)_0x1cc327+='（'+_0x569dac+'）';cbd[_0x1c7b5a(0x39e)]!=0x0&&(_0x1cc327+='\u3000\u3000'+teai_name[cbd[_0x1c7b5a(0x39e)]]),_0x1aa181[_0x1c7b5a(0x173)]=_0x1c7b5a(0x339),top_label2==null&&(top_label2=document[_0x1c7b5a(0x386)](_0x1c7b5a(0x24a)),document['body']['appendChild'](top_label2)),top_label2['style'][_0x1c7b5a(0x287)]=_0x1c7b5a(0x1fe),top_label2['style'][_0x1c7b5a(0x2fa)]=String(_0xde56e0+_0x38416f+0x14)+'px',top_label2[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x188)]=String(_0x19a4ff)+'px',top_label2[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x270)]=String(_0x2f976d-_0x19a4ff)+'px',top_label2['style'][_0x1c7b5a(0x36e)]='20px',top_label2['style'][_0x1c7b5a(0x248)]=_0x1c7b5a(0x1f7),top_label2['hasChildNodes']()&&top_label2['removeChild'](top_label2[_0x1c7b5a(0x1fc)]),top_label2[_0x1c7b5a(0x28e)](document[_0x1c7b5a(0x291)](_0x1cc327));}let _0x2451a1='';_0xe79a80[_0x1c7b5a(0x203)]!=null&&(_0x2451a1+=_0xe79a80['site']+'\x20\u3000');if(_0xe79a80[_0x1c7b5a(0x242)]!=null){var _0x23b90c=_0xe79a80[_0x1c7b5a(0x242)];let _0x37e5b8=_0x23b90c[_0x1c7b5a(0x227)]('\x20');if(_0x37e5b8>=0x0){let _0xad016a=_0x23b90c[_0x1c7b5a(0x39b)],_0x501523=_0x37e5b8+0x1;for(;;){if(_0x501523>=_0xad016a)break;if(_0x23b90c[_0x1c7b5a(0x315)](_0x501523)=='\x20')_0x501523++;else break;}if(_0x501523<_0xad016a){_0x23b90c=_0x23b90c['substring'](_0x501523,_0xad016a);if(english_flg)_0x2451a1+=_0x1c7b5a(0x3a0)+_0x23b90c+'\x20\u3000';else _0x2451a1+=_0x1c7b5a(0x26c)+_0x23b90c+'\x20\u3000';}}}if(_0xe79a80[_0x1c7b5a(0x2f4)]!=null){let _0x509a00=_0xe79a80[_0x1c7b5a(0x2f4)],_0x328c38=_0x509a00[_0x1c7b5a(0x227)]('\x20');if(_0x328c38>=0x0){_0x509a00=_0x509a00[_0x1c7b5a(0x221)](_0x328c38+0x1);if(english_flg)_0x2451a1+=_0x1c7b5a(0x2a4)+_0x509a00;else _0x2451a1+=_0x1c7b5a(0x33f)+_0x509a00;}}let _0x448641;if(small_header_flg)_0x448641=_0x38416f+0x10;else _0x448641=_0x38416f+0x3c;_0x1aa181[_0x1c7b5a(0x246)]='rgb(0,\x200,\x200)',_0x1aa181['font']='15px\x20\x27メイリオ\x27';top_label3==null&&(top_label3=document[_0x1c7b5a(0x386)](_0x1c7b5a(0x24a)),document[_0x1c7b5a(0x185)][_0x1c7b5a(0x28e)](top_label3));top_label3[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x287)]=_0x1c7b5a(0x1fe),top_label3['style'][_0x1c7b5a(0x188)]=String(_0x19a4ff)+'px',top_label3['style'][_0x1c7b5a(0x270)]=String(_0x2f976d-_0x19a4ff)+'px',console['log'](_0x1c7b5a(0x2a5)+(_0x2f976d-_0x19a4ff)),console[_0x1c7b5a(0x186)](_0x1c7b5a(0x394)+_0x2451a1[_0x1c7b5a(0x39b)]);let _0x3bb560=0xf;_0x2451a1[_0x1c7b5a(0x39b)]>0x32&&(_0x3bb560=0xf*0x32/_0x2451a1[_0x1c7b5a(0x39b)],console[_0x1c7b5a(0x186)](_0x1c7b5a(0x2ae)+_0x3bb560));top_label3[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x36e)]=String(_0x3bb560)+'px';let _0x354e3e=0x1+_0x3bb560;top_label3[_0x1c7b5a(0x1ca)][_0x1c7b5a(0x2fa)]=String(_0xde56e0+_0x448641-_0x354e3e)+'px',top_label3['style'][_0x1c7b5a(0x248)]='center';top_label3['hasChildNodes']()&&top_label3[_0x1c7b5a(0x1a2)](top_label3[_0x1c7b5a(0x1fc)]);top_label3[_0x1c7b5a(0x28e)](document['createTextNode'](_0x2451a1)),_0x1aa181['font']='11px\x20\x27メイリオ\x27';let _0x3dfab3=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+0xc;_0x1aa181['clearRect'](_0x3dfab3,KOMADAI_LEFT_Y-0x14,0x50,0xf),_0x1aa181[_0x1c7b5a(0x246)]=_0x1c7b5a(0x18a),_0x1aa181['fillText'](_0x1c7b5a(0x2a0)+version,_0x3dfab3,KOMADAI_LEFT_Y-0xa);}function LoadKoma(){const _0x483d2e=_0x5bd22d;console[_0x483d2e(0x186)](_0x483d2e(0x360)),piece_img=new Image(),piece_img['src']=KJ_DIR+_0x483d2e(0x19d)+new Date()[_0x483d2e(0x220)](),piece_img['onload']=function(){const _0x30e241=_0x483d2e;console[_0x30e241(0x186)](_0x30e241(0x233));},piece_img['onerror']=function(){const _0x342ff0=_0x483d2e;console[_0x342ff0(0x1d4)](_0x342ff0(0x1b9));};}function get_moti_x_rr(){return BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+MOTI_EDGE_X+MOTI_SQ_SIZE_X-MOTI_OVERLAP;}function get_moti_x_rl(){return BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+MOTI_EDGE_X;}function get_moti_x_lr(){let _0x2df391=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;return _0x2df391+MOTI_EDGE_X+MOTI_SQ_SIZE_X-MOTI_OVERLAP;}function get_moti_x_ll(){let _0x260301=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;return _0x260301+MOTI_EDGE_X;}function get_moti_r_yo(){return BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y-0x4*KSQ_SIZE_Y-MOTI_EDGE_Y;}function get_moti_l_yo(){return BD_ORG_Y-EDGE_Y+MOTI_EDGE_Y-0x1;}function no_to_p(_0x54ba8c,_0x3a102a){let _0x336650=_0x3a102a-0x1,_0x4b5122=_0x336650>>0x1,_0x95a901,_0x5f1e6e;if(_0x54ba8c!=0x0){if((_0x336650&0x1)==0x0)_0x95a901=get_moti_x_lr();else _0x95a901=get_moti_x_ll();let _0x5f08bf=0x3-_0x4b5122;_0x5f1e6e=get_moti_l_yo()+_0x5f08bf*KSQ_SIZE_Y;}else{if((_0x336650&0x1)==0x0)_0x95a901=get_moti_x_rl();else _0x95a901=get_moti_x_rr();_0x5f1e6e=get_moti_r_yo()+_0x4b5122*KSQ_SIZE_Y;}let _0x452b89=new Point();return _0x452b89['x']=_0x95a901+0x2,_0x452b89['y']=_0x5f1e6e+0x2,_0x452b89;}function GetMotiXy(_0x5ef7b6,_0x4322c0,_0x4b9aef){const _0x5136ea=_0x5bd22d;let _0x386d97,_0x3be028;if(_0x4322c0==SENTE)_0x386d97=0x0;else _0x386d97=0x1;if(bdinv_flg!=0x0)_0x386d97=0x1-_0x386d97;let _0x3d6190=0x0,_0x5b9d84=_0x4322c0!=0x0?0x1:0x0;for(_0x3be028=HI;_0x3be028>=FU;_0x3be028--){if(_0x5ef7b6[_0x5136ea(0x2ac)][_0x5b9d84][_0x3be028]>0x0){_0x3d6190++;if(_0x3be028==(_0x4b9aef&0xf))break;}if(_0x3be028==(_0x4b9aef&0xf)){_0x3d6190++;break;}}if(_0x3be028==FU){if(_0x386d97==0x0){if((_0x3d6190&0x1)==0x0)_0x3d6190++;}else{if((_0x3d6190&0x1)!=0x0)_0x3d6190++;else _0x3d6190+=0x2;}}return no_to_p(_0x386d97,_0x3d6190);}function star(_0x1f84e6,_0x330cf1){const _0x3aa70a=_0x5bd22d;let _0x1c3d18=BD_ORG_X+SQ_SIZE_X*_0x1f84e6,_0x16539d=BD_ORG_Y+SQ_SIZE_Y*_0x330cf1,_0x587abf=getScaleContext(canvas);_0x587abf[_0x3aa70a(0x20b)](),_0x587abf['arc'](_0x1c3d18,_0x16539d,2.5,0x0*Math['PI']/0xb4,0x168*Math['PI']/0xb4,![]),_0x587abf['fillStyle']=_0x3aa70a(0x1de),_0x587abf[_0x3aa70a(0x326)](),_0x587abf[_0x3aa70a(0x26e)]=_0x3aa70a(0x351),_0x587abf[_0x3aa70a(0x18c)]=0x1,_0x587abf[_0x3aa70a(0x376)]();}function stars(){star(0x3,0x3),star(0x6,0x3),star(0x3,0x6),star(0x6,0x6);}function DrawPieceXY(_0x3868e5,_0x4178dd,_0x493153){if(bdinv_flg!=0x0){let _0x11afd7=_0x493153&0x80;_0x11afd7=0x80-_0x11afd7,_0x493153=_0x11afd7|_0x493153&0x7f;}let _0xe8b490;if(_0x493153==0x8||_0x493153==0x0||_0x493153==SGY)_0xe8b490=0x0;else _0xe8b490=(0x8-(_0x493153&0x7))*KOMA_SIZE_X;let _0x3ea8d2=0x0;if(_0x493153&0x80){if(_0x493153&0x8)_0x3ea8d2=KOMA_SIZE_Y;}else{if(_0x493153&0x8)_0x3ea8d2=KOMA_SIZE_Y*0x3;else _0x3ea8d2=KOMA_SIZE_Y*0x2;}let _0x562892=getScaleContext(canvas);_0x562892['drawImage'](piece_img,_0xe8b490*0x2,_0x3ea8d2*0x2,KOMA_SIZE_X*0x2,KOMA_SIZE_Y*0x2,_0x3868e5,_0x4178dd,KOMA_SIZE_X,KOMA_SIZE_Y);}function DrawPiece(_0x21f261,_0x3e2728){const _0x57f79b=_0x5bd22d;if(_0x3e2728==0x0)return;let _0xc5160=parseInt(_0x21f261/0xa),_0x4d2171=_0x21f261%0xa;bdinv_flg!=0x0&&(_0xc5160=0xa-_0xc5160,_0x4d2171=0xa-_0x4d2171);if(_0xc5160<0x1||_0x4d2171<0x1){console['error'](_0x57f79b(0x283)+_0x21f261);return;}let _0x4cc3f3=BD_ORG_X+(0x9-_0xc5160)*SQ_SIZE_X+0x2,_0x46d1bd=BD_ORG_Y+(_0x4d2171-0x1)*SQ_SIZE_Y+0x2;DrawPieceXY(_0x4cc3f3,_0x46d1bd,_0x3e2728);}function clear_sq(_0x1d13a1){const _0x1aef83=_0x5bd22d;if(_0x1d13a1>0x63||_0x1d13a1<0xb){console[_0x1aef83(0x1d4)]('clear_sq\x20s='+_0x1d13a1);return;}let _0x3e4ac9=parseInt(_0x1d13a1/0xa),_0x31d831=_0x1d13a1%0xa;bdinv_flg&&(_0x3e4ac9=0xa-_0x3e4ac9,_0x31d831=0xa-_0x31d831);let _0x41f955=BD_ORG_Y+(_0x31d831-0x1)*SQ_SIZE_Y+0x2,_0x50fc0c=BD_ORG_X+(0x9-_0x3e4ac9)*SQ_SIZE_X+0x2,_0x3f0614=_0x50fc0c-0x1,_0x434f05=_0x41f955-0x1,_0x11494a=getScaleContext(canvas);if(muji_flg)_0x11494a[_0x1aef83(0x246)]=_0x1aef83(0x375),_0x11494a[_0x1aef83(0x396)](_0x3f0614,_0x434f05,SQ_SIZE_X-0x3,SQ_SIZE_Y-0x2);else{if(ban_img==null){console[_0x1aef83(0x1d4)](_0x1aef83(0x293)+_0x1d13a1);return;}console[_0x1aef83(0x186)]('clear_sq\x20onload\x20s='+_0x1d13a1);let _0x174b36=SQ_SIZE_X-0x3,_0x73a3d5=SQ_SIZE_Y-0x2;_0x11494a[_0x1aef83(0x292)](ban_img,(0x9-_0x3e4ac9)*SQ_SIZE_X+0x2,(_0x31d831-0x1)*SQ_SIZE_Y+0x2,_0x174b36,_0x73a3d5,_0x3f0614,_0x434f05,_0x174b36,_0x73a3d5);}}function DrawLastPiece(_0x5f4fe4,_0xd83b16){const _0x518ac0=_0x5bd22d;if(_0xd83b16<0xb)return;let _0xe1712b=parseInt(_0xd83b16/0xa),_0x39cd5e=_0xd83b16%0xa;bdinv_flg!=0x0&&(_0xe1712b=0xa-_0xe1712b,_0x39cd5e=0xa-_0x39cd5e);let _0x23169e=BD_ORG_X+(0x9-_0xe1712b)*SQ_SIZE_X+0x2,_0x3d9e5d=BD_ORG_Y+(_0x39cd5e-0x1)*SQ_SIZE_Y+0x2,_0x6d5d47=_0x23169e+SQ_SIZE_X-0x3,_0x49cb12=_0x3d9e5d+SQ_SIZE_Y-0x3,_0xa01acf=getScaleContext(canvas);_0xa01acf[_0x518ac0(0x246)]=_0x518ac0(0x230),_0xa01acf[_0x518ac0(0x396)](_0x23169e-0x1,_0x3d9e5d-0x1,_0x6d5d47-_0x23169e+0x1,_0x49cb12-_0x3d9e5d+0x1),stars();let _0x12f67a=_0x5f4fe4[_0x518ac0(0x2ba)][_0xd83b16];DrawPiece(_0xd83b16,_0x12f67a);}function get_last_move_from(){const _0x43c8d9=_0x5bd22d;if(Kifu[_0x43c8d9(0x23a)]<=0x0)return 0x0;let _0x17f1aa=Kifu[_0x43c8d9(0x2fb)](),_0x481146=_0x17f1aa['t']&0x7f;if(_0x481146<0xb){if(Kifu[_0x43c8d9(0x23a)]>0x1){let _0x201014=Kifu[_0x43c8d9(0x30b)](Kifu[_0x43c8d9(0x23a)]-0x1);if(_0x201014==null)return 0x0;return _0x201014['f'];}else return 0x0;}else return _0x17f1aa['f'];return 0x0;}function DrawLastPieceFrom(){const _0x5b4e0d=_0x5bd22d;if(Kifu['move_no']==0x0)return;let _0x4c9bdc=get_last_move_from();if(_0x4c9bdc<0xb||_0x4c9bdc>0x63)return;let _0xf18e70=parseInt(_0x4c9bdc/0xa),_0x1d8ce7=_0x4c9bdc%0xa;bdinv_flg!=0x0&&(_0xf18e70=0xa-_0xf18e70,_0x1d8ce7=0xa-_0x1d8ce7);let _0x4174b3=BD_ORG_X+(0x9-_0xf18e70)*SQ_SIZE_X+0x2,_0x29193a=BD_ORG_Y+(_0x1d8ce7-0x1)*SQ_SIZE_Y+0x2,_0x18bcb0=_0x4174b3+SQ_SIZE_X-0x3,_0x32c161=_0x29193a+SQ_SIZE_Y-0x3,_0x1d3770=getScaleContext(canvas);_0x1d3770[_0x5b4e0d(0x246)]=_0x5b4e0d(0x1a8),_0x1d3770[_0x5b4e0d(0x396)](_0x4174b3-0x1,_0x29193a-0x1,_0x18bcb0-_0x4174b3+0x1,_0x32c161-_0x29193a+0x1),stars();}function DrawMotigomaPiece(_0x473ddb,_0x15509e){DrawPieceXY(_0x473ddb['x'],_0x473ddb['y'],_0x15509e);}function DrawMotiN(_0x49d847,_0x254192,_0x5492a1,_0x19784d){let _0x50d205=_0x254192&0x80;if(_0x5492a1==0x2)_0x19784d--;if(_0x19784d<=0x0)return;let _0x11ccea=GetMotiXy(_0x49d847,_0x50d205,_0x254192),_0x53c97e=_0x11ccea['x'],_0x41f426;if(_0x19784d<=0x1)_0x41f426=0x0;else{if((_0x254192&0xf)==FU){if(_0x19784d<=0x3)_0x41f426=FU_PITCH;else _0x41f426=(MOTI_SQ_SIZE_X*0x2-KOMA_SIZE_X-0x4+MOTI_OVERLAP)/(_0x19784d-0x1);}else _0x41f426=(MOTI_SQ_SIZE_X-KOMA_SIZE_X-0x4+MOTI_OVERLAP)/(_0x19784d-0x1);}for(var _0x4f4936=_0x19784d-0x1;_0x4f4936>=0x0;_0x4f4936--){if(_0x5492a1==0x1){if(_0x4f4936<0x1)continue;if((_0x254192&0xf)!=FU){if(_0x19784d==0x4){if(_0x4f4936>0x2)continue;}else{if(_0x4f4936!=0x1)continue;}}else{if(_0x19784d>=0xe){if(_0x4f4936>0x4)continue;}else{if(_0x4f4936>0x2)continue;}}}_0x11ccea['x']=_0x53c97e+_0x4f4936*_0x41f426,DrawMotigomaPiece(_0x11ccea,_0x254192);}}function DrawKomadaiTeban(_0x136002,_0x43e07d,_0x585920){const _0x55593a=_0x5bd22d;let _0x99f709;if(_0x43e07d==_0x136002[_0x55593a(0x21f)])_0x99f709=0x1;else _0x99f709=0x0;let _0x22e577,_0x5e13ce,_0x4a51dc;if(bdinv_flg!=0x0)_0x4a51dc=GOTE;else _0x4a51dc=SENTE;_0x43e07d!=_0x4a51dc?(_0x22e577=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X,_0x5e13ce=BD_ORG_Y-EDGE_Y-0x5):(_0x22e577=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,_0x5e13ce=BD_ORG_Y+0x5*SQ_SIZE_Y);let _0x10acaa,_0x467181;_0x10acaa=_0x22e577+0x1;if(_0x43e07d!=_0x4a51dc)_0x467181=_0x5e13ce+MOTI_SIZE_Y-0xd+0x2;else _0x467181=_0x5e13ce+0x1-0x2;let _0x392c62=0x1,_0x28a4d4;if(_0x43e07d!=0x0){if(_0x392c62){if(_0x585920[_0x55593a(0x387)])_0x28a4d4=_0x55593a(0x210);else _0x28a4d4='☗'+_0x585920[_0x55593a(0x2b2)];}else{if(_0x585920[_0x55593a(0x387)])_0x28a4d4='▲未定';else _0x28a4d4='▲'+_0x585920[_0x55593a(0x2b2)];}}else{if(_0x392c62){if(_0x585920[_0x55593a(0x387)])_0x28a4d4=_0x55593a(0x22a);else _0x28a4d4='☖'+_0x585920[_0x55593a(0x269)];}else{if(_0x585920['sengo_mitei_flg'])_0x28a4d4=_0x55593a(0x1ac);else _0x28a4d4='▽'+_0x585920[_0x55593a(0x269)];}}let _0x3a7e65=getScaleContext(canvas);_0x99f709!=0x0?_0x3a7e65['fillStyle']=_0x55593a(0x372):_0x3a7e65[_0x55593a(0x246)]=_0x55593a(0x230),_0x3a7e65[_0x55593a(0x396)](_0x10acaa,_0x467181+0x2,MOTI_SIZE_X-0x2,0xd),_0x3a7e65[_0x55593a(0x246)]=_0x55593a(0x18a),_0x3a7e65[_0x55593a(0x173)]=_0x55593a(0x347),_0x3a7e65['fillText'](_0x28a4d4,_0x10acaa,_0x467181+0xd,MOTI_SIZE_X-0x2);}function DrawKomadai(_0x1f1730){const _0x226d81=_0x5bd22d;let _0x2bdfee;if(bdinv_flg!=0x0)_0x2bdfee=GOTE;else _0x2bdfee=SENTE;let _0x1884e0,_0x581332;_0x1f1730!=_0x2bdfee?(_0x1884e0=KOMADAI_LEFT_X,_0x581332=KOMADAI_LEFT_Y):(_0x1884e0=KOMADAI_RIGHT_X,_0x581332=KOMADAI_RIGHT_Y);var _0x218a90=new Image();_0x218a90[_0x226d81(0x3a6)]=KJ_DIR+'komadaikage.jpg?'+new Date()[_0x226d81(0x220)](),_0x218a90[_0x226d81(0x3aa)]=function(){const _0x457562=_0x226d81;let _0xc7cd1f=getScaleContext(canvas);muji_flg?(_0xc7cd1f[_0x457562(0x246)]=_0x457562(0x230),_0xc7cd1f[_0x457562(0x396)](_0x1884e0,_0x581332,MOTI_SIZE_X,MOTI_SIZE_Y),_0xc7cd1f[_0x457562(0x26e)]=_0x457562(0x27d),_0xc7cd1f['lineWidth']=0x1,_0xc7cd1f[_0x457562(0x20b)](),_0xc7cd1f['moveTo'](_0x1884e0+MOTI_SIZE_X+0x1,_0x581332),_0xc7cd1f['lineTo'](_0x1884e0+MOTI_SIZE_X+0x1,_0x581332+MOTI_SIZE_Y+0x1),_0xc7cd1f[_0x457562(0x1d2)](_0x1884e0,_0x581332+MOTI_SIZE_Y+0x1),_0xc7cd1f[_0x457562(0x1b7)](_0x1884e0+MOTI_SIZE_X+0x2,_0x581332+MOTI_SIZE_Y+0x1),_0xc7cd1f[_0x457562(0x376)]()):_0xc7cd1f[_0x457562(0x292)](_0x218a90,_0x1884e0,_0x581332);DrawKomadaiTeban(cbd,_0x1f1730,Kifu);let _0xa297f4=_0x1f1730!=0x0?0x1:0x0;for(var _0x533bb1=HI;_0x533bb1>=FU;_0x533bb1--){let _0x16be04=cbd[_0x457562(0x2ac)][_0xa297f4][_0x533bb1];if(_0x16be04==0x0)continue;DrawMotiN(cbd,_0x533bb1|_0x1f1730,0x0,_0x16be04);}};}function draw_coord(){const _0x5dc640=_0x5bd22d,_0x3b25e9=['0','1','2','3','4','5','6','7','8','9'],_0x581e13=['零','一','二','三','四','五','六','七','八','九'],_0x29e801=['','a','b','c','d','e','f','g','h','i'];let _0x4d5214=getScaleContext(canvas);_0x4d5214['fillStyle']=_0x5dc640(0x18a);var _0x57976b,_0x4dc24d,_0x26d4f9;if(bdinv_flg==0x0){_0x4d5214[_0x5dc640(0x173)]=_0x5dc640(0x347),_0x26d4f9=BD_ORG_Y-0x1;for(_0x57976b=0x1;_0x57976b<=0x9;_0x57976b++){_0x4dc24d=BD_ORG_X+(0x9-_0x57976b)*SQ_SIZE_X+SQ_SIZE_X/0x2-0x4,_0x4d5214[_0x5dc640(0x2f9)](_0x3b25e9[_0x57976b],_0x4dc24d,_0x26d4f9);}_0x4d5214['font']='13px\x20\x27ＭＳ\x20Ｐゴシック\x27',_0x4dc24d=BD_ORG_X+0x9*SQ_SIZE_X;for(_0x57976b=0x1;_0x57976b<=0x9;_0x57976b++){_0x26d4f9=BD_ORG_Y+(_0x57976b-0x1)*SQ_SIZE_Y+SQ_SIZE_Y/0x2+0x2,_0x4d5214['fillText'](_0x581e13[_0x57976b],_0x4dc24d,_0x26d4f9);}}else{_0x4d5214['font']=_0x5dc640(0x27f),_0x26d4f9=BD_ORG_Y+SQ_SIZE_Y*0x9+0xc;for(_0x57976b=0x1;_0x57976b<=0x9;_0x57976b++){_0x4dc24d=BD_ORG_X+(_0x57976b-0x1)*SQ_SIZE_X+SQ_SIZE_X/0x2,_0x4d5214[_0x5dc640(0x2f9)](_0x3b25e9[_0x57976b],_0x4dc24d,_0x26d4f9);}_0x4d5214[_0x5dc640(0x173)]='13px\x20\x27ＭＳ\x20Ｐゴシック\x27',_0x4dc24d=BD_ORG_X-EDGE_X;for(_0x57976b=0x1;_0x57976b<=0x9;_0x57976b++){_0x26d4f9=BD_ORG_Y+(_0x57976b-0x1)*SQ_SIZE_Y+SQ_SIZE_Y/0x2-0x6,_0x4d5214[_0x5dc640(0x2f9)](_0x581e13[0xa-_0x57976b],_0x4dc24d,_0x26d4f9);}}}function DrawAllPiece(_0x19ca71){const _0x5479c7=_0x5bd22d;for(var _0x586304=0xb;_0x586304<=0x63;_0x586304++){let _0x2eee73=_0x19ca71[_0x5479c7(0x2ba)][_0x586304];if(_0x2eee73==0x0||_0x2eee73==0xff)continue;DrawPiece(_0x586304,_0x2eee73);}}var ban_img;function draw_board_sub(){const _0x3b6af1=_0x5bd22d;console[_0x3b6af1(0x186)](_0x3b6af1(0x22e));let _0x2baeb6=getScaleContext(canvas);muji_flg?(_0x2baeb6[_0x3b6af1(0x246)]=_0x3b6af1(0x375),_0x2baeb6[_0x3b6af1(0x396)](BD_ORG_X-EDGE_X,BD_ORG_Y-EDGE_Y,SQ_SIZE_X*0x9+EDGE_X*0x2,SQ_SIZE_Y*0x9+EDGE_Y*0x2),_0x2baeb6[_0x3b6af1(0x26e)]=_0x3b6af1(0x27d),_0x2baeb6[_0x3b6af1(0x18c)]=0x1,_0x2baeb6[_0x3b6af1(0x20b)](),_0x2baeb6[_0x3b6af1(0x1d2)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x1,BD_ORG_Y-EDGE_Y+0x0),_0x2baeb6[_0x3b6af1(0x1b7)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x1,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2baeb6[_0x3b6af1(0x1d2)](BD_ORG_X-EDGE_X,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2baeb6[_0x3b6af1(0x1b7)](BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X+0x2,BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y+0x1),_0x2baeb6[_0x3b6af1(0x376)]()):_0x2baeb6[_0x3b6af1(0x292)](ban_img,BD_ORG_X-EDGE_X,BD_ORG_Y-EDGE_Y);if(Kifu[_0x3b6af1(0x23a)]>0x0){var _0x3d1f2d=Kifu[_0x3b6af1(0x2fb)]();DrawLastPiece(cbd,_0x3d1f2d['t']&0x7f),DrawLastPieceFrom();}_0x2baeb6[_0x3b6af1(0x26e)]=_0x3b6af1(0x18a),_0x2baeb6[_0x3b6af1(0x18c)]=0x1;for(let _0x308cf0=0x0;_0x308cf0<0xa;_0x308cf0++){let _0x25114b=_0x308cf0*SQ_SIZE_Y+0.5;_0x2baeb6['beginPath'](),_0x2baeb6[_0x3b6af1(0x1d2)](BD_ORG_X,BD_ORG_Y+_0x25114b),_0x2baeb6[_0x3b6af1(0x1b7)](BD_ORG_X+SQ_SIZE_X*0x9,BD_ORG_Y+_0x25114b),_0x2baeb6[_0x3b6af1(0x376)]();let _0x1752ef=_0x308cf0*SQ_SIZE_X+0.5;_0x2baeb6[_0x3b6af1(0x20b)](),_0x2baeb6[_0x3b6af1(0x1d2)](BD_ORG_X+_0x1752ef,BD_ORG_Y),_0x2baeb6[_0x3b6af1(0x1b7)](BD_ORG_X+_0x1752ef,BD_ORG_Y+SQ_SIZE_Y*0x9),_0x2baeb6[_0x3b6af1(0x376)]();}draw_coord(),piece_img==null?(piece_img=new Image(),piece_img[_0x3b6af1(0x3a6)]=KJ_DIR+_0x3b6af1(0x19d)+new Date()['getTime'](),piece_img[_0x3b6af1(0x3aa)]=function(){const _0x563f19=_0x3b6af1;console[_0x563f19(0x186)](_0x563f19(0x233)),DrawAllPiece(cbd),stars(),DrawKomadai(0x80),DrawKomadai(0x0);}):(DrawAllPiece(cbd),stars(),DrawKomadai(0x80),DrawKomadai(0x0));}function draw_board(){const _0x14dffe=_0x5bd22d;ban_img==null?(ban_img=new Image(),ban_img[_0x14dffe(0x3a6)]=KJ_DIR+_0x14dffe(0x324)+new Date()[_0x14dffe(0x220)](),ban_img['onload']=function(){const _0x1b3749=_0x14dffe;console[_0x1b3749(0x186)](_0x1b3749(0x22e)),draw_board_sub();}):draw_board_sub(),ban_img['onerror']=function(){const _0x38b3e6=_0x14dffe;console[_0x38b3e6(0x1d4)](_0x38b3e6(0x303));};}function time_to_str(_0x238632){const _0x53bb2f=_0x5bd22d;let _0x50fd44='',_0x1dba90=parseInt(_0x238632/0x3c);if(_0x238632<0x258)_0x50fd44+=zen[_0x1dba90];else _0x50fd44+=_0x1dba90;if(english_flg)_0x50fd44+=_0x53bb2f(0x2ed);else _0x50fd44+='時間';if(_0x238632%0x3c<0xa)_0x50fd44+='0';_0x50fd44+=_0x238632%0x3c;if(english_flg)_0x50fd44+=_0x53bb2f(0x28f);else _0x50fd44+='分';return _0x50fd44;}function time_to_str2(_0x4d5f3b){const _0x38e026=_0x5bd22d;let _0x28bedc='各',_0x228f08=parseInt(_0x4d5f3b/0x3c);if(_0x4d5f3b<0x258)_0x28bedc+=zen[_0x228f08];else _0x28bedc+=_0x228f08;if(english_flg)_0x28bedc+=_0x38e026(0x2ed);else _0x28bedc+='時間';if(_0x4d5f3b%0x3c>0x0){if(_0x4d5f3b%0x3c<0xa)_0x28bedc+='0';_0x28bedc+=_0x4d5f3b%0x3c;if(english_flg)_0x28bedc+=_0x38e026(0x28f);else _0x28bedc+='分';}return _0x28bedc;}function ShohiGraph(_0x5d994a,_0x1edf94){const _0x3889ef=_0x5bd22d;if(FREE)return;console[_0x3889ef(0x186)]('ShohiGraph\x20COMM_LEFT=',COMM_LEFT+_0x3889ef(0x175)+COM_WIDTH);let _0xc65d68=getScaleContext(canvas);const _0x5804d8=BD_ORG_X+0x16+0.5,_0x2a5fce=_0x5804d8+COM_WIDTH;let _0x5d8198=COMMENT_TOP+comment_height+5.5;const _0x57d9dd=0x14;let _0x105960=_0x5d8198+_0x57d9dd*0x3;_0xc65d68[_0x3889ef(0x246)]='rgb(255,\x20255,\x20255)',_0xc65d68[_0x3889ef(0x396)](_0x5804d8,_0x5d8198,_0x2a5fce-_0x5804d8,_0x105960-_0x5d8198),_0xc65d68['strokeStyle']=_0x3889ef(0x275),_0xc65d68[_0x3889ef(0x2e4)](_0x5804d8,_0x5d8198,_0x2a5fce-_0x5804d8,_0x105960-_0x5d8198);const _0x3e432d=_0x2a5fce-_0x5804d8;for(var _0x2f1a1e=0x1;_0x2f1a1e<0x3;_0x2f1a1e++){let _0x38ce88=_0x5d8198+_0x57d9dd*_0x2f1a1e;drawLine(_0xc65d68,_0x5804d8,_0x38ce88,_0x5804d8+_0x3e432d,_0x38ce88);}const _0x171e45=0x8c,_0x5c86d8=_0x5804d8+_0x171e45;drawLine(_0xc65d68,_0x5c86d8,_0x5d8198,_0x5c86d8,_0x5d8198+_0x57d9dd*0x3),_0xc65d68[_0x3889ef(0x246)]=_0x3889ef(0x275),_0xc65d68[_0x3889ef(0x396)](_0x5c86d8,_0x5d8198,_0x2a5fce-_0x5804d8-_0x171e45,_0x57d9dd);let _0x478208=0x4;var _0x597b5e=_0x5d8198+_0x57d9dd*0x2-_0x478208;_0xc65d68[_0x3889ef(0x173)]='14px\x20\x27メイリオ\x27',_0xc65d68[_0x3889ef(0x246)]=_0x3889ef(0x18a);let _0x6588a2;_0x5d994a[_0x3889ef(0x387)]?_0x6588a2='☗\u3000':_0x6588a2='☗'+_0x5d994a[_0x3889ef(0x2b2)];_0xc65d68[_0x3889ef(0x2f9)](_0x6588a2,_0x5804d8+0x5,_0x597b5e,_0x171e45-0x5);let _0x553602;_0x5d994a[_0x3889ef(0x387)]?_0x553602='☖\u3000':_0x553602='☖'+_0x5d994a['gote_name'];let _0x210060=_0x5d8198+_0x57d9dd*0x3-_0x478208;_0xc65d68[_0x3889ef(0x2f9)](_0x553602,_0x5804d8+0x5,_0x210060,_0x171e45-0x5),_0xc65d68[_0x3889ef(0x246)]=_0x3889ef(0x38a);let _0x1cd7f6;if(english_flg)_0x1cd7f6=_0x3889ef(0x199);else _0x1cd7f6=_0x3889ef(0x28b);let _0x2f99fc=_0x5d8198+_0x57d9dd-_0x478208;_0xc65d68[_0x3889ef(0x2f9)](_0x1cd7f6,_0x5804d8+_0x171e45+0xa,_0x2f99fc);let _0x50079b;if(english_flg)_0x50079b=_0x3889ef(0x2af);else _0x50079b=_0x3889ef(0x2c7);_0xc65d68[_0x3889ef(0x2f9)](_0x50079b,_0x2a5fce-0x64+0x24,_0x2f99fc);let _0x5becec=Kifu[_0x3889ef(0x2a2)]();if(_0x5becec<=0x0)return;let _0x31c07e=time_to_str2(_0x5becec);_0xc65d68[_0x3889ef(0x2f9)](_0x31c07e,_0x5804d8+_0x171e45+0x78,_0x2f99fc);let _0x945046,_0x589b0f,_0x279cdf,_0x3e8d9a=_0x5d994a['get_main_all_time']();if(_0x3e8d9a>0x0){let _0x558220=_0x5d994a['get_kifup'](_0x5d994a[_0x3889ef(0x23a)]);if(_0x558220==null)return;let _0x83eb87=_0x5d994a[_0x3889ef(0x181)](_0x558220),_0xe242f3;if(_0x5d994a[_0x3889ef(0x23a)]<=0x0)_0xe242f3=0x0;else{let _0x41152d=_0x5d994a[_0x3889ef(0x30b)](_0x5d994a[_0x3889ef(0x23a)]-0x1);if(_0x41152d==null)return;_0xe242f3=_0x5d994a[_0x3889ef(0x181)](_0x41152d);}_0x83eb87=parseInt(_0x83eb87/0x3c),_0xe242f3=parseInt(_0xe242f3/0x3c);(Kifu[_0x3889ef(0x23a)]&0x1)==0x0?(_0x279cdf=_0x83eb87,_0x589b0f=_0xe242f3):(_0x589b0f=_0x83eb87,_0x279cdf=_0xe242f3);_0x945046=_0x5d994a['move_no'];if(_0x5d994a[_0x3889ef(0x23a)]>0x0&&_0x558220['t']<0xb)_0x945046=-0x1;}else{if(_0x5d994a[_0x3889ef(0x281)]==null)return;let _0x14aa45=_0x5d994a['shohi_jikan']['indexOf']('▲');if(_0x14aa45<0x0)return;let _0x2e637e=_0x5d994a[_0x3889ef(0x281)][_0x3889ef(0x221)](0x0,_0x14aa45);_0x945046=parseInt(_0x2e637e);if(isNaN(_0x945046)){console[_0x3889ef(0x1d4)](_0x3889ef(0x253)+_0x2e637e);return;}if(_0x5d994a[_0x3889ef(0x1d8)]()!=0x0&&_0x945046>=_0x5d994a[_0x3889ef(0x208)]()-0x1)_0x945046=-0x1;let _0x1aac20=_0x5d994a[_0x3889ef(0x281)]['substring'](_0x14aa45),_0xbacbd=_0x1aac20[_0x3889ef(0x227)]('△');if(_0xbacbd<0x0)return;let _0x4b9cd7=_0x1aac20[_0x3889ef(0x221)](0x1,_0xbacbd),_0x4ac505=_0x1aac20['substring'](_0xbacbd+0x1);_0x589b0f=parseInt(_0x4b9cd7),_0x279cdf=parseInt(_0x4ac505);if(isNaN(_0x589b0f)||isNaN(_0x279cdf)){console[_0x3889ef(0x1d4)](_0x3889ef(0x1d3)+_0x5d994a[_0x3889ef(0x281)]);return;}}let _0x529d56;if(english_flg){if(_0x945046==-0x1)_0x529d56=_0x3889ef(0x272);else _0x529d56='at\x20'+_0x945046;}else{if(_0x945046==-0x1)_0x529d56='終局';else{if(_0x945046<=0x0)_0x529d56=_0x945046+_0x3889ef(0x359);else{let _0x511553=_0x5d994a['get_kifup'](_0x945046);if(_0x511553==null)_0x529d56=_0x945046+_0x3889ef(0x359);else{let _0x185119=0x3;_0x529d56=_0x945046+'手'+_0x5d994a[_0x3889ef(0x212)](0x0,_0x185119,_0x511553,0x0)+'まで';}}}}_0xc65d68['fillStyle']=_0x3889ef(0x18a),_0xc65d68[_0x3889ef(0x2f9)](_0x529d56,_0x5804d8+0x4,_0x2f99fc,_0x171e45);if(_0x589b0f>_0x5becec)_0x589b0f=_0x5becec;if(_0x279cdf>_0x5becec)_0x279cdf=_0x5becec;let _0x29aa98=time_to_str(_0x589b0f);_0xc65d68['fillText'](_0x29aa98,_0x5804d8+_0x171e45+0x6,_0x597b5e);let _0x37aacb=_0x5becec-_0x589b0f;if(_0x37aacb<0x0)_0x37aacb=0x0;if(_0x37aacb<=0x1)_0xc65d68[_0x3889ef(0x246)]='rgb(255,\x200,\x200)';else{if(_0x37aacb<=0xa)_0xc65d68[_0x3889ef(0x246)]=_0x3889ef(0x198);else _0xc65d68[_0x3889ef(0x246)]='rgb(0,\x200,\x200)';}let _0x3737c3=time_to_str(_0x37aacb),_0x3a6b8a=0x17;_0xc65d68['fillText'](_0x3737c3,_0x2a5fce-0x64+_0x3a6b8a,_0x597b5e);let _0x19b7c6=_0x5804d8+_0x171e45+0x52,_0x495037=_0x2a5fce-0x50,_0x242dc9=_0x5d8198+_0x57d9dd+0x5,_0x4d9073=_0x5d8198+_0x57d9dd*0x2-0x5,_0x3a322a=(_0x495037-_0x19b7c6)*_0x589b0f/_0x5becec,_0x58fbad=_0x4d9073-_0x242dc9,_0x103927=0x7;var _0x3c9042=0xc2,_0x532158=0xa1,_0x464508=0x76;const _0x9a3b4c=_0x3889ef(0x1c0),_0x46b286=_0x3889ef(0x1fb);for(let _0x1b59a5=_0x242dc9;_0x1b59a5<=_0x4d9073;_0x1b59a5++){_0x1b59a5<_0x242dc9+0x1?_0xc65d68['strokeStyle']=_0x46b286:_0xc65d68['strokeStyle']=_0x9a3b4c,drawLine(_0xc65d68,_0x19b7c6,_0x1b59a5,_0x19b7c6+_0x3a322a,_0x1b59a5),_0x3a322a>0x1&&_0x1b59a5>_0x242dc9&&(_0xc65d68[_0x3889ef(0x26e)]=_0x46b286,drawLine(_0xc65d68,_0x19b7c6,_0x1b59a5,_0x19b7c6+0x1,_0x1b59a5));}const _0x11e4ee=_0x3889ef(0x2a9);if(_0x37aacb>0x0){_0x3a322a=_0x495037-_0x19b7c6-_0x3a322a,_0x3c9042=0x45,_0x532158=0x96,_0x464508=0xf4;for(let _0x4ca31e=_0x242dc9;_0x4ca31e<=_0x4d9073;_0x4ca31e++){_0x4ca31e>_0x242dc9+_0x58fbad/0x2?(_0x3c9042-=_0x103927,_0x532158-=_0x103927,_0x464508-=_0x103927,_0xc65d68[_0x3889ef(0x26e)]='rgb('+_0x3c9042+',\x20'+_0x532158+',\x20'+_0x464508+')'):_0xc65d68[_0x3889ef(0x26e)]=_0x11e4ee,drawLine(_0xc65d68,_0x495037-_0x3a322a,_0x4ca31e,_0x495037,_0x4ca31e);}}let _0x4bbb1a=time_to_str(_0x279cdf);_0xc65d68[_0x3889ef(0x246)]=_0x3889ef(0x18a),_0xc65d68[_0x3889ef(0x2f9)](_0x4bbb1a,_0x5804d8+_0x171e45+0x6,_0x210060);let _0x34adea=_0x5becec-_0x279cdf;if(_0x34adea<0x0)_0x34adea=0x0;if(_0x34adea<=0x1)_0xc65d68['fillStyle']=_0x3889ef(0x34a);else{if(_0x34adea<=0xa)_0xc65d68['fillStyle']=_0x3889ef(0x198);else _0xc65d68[_0x3889ef(0x246)]=_0x3889ef(0x18a);}let _0x5e6d32=time_to_str(_0x34adea);_0xc65d68['fillText'](_0x5e6d32,_0x2a5fce-0x64+_0x3a6b8a,_0x210060),_0x242dc9=_0x5d8198+_0x57d9dd*0x2+0x5,_0x4d9073=_0x5d8198+_0x57d9dd*0x3-0x5,_0x3a322a=(_0x495037-_0x19b7c6)*_0x279cdf/_0x5becec,_0x3c9042=0xc2,_0x532158=0xa1,_0x464508=0x76;for(let _0x5c2850=_0x242dc9;_0x5c2850<=_0x4d9073;_0x5c2850++){_0x5c2850<=_0x242dc9+_0x58fbad/0x2?(_0x3c9042+=_0x103927,_0x532158+=_0x103927,_0x464508+=_0x103927):(_0x3c9042-=_0x103927,_0x532158-=_0x103927,_0x464508-=_0x103927),_0x5c2850<_0x242dc9+0x1?_0xc65d68[_0x3889ef(0x26e)]=_0x46b286:_0xc65d68['strokeStyle']=_0x9a3b4c,drawLine(_0xc65d68,_0x19b7c6,_0x5c2850,_0x19b7c6+_0x3a322a,_0x5c2850),_0x3a322a>0x1&&_0x5c2850>_0x242dc9&&(_0xc65d68[_0x3889ef(0x26e)]=_0x46b286,drawLine(_0xc65d68,_0x19b7c6,_0x5c2850,_0x19b7c6+0x1,_0x5c2850));}if(_0x34adea>0x0){_0x3a322a=_0x495037-_0x19b7c6-_0x3a322a,_0x3c9042=0x45,_0x532158=0x96,_0x464508=0xf4;for(let _0xdd31a8=_0x242dc9;_0xdd31a8<=_0x4d9073;_0xdd31a8++){_0xdd31a8>_0x242dc9+_0x58fbad/0x2?(_0x3c9042-=_0x103927,_0x532158-=_0x103927,_0x464508-=_0x103927,_0xc65d68[_0x3889ef(0x26e)]=_0x3889ef(0x20e)+_0x3c9042+',\x20'+_0x532158+',\x20'+_0x464508+')'):_0xc65d68[_0x3889ef(0x26e)]=_0x11e4ee,drawLine(_0xc65d68,_0x495037-_0x3a322a,_0xdd31a8,_0x495037,_0xdd31a8);}}}function LoadImages(_0x39ab14){const _0x2e1240=_0x5bd22d;let _0x453ad5=getScaleContext(canvas);if(typeof LEFT_IMAGE!==_0x2e1240(0x24c)){if(LEFT_IMAGE!=null){LeftImageName(_0x39ab14);let _0x26d744=new Image();_0x26d744[_0x2e1240(0x3a6)]=LEFT_IMAGE+'?'+new Date()[_0x2e1240(0x220)](),_0x26d744[_0x2e1240(0x3aa)]=function(){const _0x991016=_0x2e1240;console['log']('left_img\x20onload');let _0x36d9d9=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X;_0x453ad5[_0x991016(0x292)](_0x26d744,_0x36d9d9,BD_ORG_Y-EDGE_Y+MOTI_SIZE_Y+0x5);};}}if(typeof RIGHT_IMAGE!==_0x2e1240(0x24c)){if(RIGHT_IMAGE!=null){RightImageName(_0x39ab14);let _0x38ef19=new Image();_0x38ef19[_0x2e1240(0x3a6)]=RIGHT_IMAGE+'?'+new Date()['getTime'](),_0x38ef19[_0x2e1240(0x3aa)]=function(){const _0x9a1730=_0x2e1240;console['log']('right_img\x20onload'),_0x453ad5[_0x9a1730(0x292)](_0x38ef19,BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,BD_ORG_Y-EDGE_Y+0x12);};}}}function RightImageName(_0x2cfd12){const _0x34ba38=_0x5bd22d;if(typeof RIGHT_IMAGE===_0x34ba38(0x24c))return;if(RIGHT_IMAGE==null)return;let _0x5690b5;if(cbd['teban']==0x80)_0x5690b5=0x1;else _0x5690b5=0x0;if(left_is_sente_flg)_0x5690b5=0x1-_0x5690b5;let _0x4406ff,_0xbf27c2=0x1;if(_0xbf27c2){if(left_is_sente_flg){if(_0x2cfd12[_0x34ba38(0x387)])_0x4406ff='☖\u3000';else _0x4406ff='☖'+_0x2cfd12[_0x34ba38(0x269)];}else{if(_0x2cfd12[_0x34ba38(0x387)])_0x4406ff='☗\u3000';else _0x4406ff='☗'+_0x2cfd12[_0x34ba38(0x2b2)];}}else{if(left_is_sente_flg){if(_0x2cfd12[_0x34ba38(0x387)])_0x4406ff='▽';else _0x4406ff='▽'+_0x2cfd12[_0x34ba38(0x269)];}else{if(_0x2cfd12['sengo_mitei_flg'])_0x4406ff='▲';else _0x4406ff='▲'+_0x2cfd12[_0x34ba38(0x2b2)];}}let _0x5b5e88=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP,_0x44f6b7=BD_ORG_Y-EDGE_Y-0x1,_0xc5d509=getScaleContext(canvas);_0x5690b5!=0x0?_0xc5d509[_0x34ba38(0x246)]=_0x34ba38(0x372):_0xc5d509[_0x34ba38(0x246)]=_0x34ba38(0x230),_0xc5d509[_0x34ba38(0x396)](_0x5b5e88,_0x44f6b7+0x2,MOTI_SIZE_X-0x2,0xd),_0xc5d509[_0x34ba38(0x246)]=_0x34ba38(0x18a),_0xc5d509[_0x34ba38(0x173)]=_0x34ba38(0x347),_0xc5d509[_0x34ba38(0x2f9)](_0x4406ff,_0x5b5e88,_0x44f6b7+0xd,MOTI_SIZE_X-0x2);}function LeftImageName(_0x5ac5cc){const _0x1a2f80=_0x5bd22d;if(typeof LEFT_IMAGE===_0x1a2f80(0x24c))return;if(LEFT_IMAGE==null)return;let _0x329a1e;if(cbd[_0x1a2f80(0x21f)]==0x0)_0x329a1e=0x1;else _0x329a1e=0x0;if(left_is_sente_flg)_0x329a1e=0x1-_0x329a1e;let _0x4fd20b,_0x3b161e=0x1;if(_0x3b161e){if(left_is_sente_flg){if(_0x5ac5cc[_0x1a2f80(0x387)])_0x4fd20b='☗\u3000';else _0x4fd20b='☗'+_0x5ac5cc[_0x1a2f80(0x2b2)];}else{if(_0x5ac5cc[_0x1a2f80(0x387)])_0x4fd20b='☖\u3000';else _0x4fd20b='☖'+_0x5ac5cc[_0x1a2f80(0x269)];}}else{if(left_is_sente_flg){if(_0x5ac5cc[_0x1a2f80(0x387)])_0x4fd20b='▲';else _0x4fd20b='▲'+_0x5ac5cc[_0x1a2f80(0x2b2)];}else{if(_0x5ac5cc[_0x1a2f80(0x387)])_0x4fd20b='▽';else _0x4fd20b='▽'+_0x5ac5cc[_0x1a2f80(0x269)];}}let _0x5904ce=BD_ORG_X-EDGE_X-LEFT_GAP-MOTI_SIZE_X,_0x1bd0b5=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y-0xf,_0x139f98=getScaleContext(canvas);_0x329a1e!=0x0?_0x139f98[_0x1a2f80(0x246)]=_0x1a2f80(0x372):_0x139f98[_0x1a2f80(0x246)]='rgb(204,\x20158,\x20111)',_0x139f98[_0x1a2f80(0x396)](_0x5904ce,_0x1bd0b5+0x2,MOTI_SIZE_X-0x2,0xd),_0x139f98[_0x1a2f80(0x246)]='rgb(0,\x200,\x200)',_0x139f98[_0x1a2f80(0x173)]=_0x1a2f80(0x347),_0x139f98[_0x1a2f80(0x2f9)](_0x4fd20b,_0x5904ce,_0x1bd0b5+0xd,MOTI_SIZE_X-0x2);}function get_csa_koma(_0x5842ea){const _0x407d3b=_0x5bd22d,_0x1b73b8=['\x200','FU','KY','KE','GI','KI','KA','HI','OU','TO','NY','NK','NG','13','UM','RY'];let _0x2d46df;for(_0x2d46df=0x0;_0x2d46df<=0xf;_0x2d46df++){if(_0x5842ea[_0x407d3b(0x227)](_0x1b73b8[_0x2d46df])==0x0)break;}if(_0x2d46df>0xf)return console[_0x407d3b(0x1d4)]('***\x20駒の名前が違います。\x20'+_0x5842ea),-0x1;return _0x2d46df;}function to_kanji_move(_0x26d305,_0x22091d,_0x21fa92){const _0x9791ae=_0x5bd22d,_0xa8ae22=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','成香','成桂','成銀','金','馬','龍'];let _0x487ab7='';if(_0x26d305['indexOf']('+')==0x0)_0x487ab7+='▲';else _0x26d305[_0x9791ae(0x227)]('-')==0x0&&(_0x487ab7+='△');let _0x319deb=_0x26d305[_0x9791ae(0x221)](0x1,0x3),_0x9b427c=_0x26d305[_0x9791ae(0x221)](0x3,0x5),_0x15ed9c=_0x26d305[_0x9791ae(0x221)](0x5),_0x4b45f2=get_csa_koma(_0x15ed9c);if(_0x9b427c==_0x22091d)_0x487ab7+='同';else _0x487ab7+=_0x9b427c;let _0x562fc4=parseInt(_0x26d305['substring'](0x2,0x3)),_0x360c90=parseInt(_0x26d305['substring'](0x4,0x5));if(_0x4b45f2==0xb){if(_0x562fc4==_0x360c90+0x2||_0x562fc4==_0x360c90-0x2)_0x487ab7+='桂成';else _0x487ab7+=_0xa8ae22[_0x4b45f2];}else{if(_0x4b45f2==0xa){if(_0x562fc4>=_0x360c90+0x2||_0x562fc4<=_0x360c90-0x2)_0x487ab7+='香成';else _0x487ab7+=_0xa8ae22[_0x4b45f2];}else{let _0x22b62c=parseInt(_0x319deb);if(_0x4b45f2>0x8&&(_0x21fa92['board'][_0x22b62c]&0xf)==(_0x4b45f2&0x7))_0x487ab7+=_0xa8ae22[_0x4b45f2&0x7]+'成';else _0x487ab7+=_0xa8ae22[_0x4b45f2];}}if(_0x319deb=='00'){if(_0x4b45f2!=0x1)_0x487ab7+='打';}else _0x4b45f2!=0x1&&_0x4b45f2!=0x2&&_0x4b45f2!=0x8&&(_0x487ab7+='(',_0x487ab7+=_0x319deb,_0x487ab7+=')');return _0x487ab7;}function csa_load_comment(_0x5ca8c4,_0x440456){const _0x42b9f2=_0x5bd22d;console[_0x42b9f2(0x186)](_0x42b9f2(0x192)+_0x440456);if(_0x440456[_0x42b9f2(0x227)]('\x27**\x20')!=0x0){let _0x153557=_0x5ca8c4['add_comment'](_0x5ca8c4[_0x42b9f2(0x23a)],_0x440456[_0x42b9f2(0x221)](0x2));return _0x153557;}var _0x457e1b=_0x440456[_0x42b9f2(0x221)](0x4);let _0x1765e3=_0x5ca8c4[_0x42b9f2(0x38b)](_0x5ca8c4[_0x42b9f2(0x23a)],_0x457e1b);return _0x1765e3;let _0x41d3db='',_0x336056=_0x457e1b[_0x42b9f2(0x1c2)](/ /),_0x4799f9='';for(var _0x5c8f18=0x0;_0x5c8f18<_0x336056[_0x42b9f2(0x39b)];_0x5c8f18++){let _0x2a740f=_0x336056[_0x5c8f18];if(_0x5c8f18==0x0)_0x41d3db+=_0x2a740f,_0x41d3db+='\x20';else(_0x2a740f[_0x42b9f2(0x227)]('+')==0x0||_0x2a740f[_0x42b9f2(0x227)]('-')==0x0)&&(_0x4799f9=_0x2a740f['substring'](0x3,0x5));}let _0x3aa02a=_0x5ca8c4[_0x42b9f2(0x38b)](_0x5ca8c4[_0x42b9f2(0x23a)],_0x41d3db);return _0x3aa02a;}function store_move_set(_0x559191,_0x48efc7,_0x23aa7d,_0x45390d,_0x42d0ca,_0x4f3b75,_0x3efd54,_0x37a6d5){const _0x856c5d=_0x5bd22d;(_0x42d0ca!=0x0&&_0x3efd54<0x1||(_0x3efd54&0xf)>RY)&&console[_0x856c5d(0x1d4)](_0x856c5d(0x305)+_0x42d0ca+_0x856c5d(0x231)+_0x3efd54);let _0x432967=new Kifup();_0x432967['t']=_0x4f3b75,_0x432967['f']=_0x42d0ca,_0x432967['k']=_0x3efd54;let _0x15acfe=_0x559191[_0x856c5d(0x319)](_0x48efc7,_0x23aa7d,_0x432967,_0x37a6d5);if(_0x15acfe==-0x2)return-0x2;if(_0x15acfe==-0x1)return-0x1;else _0x15acfe>0x0&&console[_0x856c5d(0x1d4)](_0x856c5d(0x190)+_0x15acfe);if(_0x4f3b75<0xb)return 0x2;return _0x4f3b75;}var bd_set;function csa_load_line(_0x70677b,_0x224101,_0x58c6a5,_0x32e5c9){const _0x2d964d=_0x5bd22d;_0x32e5c9=_0x32e5c9[_0x2d964d(0x2f7)](/(\r\n|\n|\r)/gm,'');if(_0x32e5c9[_0x2d964d(0x39b)]<=0x0)return 0x0;if(_0x32e5c9[_0x2d964d(0x227)](_0x2d964d(0x1d0))==0x0)return csa_load_comment(_0x70677b,_0x32e5c9),0x0;if(_0x32e5c9[_0x2d964d(0x227)]('\x27')==0x0)return 0x0;if(_0x32e5c9['indexOf']('V')==0x0)return 0x0;if(_0x32e5c9[_0x2d964d(0x227)]('$')==0x0){if(_0x32e5c9[_0x2d964d(0x227)](_0x2d964d(0x239))==0x0)_0x70677b['date']=_0x32e5c9[_0x2d964d(0x221)](0xc);return 0x0;}if(_0x32e5c9['indexOf']('N+')==0x0)return _0x70677b[_0x2d964d(0x2b2)]=_0x32e5c9[_0x2d964d(0x221)](0x2),0x0;if(_0x32e5c9['indexOf']('N-')==0x0)return _0x70677b['gote_name']=_0x32e5c9[_0x2d964d(0x221)](0x2),0x0;if(_0x32e5c9['indexOf']('P')==0x0)return 0x0;if(_0x32e5c9[_0x2d964d(0x39b)]==0x1){if(_0x32e5c9[_0x2d964d(0x227)]('+')==0x0)return _0x58c6a5['teban']=_0x224101[_0x2d964d(0x21f)]=SENTE,0x0;if(_0x32e5c9['indexOf']('-')==0x0)return _0x58c6a5[_0x2d964d(0x21f)]=_0x224101[_0x2d964d(0x21f)]=GOTE,0x0;}if(bd_set==0x0&&(_0x32e5c9['indexOf']('+')==0x0||_0x32e5c9[_0x2d964d(0x227)]('-')==0x0||_0x32e5c9[_0x2d964d(0x227)]('%')==0x0)){if(_0x70677b[_0x2d964d(0x2cf)]==0x0){}else{}bd_set=0x1;}let _0x5d3954=0x0,_0x42c928=0x0;if(_0x32e5c9[_0x2d964d(0x227)]('%')==0x0){if(_0x32e5c9[_0x2d964d(0x227)](_0x2d964d(0x1ec))==0x0)_0x42c928=TORYO;else{if(_0x32e5c9['indexOf'](_0x2d964d(0x2ab))==0x0)_0x42c928=CHUDAN;else{if(_0x32e5c9[_0x2d964d(0x227)](_0x2d964d(0x1c9))==0x0)_0x42c928=SENNITITE;else{if(_0x32e5c9[_0x2d964d(0x227)]('%JISHOGI')==0x0)_0x42c928=JISHOGI;else{if(_0x32e5c9[_0x2d964d(0x227)](_0x2d964d(0x207))==0x0)_0x42c928=JISHOGI;else{if(_0x32e5c9['indexOf'](_0x2d964d(0x2bf))==0x0)_0x42c928=KACHI;else{if(_0x32e5c9[_0x2d964d(0x227)](_0x2d964d(0x37e))==0x0)_0x42c928=KIREMAKE;else{if(_0x32e5c9[_0x2d964d(0x227)](_0x2d964d(0x22b))==0x0)_0x42c928=HANSOKU_MAKE;else{if(_0x32e5c9[_0x2d964d(0x227)]('%+ILLEGAL_ACTION')==0x0)_0x42c928=SENTE_HANSOKU;else{if(_0x32e5c9['indexOf']('%-ILLEGAL_ACTION')==0x0)_0x42c928=GOTE_HANSOKU;}}}}}}}}}let _0xea59c7=store_move_set(_0x70677b,_0x224101,_0x58c6a5,_0x70677b[_0x2d964d(0x23a)]+0x1,_0x5d3954,_0x42c928,0x0,0x0);return 0x0;}if(_0x32e5c9[_0x2d964d(0x227)]('T')==0x0){let _0x1bc3c7=_0x32e5c9[_0x2d964d(0x221)](0x1),_0x55edba=parseInt(_0x1bc3c7),_0x95a95f=_0x70677b[_0x2d964d(0x30b)](_0x70677b[_0x2d964d(0x23a)]);return _0x95a95f[_0x2d964d(0x1bf)]=_0x55edba,0x0;}if(_0x32e5c9[_0x2d964d(0x227)]('+')==0x0||_0x32e5c9['indexOf']('-')==0x0){let _0x49656b=_0x32e5c9[_0x2d964d(0x221)](0x1,0x3),_0x527ecf=_0x32e5c9[_0x2d964d(0x221)](0x3,0x5),_0x132131=_0x32e5c9[_0x2d964d(0x221)](0x5),_0x2bbd94=get_csa_koma(_0x132131);if(_0x2bbd94<0x1||_0x2bbd94>0xf)return console[_0x2d964d(0x1d4)](_0x2d964d(0x174)),-0x1;if(_0x32e5c9[_0x2d964d(0x227)]('+')==0x0)_0x2bbd94|=SENTE;_0x5d3954=parseInt(_0x49656b),_0x42c928=parseInt(_0x527ecf);if(_0x5d3954==0x0){if(_0x2bbd94&0x80)_0x5d3954=0x90|_0x2bbd94;else _0x5d3954=0x80|_0x2bbd94;}else{let _0x1779ae=_0x224101[_0x2d964d(0x2ba)][_0x5d3954];if(_0x1779ae==0x0)return-0x1;else{if(_0x1779ae!=_0x2bbd94){if(_0x2bbd94==(_0x1779ae|0x8))_0x2bbd94=_0x1779ae,_0x42c928|=0x80;else return console[_0x2d964d(0x1d4)]('駒の名前と移動元が一致しません。\x0a'),console[_0x2d964d(0x1d4)]('f='+_0x5d3954+'\x20kf='+_0x1779ae),-0x1;}}}let _0xf4a60=store_move_set(_0x70677b,_0x224101,_0x58c6a5,_0x70677b[_0x2d964d(0x23a)]+0x1,_0x5d3954,_0x42c928,_0x2bbd94,0x0);if(_0xf4a60<=0x0)return-0x2;}return 0x0;}var csa_last_kifu_s;function csa_load(_0x1d872b,_0x2349ac,_0x552001,_0x4e32e2,_0x3eca98){const _0x1fec1a=_0x5bd22d;console['log'](_0x1fec1a(0x2bc));if(_0x1d872b==csa_last_kifu_s)return console[_0x1fec1a(0x186)](_0x1fec1a(0x1bb)),0x2;csa_last_kifu_s=_0x1d872b;let _0x535772=_0x552001[_0x1fec1a(0x23a)],_0x39fbe6=_0x552001[_0x1fec1a(0x208)](),_0x3c6d4c=_0x1d872b[_0x1fec1a(0x1c2)]('\x0a');_0x552001[_0x1fec1a(0x187)](),_0x552001['clear_info'](),cbd['hirate'](),start[_0x1fec1a(0x1b8)](),_0x552001[_0x1fec1a(0x2cf)]=0x0,bd_set=0x0;for(let _0x120fb4=0x0;_0x120fb4<_0x3c6d4c['length'];_0x120fb4++){let _0x5043c7=_0x3c6d4c[_0x120fb4],_0x54c28b=_0x5043c7[_0x1fec1a(0x1c2)](',');for(let _0x4a994c=0x0;_0x4a994c<_0x54c28b[_0x1fec1a(0x39b)];_0x4a994c++){let _0x4ada1e=_0x54c28b[_0x4a994c],_0x2ee4c6=csa_load_line(_0x552001,cbd,start,_0x4ada1e);if(_0x2ee4c6<0x0)break;}}ReplayTop(),TopInfo(_0x552001),RightImageName(_0x552001),LeftImageName(_0x552001),console[_0x1fec1a(0x186)](_0x1fec1a(0x306)+_0x3eca98);if(_0x3eca98==-0x1){let _0x5a2d84=location['href'];console[_0x1fec1a(0x186)](_0x1fec1a(0x332)+_0x5a2d84);let _0x1fff3d=_0x5a2d84[_0x1fec1a(0x29c)](_0x1fec1a(0x216));if(_0x1fff3d>=0x0){let _0x4531e6=_0x5a2d84['substring'](_0x1fff3d+0x4);_0x1fff3d=_0x4531e6['lastIndexOf']('?');_0x1fff3d>=0x0&&(_0x4531e6=_0x4531e6[_0x1fec1a(0x221)](0x0,_0x1fff3d));let _0x57d368=parseInt(_0x4531e6,0xa);console[_0x1fec1a(0x186)](_0x1fec1a(0x17f)+_0x57d368),Jump_sub(_0x57d368),ViewUpdate();}else!_0x552001['is_syuukyoku']()&&ReplayLast(0x0,0x1);}else _0x3eca98==-0x2?(ReplayLast(0x0,0x1),_0x552001[_0x1fec1a(0x23a)]>_0x535772&&Komaoto()):(Jump_sub(_0x3eca98),ViewUpdate(),_0x552001[_0x1fec1a(0x208)]()>_0x39fbe6&&Komaoto());return set_kifu_list(),ButtonUpdate(),0x0;}const teai_str=['平手',_0x5bd22d(0x214),_0x5bd22d(0x197),'角落ち',_0x5bd22d(0x368),'飛香落ち',_0x5bd22d(0x23c),'三枚落ち',_0x5bd22d(0x2a8),_0x5bd22d(0x3a4),'左五枚落ち',_0x5bd22d(0x31b),'八枚落ち',_0x5bd22d(0x321),_0x5bd22d(0x189)];function get_teai(_0x31d6ca){const _0x5d3bab=_0x5bd22d;let _0x47e5ac;for(_0x47e5ac=0x0;_0x47e5ac<=SONOTA;_0x47e5ac++){if(_0x31d6ca[_0x5d3bab(0x227)](teai_str[_0x47e5ac])==0x0)break;}return _0x47e5ac;}function load_teai_sub(_0x3a05c6,_0x39f3c1,_0x369f36){const _0x255c9e=_0x5bd22d;if(_0x369f36['indexOf'](_0x255c9e(0x310))==0x0){_0x3a05c6[_0x255c9e(0x39e)]=get_teai(_0x369f36[_0x255c9e(0x221)](0x4));if(_0x3a05c6[_0x255c9e(0x39e)]>0x0)_0x39f3c1[_0x255c9e(0x21f)]=_0x3a05c6[_0x255c9e(0x21f)]=GOTE;return 0x1;}else{if(_0x369f36[_0x255c9e(0x227)](_0x255c9e(0x1cb))==0x0||_0x369f36[_0x255c9e(0x227)](_0x255c9e(0x2df))==0x0||_0x369f36[_0x255c9e(0x227)]('手番：後手')==0x0||_0x369f36[_0x255c9e(0x227)](_0x255c9e(0x391))==0x0)return _0x39f3c1[_0x255c9e(0x21f)]=_0x3a05c6['teban']=GOTE,0x1;else{if(_0x369f36[_0x255c9e(0x227)]('先手番')==0x0||_0x369f36[_0x255c9e(0x227)](_0x255c9e(0x1db))==0x0||_0x369f36[_0x255c9e(0x227)](_0x255c9e(0x286))==0x0||_0x369f36[_0x255c9e(0x227)](_0x255c9e(0x1cd))==0x0)return _0x39f3c1['teban']=_0x3a05c6['teban']=SENTE,console['log']('load_teai_sub\x20teban='+_0x39f3c1[_0x255c9e(0x21f)]),0x1;}}return 0x0;}var gote_moti_flg;function load_bod_sub(_0x4ad71e,_0x31ba5e,_0x20d87e){const _0x3c4360=_0x5bd22d;if(_0x20d87e>0x9)return 0x0;let _0x1e9290=0x0,_0x90009b=_0x31ba5e[_0x3c4360(0x315)](_0x1e9290);_0x1e9290++;_0x90009b==':'&&(_0x90009b=_0x31ba5e[_0x3c4360(0x315)](_0x1e9290),_0x1e9290++);if(_0x90009b!='|')return 0x0;for(let _0x50c11a=0x9;_0x50c11a>=0x1;_0x50c11a--){_0x90009b=_0x31ba5e[_0x3c4360(0x315)](_0x1e9290),_0x1e9290++;if(_0x90009b=='|')continue;let _0x425d12;if(_0x90009b=='v'||_0x90009b=='-'||_0x90009b=='V')_0x425d12=0x0;else{if(_0x90009b=='\x20'||_0x90009b=='^'||_0x90009b=='+')_0x425d12=SENTE;else return console['error']('***load_bod_sub2\x20error\x20'+_0x31ba5e+'c='+_0x90009b+'p='+_0x1e9290),-0x1;}let _0x1c946e=get_koma(_0x31ba5e[_0x3c4360(0x221)](_0x1e9290));_0x1c946e>0x0&&(_0x4ad71e['board'][_0x50c11a*0xa+_0x20d87e]=_0x1c946e|_0x425d12),_0x1e9290++;}return 0x1;}function moti_sub(_0x242dee,_0x2f5b88,_0x3aff85){const _0x55725a=_0x5bd22d;if(_0x2f5b88['indexOf']('なし')==0x0)return 0x0;let _0x23a75a=_0x3aff85?0x1:0x0,_0x24bab0=0x0;for(;;){if(_0x24bab0>=_0x2f5b88[_0x55725a(0x39b)])break;let _0x5547d0=_0x2f5b88[_0x55725a(0x315)](_0x24bab0);if(_0x5547d0==','||_0x5547d0=='\x20'){_0x24bab0++;continue;}if(_0x5547d0=='\u3000'){_0x24bab0++;continue;}let _0x56e93b=get_koma(_0x2f5b88['substring'](_0x24bab0));if((_0x56e93b&0xf)>=0x8)break;_0x24bab0++;if(_0x56e93b==0x0)continue;if(_0x24bab0>=_0x2f5b88[_0x55725a(0x39b)])break;let _0x3e3d79=0x0,_0x3e8e3f=get_kan_num(_0x2f5b88['substring'](_0x24bab0));if(_0x3e8e3f==0x0){_0x3e8e3f=get_zen_num(_0x2f5b88[_0x55725a(0x221)](_0x24bab0));if(_0x3e8e3f==0x1)_0x3e3d79=0x1;if(_0x3e8e3f<=0x0)_0x3e8e3f=0x1;else _0x24bab0++;}else _0x24bab0++;if(_0x3e8e3f==0xa||_0x3e3d79!=0x0){if(_0x24bab0>=_0x2f5b88[_0x55725a(0x39b)])break;let _0x5cbbd6=get_kan_num(_0x2f5b88[_0x55725a(0x221)](_0x24bab0));if(_0x5cbbd6==0x0){_0x5cbbd6=get_zen_num(_0x2f5b88[_0x55725a(0x221)](_0x24bab0));if(_0x5cbbd6>=0x0)_0x3e8e3f=0xa;else _0x5cbbd6=0x0;}_0x3e8e3f+=_0x5cbbd6,_0x24bab0++;}_0x242dee[_0x55725a(0x2ac)][_0x23a75a][_0x56e93b]=_0x3e8e3f,_0x242dee[_0x55725a(0x2ac)][_0x23a75a][0x0]+=_0x3e8e3f;}return 0x0;}function load_moti_sub(_0x1a9ecb,_0x5ceaa2){const _0x4053d3=_0x5bd22d;if(_0x5ceaa2[_0x4053d3(0x227)](_0x4053d3(0x16c))==0x0||_0x5ceaa2[_0x4053d3(0x227)](_0x4053d3(0x1f4))==0x0)return moti_sub(_0x1a9ecb,_0x5ceaa2[_0x4053d3(0x221)](0x6),SENTE),0x1;if(_0x5ceaa2[_0x4053d3(0x227)](_0x4053d3(0x2b1))==0x0||_0x5ceaa2[_0x4053d3(0x227)](_0x4053d3(0x34d))==0x0)return moti_sub(_0x1a9ecb,_0x5ceaa2['substring'](0x5),SENTE),0x1;if(_0x5ceaa2[_0x4053d3(0x227)](_0x4053d3(0x23f))==0x0)return moti_sub(_0x1a9ecb,_0x5ceaa2['substring'](0x3),SENTE),0x1;if(_0x5ceaa2[_0x4053d3(0x227)](_0x4053d3(0x369))==0x0||_0x5ceaa2[_0x4053d3(0x227)](_0x4053d3(0x357))==0x0)return moti_sub(_0x1a9ecb,_0x5ceaa2[_0x4053d3(0x221)](0x6),0x0),gote_moti_flg=0x1,0x1;if(_0x5ceaa2[_0x4053d3(0x227)](_0x4053d3(0x36f))==0x0||_0x5ceaa2[_0x4053d3(0x227)]('上手持駒：')==0x0)return moti_sub(_0x1a9ecb,_0x5ceaa2[_0x4053d3(0x221)](0x5),0x0),gote_moti_flg=0x1,0x1;return 0x0;}function get_kan_num(_0x406af1){const _0x307fea=_0x5bd22d,_0x2ffc50=['零','一','二','三','四','五','六','七','八','九','十'];for(var _0x8df446=0x1;_0x8df446<=0xa;_0x8df446++){if(_0x406af1[_0x307fea(0x227)](_0x2ffc50[_0x8df446])==0x0)return _0x8df446;}return 0x0;}const zen=['０','１','２','３','４','５','６','７','８','９'];function get_zen_num(_0x3792fe){const _0x4fbf21=_0x5bd22d;for(var _0x2fb732=0x0;_0x2fb732<=0x9;_0x2fb732++){if(_0x3792fe[_0x4fbf21(0x227)](zen[_0x2fb732])==0x0)return _0x2fb732;}return-0x1;}function get_koma(_0x4363fe){const _0xc7e27b=_0x5bd22d;if(_0x4363fe[_0xc7e27b(0x227)]('王')==0x0)return GY;else{if(_0x4363fe[_0xc7e27b(0x227)]('成香')==0x0)return NY;else{if(_0x4363fe[_0xc7e27b(0x227)]('成桂')==0x0)return NE;else{if(_0x4363fe[_0xc7e27b(0x227)]('成銀')==0x0)return NG;else{if(_0x4363fe[_0xc7e27b(0x227)]('竜')==0x0)return RY;}}}}const _0x3421a0=['\u3000','歩','香','桂','銀','金','角','飛','玉','と','杏','圭','全','金','馬','龍'];for(let _0x43df00=0x1;_0x43df00<=0xf;_0x43df00++){if(_0x4363fe[_0xc7e27b(0x227)](_0x3421a0[_0x43df00])==0x0)return _0x43df00;}return 0x0;}function load_kifu_info(_0x598e58,_0x11946b){const _0xbc5cd3=_0x5bd22d;_0x11946b=_0x11946b[_0xbc5cd3(0x2f7)](/(\r\n|\n|\r)/gm,'');if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x310))==0x0)return 0x0;else{if(_0x11946b['indexOf'](_0xbc5cd3(0x1cb))==0x0||_0x11946b['indexOf'](_0xbc5cd3(0x2df))==0x0||_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x2cc))==0x0||_0x11946b['indexOf'](_0xbc5cd3(0x391))==0x0)return 0x0;else{if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x349))==0x0||_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x1db))==0x0||_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x286))==0x0||_0x11946b['indexOf']('手番：下手')==0x0)return 0x0;}}if(_0x11946b['indexOf']('先手：')==0x0||_0x11946b['indexOf'](_0xbc5cd3(0x392))==0x0)return _0x598e58[_0xbc5cd3(0x2b2)]=_0x11946b[_0xbc5cd3(0x221)](0x3),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x2e1))==0x0||_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x2c4))==0x0)return _0x598e58[_0xbc5cd3(0x269)]=_0x11946b[_0xbc5cd3(0x221)](0x3),0x1;if(_0x11946b['indexOf'](_0xbc5cd3(0x33d))==0x0)return _0x598e58[_0xbc5cd3(0x242)]=_0x11946b[_0xbc5cd3(0x221)](0x5),0x1;if(_0x11946b['indexOf']('終了日時：')==0x0)return _0x598e58[_0xbc5cd3(0x2f4)]=_0x11946b[_0xbc5cd3(0x221)](0x5),0x1;if(_0x11946b[_0xbc5cd3(0x227)]('棋戦：')==0x0)return _0x598e58[_0xbc5cd3(0x16e)]=_0x11946b['substring'](0x3),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x365))==0x0)return _0x598e58[_0xbc5cd3(0x26d)]=_0x11946b['substring'](0x5),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x18b))==0x0)return _0x598e58[_0xbc5cd3(0x203)]=_0x11946b[_0xbc5cd3(0x221)](0x3),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x2f1))==0x0)return _0x598e58[_0xbc5cd3(0x281)]=_0x11946b['substring'](0x5),0x1;if(_0x11946b['indexOf'](_0xbc5cd3(0x1e3))==0x0)return _0x598e58[_0xbc5cd3(0x284)]=_0x11946b[_0xbc5cd3(0x221)](0x6),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x35a))==0x0){let _0x3d1405=parseInt(_0x11946b[_0xbc5cd3(0x221)](0x5));console[_0xbc5cd3(0x186)]('#\x20先後未定='+_0x3d1405+'\x20'+_0x11946b);if(isNaN(_0x3d1405))return console[_0xbc5cd3(0x1d4)](_0xbc5cd3(0x290)+_0x11946b),0x1;return _0x598e58['sengo_mitei_flg']=_0x3d1405,0x1;}if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x33c))==0x0)return _0x598e58[_0xbc5cd3(0x225)]=_0x11946b['substring'](0x3),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x2bb))==0x0)return _0x598e58[_0xbc5cd3(0x36a)]=_0x11946b['substring'](0x4),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x23b))==0x0)return _0x598e58['syutten']=_0x11946b[_0xbc5cd3(0x221)](0x3),0x1;if(_0x11946b['indexOf'](_0xbc5cd3(0x1e7))==0x0)return _0x598e58[_0xbc5cd3(0x328)]=_0x11946b['substring'](0x5),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x2d5))==0x0)return _0x598e58[_0xbc5cd3(0x30c)]=_0x11946b['substring'](0x4),0x1;if(_0x11946b[_0xbc5cd3(0x227)](_0xbc5cd3(0x23f))>=0x0)return 0x0;if(_0x11946b[_0xbc5cd3(0x227)]('変化：')==0x0)return 0x0;if(_0x11946b[_0xbc5cd3(0x227)]('*')==0x0)return 0x0;if(_0x11946b[_0xbc5cd3(0x227)]('：')>=0x0)return 0x1;return 0x0;}function last_move_sub(_0x45c12f){const _0xb467cf=_0x5bd22d;if(_0x45c12f[_0xb467cf(0x227)]('投了')==0x0)return TORYO;else{if(_0x45c12f[_0xb467cf(0x227)](_0xb467cf(0x2d3))==0x0)return JISHOGI;else{if(_0x45c12f['indexOf'](_0xb467cf(0x34f))==0x0)return SENNITITE;else{if(_0x45c12f[_0xb467cf(0x227)](_0xb467cf(0x29a))==0x0)return KIREMAKE;else{if(_0x45c12f[_0xb467cf(0x227)](_0xb467cf(0x1e4))==0x0)return HANSOKU_KACHI;else{if(_0x45c12f[_0xb467cf(0x227)](_0xb467cf(0x1c4))==0x0)return HANSOKU_MAKE;else{if(_0x45c12f[_0xb467cf(0x227)](_0xb467cf(0x2b6))==0x0)return KACHI;else{if(_0x45c12f[_0xb467cf(0x227)]('中断')==0x0)return CHUDAN;else{if(_0x45c12f['indexOf']('詰')==0x0)return TUMI;}}}}}}}}return-0x1;}function store_move(_0x572622,_0xdfd57c){const _0x22c96d=_0x5bd22d;let _0x5828a5=_0x572622;for(;;){if(_0x5828a5['indexOf']('\u3000')==0x0||_0x5828a5[_0x22c96d(0x227)]('\x20')==0x0)_0x5828a5=_0x5828a5[_0x22c96d(0x221)](0x1);else break;}if(_0x5828a5[_0x22c96d(0x39b)]<=0x1)return 0x0;let _0x28c409=new Kifup(),_0x1b7ec1=last_move_sub(_0x5828a5),_0x1a70bc;if(_0x1b7ec1>=0x0)return _0x28c409['t']=_0x1b7ec1,_0x28c409['f']=0x1,_0x28c409['k']=0x0,_0x1a70bc=Kifu[_0x22c96d(0x319)](cbd,start,_0x28c409,_0xdfd57c),_0x1a70bc;let _0x455166=_0x5828a5,_0xb2bcf4,_0x394587;if(_0x455166[_0x22c96d(0x227)]('同')==0x0){let _0x291654=Kifu[_0x22c96d(0x30b)](Kifu['move_no']);if(_0x291654==null)_0x394587=0x0;else _0x394587=_0x291654['t']&0x7f;_0xb2bcf4=0x1;}else{_0xb2bcf4=0x0;let _0x2c9412=get_zen_num(_0x455166),_0x9a9a2f=get_kan_num(_0x455166[_0x22c96d(0x221)](0x1));if(_0x2c9412==0x0||_0x9a9a2f==0x0)return console[_0x22c96d(0x1d4)](_0x22c96d(0x2fd)+_0x455166),console['error'](_0x22c96d(0x2f5)+_0x572622),-0x1;_0x394587=_0x2c9412*0xa+_0x9a9a2f;}let _0x1b9fcf=_0x455166[_0x22c96d(0x221)](0x1),_0x13ea0c='';if(_0xb2bcf4!=0x0&&_0x1b9fcf[_0x22c96d(0x227)]('\x20\x20')==0x0)_0x13ea0c=_0x5828a5['substring'](0x3);else{if(_0xb2bcf4!=0x0&&_0x1b9fcf[_0x22c96d(0x227)]('\x20')==0x0)_0x13ea0c=_0x5828a5[_0x22c96d(0x221)](0x2);else{if(_0xb2bcf4!=0x0&&!_0x1b9fcf['indexOf']('\u3000')==0x0)_0x13ea0c=_0x5828a5[_0x22c96d(0x221)](0x1);else{let _0x1df952=_0x5828a5['substring'](0x2);if(_0x1df952['indexOf']('同')==0x0)_0x13ea0c=_0x5828a5[_0x22c96d(0x221)](0x3);else _0x13ea0c=_0x5828a5[_0x22c96d(0x221)](0x2);}}}let _0x1f43b2=get_koma(_0x13ea0c);if(_0x1f43b2==0x0)return console[_0x22c96d(0x1d4)](_0x22c96d(0x31c)+_0x572622),-0x1;let _0x5ee197,_0x54792a=0x1,_0x5cf58b=_0x13ea0c[_0x22c96d(0x221)](0x1);if(_0x5cf58b[_0x22c96d(0x227)]('打')==0x0)return _0x5ee197=_0x13ea0c[_0x22c96d(0x221)](0x1),_0x28c409['t']=_0x394587,_0x28c409['f']=0x0,_0x28c409['k']=_0x1f43b2,_0x1a70bc=Kifu[_0x22c96d(0x319)](cbd,start,_0x28c409,_0xdfd57c),_0x1a70bc;else{if(_0x5cf58b[_0x22c96d(0x227)]('成')==0x0)_0x394587|=0x80,_0x5ee197=_0x13ea0c[_0x22c96d(0x221)](0x3);else{if(_0x13ea0c[_0x22c96d(0x227)]('成')==0x0)_0x5ee197=_0x13ea0c['substring'](0x3);else{let _0x5e5c8b=_0x13ea0c[_0x22c96d(0x221)](0x1);if(_0x5e5c8b[_0x22c96d(0x227)]('(')==0x0)_0x5ee197=_0x5e5c8b['substring'](0x1);else _0x5ee197=_0x13ea0c['substring'](0x1);}}}let _0x16b3e0=parseInt(_0x5ee197[_0x22c96d(0x315)](0x0)),_0x2c5c2a=parseInt(_0x5ee197[_0x22c96d(0x315)](0x1));return _0x54792a=_0x16b3e0*0xa+_0x2c5c2a,_0x28c409['t']=_0x394587,_0x28c409['f']=_0x54792a,_0x28c409['k']=_0x1f43b2,_0x1a70bc=Kifu[_0x22c96d(0x319)](cbd,start,_0x28c409,_0xdfd57c),_0x1a70bc;}function load_move_sub(_0x229cc4){const _0x5c1725=_0x5bd22d;var _0x282dae=_0x229cc4[_0x5c1725(0x1c2)]('\x20');if(_0x282dae[_0x5c1725(0x39b)]<0x2)return console[_0x5c1725(0x186)]('buf='+_0x229cc4),0x0;let _0x2a2ac2='',_0x1cefcc=0x0;for(let _0x457a42=0x0;_0x457a42<_0x282dae[_0x5c1725(0x39b)];_0x457a42++){if(_0x282dae[_0x457a42][_0x5c1725(0x39b)]>0x0){_0x1cefcc++;if(_0x1cefcc==0x2){_0x2a2ac2=_0x282dae[_0x457a42];break;}}}if(_0x2a2ac2[_0x5c1725(0x39b)]<0x2)return console[_0x5c1725(0x186)](_0x5c1725(0x228)+_0x2a2ac2),0x0;let _0x3870a1=0x0,_0x2c0b26=0x0,_0x56b4a3=_0x229cc4,_0x4f23a0=_0x56b4a3['indexOf']('(');if(_0x4f23a0>0x0){_0x56b4a3=_0x56b4a3[_0x5c1725(0x221)](_0x4f23a0+0x1),_0x4f23a0=_0x56b4a3['indexOf']('(');_0x4f23a0>0x0&&(_0x56b4a3=_0x56b4a3[_0x5c1725(0x221)](_0x4f23a0+0x1));let _0x448712=_0x56b4a3['indexOf'](':');if(_0x448712>0x0){let _0x91690a=_0x56b4a3[_0x5c1725(0x221)](0x0,_0x448712);_0x3870a1=parseInt(_0x91690a);let _0x158b77=_0x56b4a3[_0x5c1725(0x221)](_0x448712+0x1),_0x4216d3=_0x158b77[_0x5c1725(0x227)]('/');_0x4216d3>0x0&&(_0x158b77=_0x158b77['substring'](0x0,_0x4216d3),_0x2c0b26=parseInt(_0x158b77));}}let _0x49629b=_0x3870a1*0x3c+_0x2c0b26,_0x4aa189=store_move(_0x2a2ac2,_0x49629b);if(_0x4aa189<=0x0)return _0x4aa189;if(_0x4aa189<0xb)return 0x2;return 0x1;}function load_comment(_0x37468e){const _0x43e109=_0x5bd22d;let _0x2c9c31=_0x37468e[_0x43e109(0x221)](0x1);return Kifu['add_comment'](Kifu[_0x43e109(0x23a)],_0x2c9c31);}function kifu_line(_0x162f71){if(_0x162f71['indexOf']('1\x20')>=0x0)return 0x1;return 0x0;}function sort_board(_0x4f3cc5,_0x552424,_0x3a2ffd){const _0x18fea5=_0x5bd22d;console[_0x18fea5(0x186)](_0x18fea5(0x271)+_0x552424[_0x18fea5(0x21f)]),_0x552424[_0x18fea5(0x390)](),_0x3a2ffd[_0x18fea5(0x1da)](_0x552424);}function game_init(_0x92d8ce,_0x5d67c5,_0x28e084){const _0x9633b7=_0x5bd22d;_0x5d67c5[_0x9633b7(0x21c)](_0x5d67c5['teai']),_0x28e084[_0x9633b7(0x21c)](_0x5d67c5[_0x9633b7(0x39e)]),_0x92d8ce[_0x9633b7(0x1cc)](),_0x92d8ce[_0x9633b7(0x2cf)]=0x0;}function _0x26d3(_0x1da733,_0x1ecc63){const _0x188656=_0x1886();return _0x26d3=function(_0x26d303,_0x44ca0d){_0x26d303=_0x26d303-0x16c;let _0x2c2830=_0x188656[_0x26d303];return _0x2c2830;},_0x26d3(_0x1da733,_0x1ecc63);}var last_kifu_s;function load_kifu_sub(_0xa2a0fd,_0x5eb4a1,_0x24bf8a,_0x2ce564,_0x560161){const _0x3e0382=_0x5bd22d;if(_0xa2a0fd==last_kifu_s)return console[_0x3e0382(0x186)](_0x3e0382(0x1bb)),0x2;last_kifu_s=_0xa2a0fd;let _0x487ce8=_0x24bf8a[_0x3e0382(0x23a)],_0x2d25b3=_0x24bf8a[_0x3e0382(0x208)](),_0x2b2a9b=_0xa2a0fd['split']('\x0a');const _0x239d6b=![];_0x24bf8a['clear_kifu'](),_0x24bf8a['clear_info'](),cbd['hirate'](),start[_0x3e0382(0x1b8)]();!_0x239d6b&&(cbd[_0x3e0382(0x39e)]=0x0,cbd[_0x3e0382(0x21f)]=SENTE,cbd[_0x3e0382(0x302)](),_0x24bf8a[_0x3e0382(0x2cf)]=0x0,gote_moti_flg=0x0);_0x24bf8a[_0x3e0382(0x36b)]=0x0;let _0x545072=0x1,_0x2157df=0x0;for(let _0x146d23=0x0;_0x146d23<_0x2b2a9b[_0x3e0382(0x39b)];_0x146d23++){let _0x331bb8=_0x2b2a9b[_0x146d23];if(_0x331bb8[_0x3e0382(0x227)]('#')==0x0)continue;if(_0x331bb8[_0x3e0382(0x227)]('&')==0x0)continue;if(_0x331bb8[_0x3e0382(0x227)]('まで')==0x0)continue;if(load_teai_sub(cbd,start,_0x331bb8)!=0x0)continue;if(load_kifu_info(_0x24bf8a,_0x331bb8))continue;if(_0x331bb8[_0x3e0382(0x227)]('*')==0x0){load_comment(_0x331bb8);continue;}if(_0x24bf8a[_0x3e0382(0x23a)]>0x0&&_0x331bb8[_0x3e0382(0x227)](_0x3e0382(0x34c))==0x0){_0x24bf8a[_0x3e0382(0x36b)]=0x1;let _0x362296=_0x331bb8[_0x3e0382(0x221)](0x3),_0xc0f0f9=parseInt(_0x362296);console[_0x3e0382(0x186)](_0x3e0382(0x39c)+_0xc0f0f9),cbd['jump_back'](_0x24bf8a,_0xc0f0f9-0x1);continue;}if(_0x2157df==0x0&&kifu_line(_0x331bb8)!=0x0||_0x331bb8['indexOf'](_0x3e0382(0x384))==0x0){console[_0x3e0382(0x186)]('#\x20kifu_line'+_0x331bb8+_0x3e0382(0x24e)+_0x24bf8a['abnormal_flg']);_0x24bf8a[_0x3e0382(0x2cf)]==0x0?game_init(_0x24bf8a,cbd,start):sort_board(_0x24bf8a,cbd,start);_0x2157df=0x1;if(_0x331bb8[_0x3e0382(0x227)](_0x3e0382(0x384))==0x0)continue;}if(!_0x239d6b){if(_0x331bb8[_0x3e0382(0x227)](_0x3e0382(0x31d))>=0x0)continue;if(_0x331bb8[_0x3e0382(0x227)](_0x3e0382(0x334))>=0x0)continue;let _0x5ec162=load_bod_sub(cbd,_0x331bb8,_0x545072);if(_0x5ec162==0x1){_0x545072++,_0x24bf8a['abnormal_flg']=0x1;continue;}else{if(_0x5ec162==-0x1){console['error'](_0x3e0382(0x323)+_0x331bb8);break;}}if(load_moti_sub(cbd,_0x331bb8)!=0x0)continue;}let _0x5003e5=load_move_sub(_0x331bb8);if(_0x5003e5==-0x2||_0x5003e5==-0x1)break;_0x5003e5==0x2&&(last=0x1);}if(!_0x239d6b){}adjust_kifu_position(),set_button_positions(!![]),ReplayTop(),TopInfo(_0x24bf8a),RightImageName(_0x24bf8a),LeftImageName(_0x24bf8a),console[_0x3e0382(0x186)](_0x3e0382(0x37d)+_0x560161);if(_0x560161==-0x1){let _0x3d0550=location[_0x3e0382(0x273)];console[_0x3e0382(0x186)]('#\x20url='+_0x3d0550);let _0x41478a=_0x3d0550[_0x3e0382(0x29c)]('?te=');if(_0x41478a>=0x0){let _0x244cb8=_0x3d0550[_0x3e0382(0x221)](_0x41478a+0x4);_0x41478a=_0x244cb8['lastIndexOf']('?');_0x41478a>=0x0&&(_0x244cb8=_0x244cb8[_0x3e0382(0x221)](0x0,_0x41478a));let _0x1442d9=parseInt(_0x244cb8,0xa);console[_0x3e0382(0x186)](_0x3e0382(0x17f)+_0x1442d9),Jump_sub(_0x1442d9),ViewUpdate();}else{if(typeof START_TESUU!==_0x3e0382(0x24c))console[_0x3e0382(0x186)](_0x3e0382(0x22f)+START_TESUU),typeof START_TESUU=='string'?START_TESUU[_0x3e0382(0x227)]('LAST')>=0x0&&ReplayLast(0x0,0x1):(Jump_sub(START_TESUU),ViewUpdate());else!_0x24bf8a[_0x3e0382(0x1d8)]()&&ReplayLast(0x0,0x1);}_0x24bf8a[_0x3e0382(0x1d8)]()&&StopAutoUpdate();}else{if(_0x560161==-0x2){ReplayLast(0x0,0x1);if(_0x24bf8a[_0x3e0382(0x23a)]>_0x487ce8){_0x24bf8a[_0x3e0382(0x1d8)]()?(game_end_sound(),console[_0x3e0382(0x1e0)]('===\x20終局\x20===')):Komaoto();window[_0x3e0382(0x35c)](),console[_0x3e0382(0x1e0)](_0x3e0382(0x1f6)),window[_0x3e0382(0x1cf)]();let _0x39e291=kifu_select[_0x3e0382(0x1ca)][_0x3e0382(0x2ea)];console[_0x3e0382(0x1e0)](_0x3e0382(0x172)+_0x39e291),kifu_select[_0x3e0382(0x1ca)][_0x3e0382(0x2ea)]='2px\x20solid\x20#0000ff';var _0x11a40e=function(){const _0x251786=_0x3e0382;console[_0x251786(0x186)](_0x251786(0x367)),kifu_select[_0x251786(0x1ca)]['border']='';};setTimeout(_0x11a40e,0x7530);}}else Jump_sub(_0x560161),ViewUpdate(),_0x24bf8a[_0x3e0382(0x208)]()>_0x2d25b3&&(_0x24bf8a[_0x3e0382(0x1d8)]()?game_end_sound():Komaoto());}return set_kifu_list(),ButtonUpdate(),0x0;}function get_kif_url(){const _0x89d5ab=_0x5bd22d;if(KIF_FILE_NAME[_0x89d5ab(0x227)]('/')==0x0||KIF_FILE_NAME['indexOf'](_0x89d5ab(0x1ad))==0x0){let _0x5a8fe7=KIF_FILE_NAME;return console[_0x89d5ab(0x186)](_0x89d5ab(0x17a)+_0x5a8fe7),_0x5a8fe7;}else{let _0x3bf4f2=location[_0x89d5ab(0x273)],_0x5a894a=_0x3bf4f2[_0x89d5ab(0x29c)]('/');_0x5a894a>=0x0&&(_0x3bf4f2=_0x3bf4f2[_0x89d5ab(0x221)](0x0,_0x5a894a+0x1));let _0x1a2365=_0x3bf4f2+KIF_FILE_NAME;return console[_0x89d5ab(0x186)]('\x20file_url='+_0x1a2365),_0x1a2365;}}var loading;function load_kifu(_0x401e80,_0x3e6ef5,_0x2e8fc3,_0x5935aa){const _0xf18377=_0x5bd22d;console['log'](_0xf18377(0x301));if(window[_0xf18377(0x1ae)]&&window[_0xf18377(0x298)]&&window[_0xf18377(0x2b5)]&&window['Blob']){}else{alert(_0xf18377(0x20c));return;}loading=!![];let _0x5519e9=new Date(),_0xf67b54=_0x5519e9[_0xf18377(0x220)](),_0x20a025=get_kif_url(),_0x5c910c=get_kif_url();if(typeof UPDATE_TIME!=='undefined'){_0x5c910c=get_kif_url()+'?'+_0xf67b54;}let _0x29c19b=![],_0x3cf818=_0x20a025['substr'](_0x20a025[_0xf18377(0x39b)]-0x5);_0x3cf818=_0x3cf818[_0xf18377(0x2d0)]();if(_0x3cf818==_0xf18377(0x2ad))_0x29c19b=!![];var _0x2515d3=new XMLHttpRequest();_0x2515d3['open'](_0xf18377(0x1f1),_0x5c910c,!![]);if(_0x29c19b)_0x2515d3[_0xf18377(0x234)](_0xf18377(0x304));else _0x2515d3[_0xf18377(0x234)](_0xf18377(0x380));_0x2515d3[_0xf18377(0x201)]=function(_0xea4233){const _0x27463c=_0xf18377;console['error'](_0x27463c(0x313)+_0x2515d3[_0x27463c(0x38d)]);},_0x2515d3[_0xf18377(0x3aa)]=function(_0x1eb657){const _0x42ba47=_0xf18377;console[_0x42ba47(0x186)](_0x42ba47(0x361));if(_0x2515d3[_0x42ba47(0x21a)]===0x4){if(_0x2515d3[_0x42ba47(0x2fc)]===0xc8){let _0x1918e2=_0x20a025['substr'](_0x20a025[_0x42ba47(0x39b)]-0x4);_0x1918e2=_0x1918e2['toLowerCase'](),_0x1918e2=='.csa'?csa_load(_0x2515d3[_0x42ba47(0x29f)],_0x20a025,_0x3e6ef5,_0x2e8fc3,_0x5935aa):load_kifu_sub(_0x2515d3[_0x42ba47(0x29f)],_0x20a025,_0x3e6ef5,_0x2e8fc3,_0x5935aa);}else _0x2515d3['status']===0x194?(console['error'](''+_0x2515d3[_0x42ba47(0x2fc)]+':'+_0x2515d3[_0x42ba47(0x38d)]),ViewUpdate(),!FREE&&TopInfo(_0x3e6ef5)):console['error'](''+_0x2515d3['status']+':'+_0x2515d3[_0x42ba47(0x38d)]);}},_0x2515d3['onreadystatechange']=function(){const _0x2d0d69=_0xf18377;console[_0x2d0d69(0x186)](_0x2d0d69(0x3a3)+_0x2515d3[_0x2d0d69(0x21a)]);if(_0x2515d3[_0x2d0d69(0x21a)]===0x4){if(_0x2515d3['status']===0xc8||_0x2515d3[_0x2d0d69(0x2fc)]==0x0){}}},_0x2515d3['onloadend']=function(){const _0x363aaf=_0xf18377;console['log'](_0x363aaf(0x36d)+_0x2515d3[_0x363aaf(0x21a)]),loading=![];},_0x2515d3[_0xf18377(0x18d)]();}const version=_0x5bd22d(0x307),MODE_SILENT=0x4;var komaoto_flg=!![],toryo_sound_flg=![],comment_str_size=0xb;const ua=navigator[_0x5bd22d(0x2bd)];console[_0x5bd22d(0x1e0)](_0x5bd22d(0x345)+ua);const is_iOS=ua['indexOf']('iPhone')>=0x0||ua[_0x5bd22d(0x227)](_0x5bd22d(0x232))>=0x0||ua[_0x5bd22d(0x227)]('iPod')>=0x0,isIPad=/iPad|Macintosh/i[_0x5bd22d(0x213)](navigator[_0x5bd22d(0x2bd)])&&_0x5bd22d(0x358)in document,isIOS=is_iOS||isIPad,isFirefox=ua[_0x5bd22d(0x227)]('Firefox')>=0x0;console[_0x5bd22d(0x1e0)](_0x5bd22d(0x25b)+isFirefox),console['log'](_0x5bd22d(0x2da));const COOKIE_STR=_0x5bd22d(0x1f2);let cookies=document[_0x5bd22d(0x202)],cookiesArray=cookies[_0x5bd22d(0x1c2)](';');for(let c of cookiesArray){let cArray=c['split']('=');if(cArray[0x0][_0x5bd22d(0x245)]('\x20')==_0x5bd22d(0x348)){if(cArray[0x1]==_0x5bd22d(0x18f))komaoto_flg=![];console['log'](_0x5bd22d(0x2f0)+komaoto_flg);}else{if(cArray[0x0]['trim']('\x20')==_0x5bd22d(0x268)){if(cArray[0x1]==_0x5bd22d(0x318))muji_flg=!![];console['log'](_0x5bd22d(0x19b)+muji_flg);}else{if(cArray[0x0][_0x5bd22d(0x245)]('\x20')=='comment_str_size'){let parsed=parseInt(cArray[0x1],0xa);isNaN(parsed)&&(parsed=0xb),comment_str_size=parsed,console[_0x5bd22d(0x186)](_0x5bd22d(0x17e)+comment_str_size);}else{if(cArray[0x0][_0x5bd22d(0x245)]('\x20')==_0x5bd22d(0x226)){if(cArray[0x1]=='false')toryo_sound_flg=![];console[_0x5bd22d(0x186)](_0x5bd22d(0x258)+toryo_sound_flg);}}}}}var small_header_flg=!![];typeof SMALL_HEADER!==_0x5bd22d(0x24c)&&(small_header_flg=SMALL_HEADER);console[_0x5bd22d(0x186)](_0x5bd22d(0x32b)+document['body'][_0x5bd22d(0x259)]),console['log'](_0x5bd22d(0x263)+document[_0x5bd22d(0x185)][_0x5bd22d(0x259)]),console[_0x5bd22d(0x186)]('#\x20documentElement.scrollTop='+document[_0x5bd22d(0x2e8)][_0x5bd22d(0x259)]);small_header_flg?TOP_INFO_H=0x19:TOP_INFO_H=0x46;if(FREE)TOP_INFO_H=0x0;BD_ORG_Y=TOP_INFO_H+0x28,KOMADAI_LEFT_Y=BD_ORG_Y-EDGE_Y,KOMADAI_RIGHT_Y=BD_ORG_Y+0x5*SQ_SIZE_Y,COMMENT_TOP=BD_ORG_Y+0x9*SQ_SIZE_Y+EDGE_Y+0x4;let kj_left_flg=![];typeof KJ_LEFT!==_0x5bd22d(0x24c)&&(kj_left_flg=KJ_LEFT);var kj_div=document[_0x5bd22d(0x386)](_0x5bd22d(0x3a9));if(!kj_left_flg)kj_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x248)]=_0x5bd22d(0x1f7);var html_kj_div=document['getElementById'](_0x5bd22d(0x1c3));html_kj_div!=null?(console[_0x5bd22d(0x186)](_0x5bd22d(0x179)),html_kj_div[_0x5bd22d(0x28e)](kj_div)):(console['log'](_0x5bd22d(0x295)),document[_0x5bd22d(0x185)][_0x5bd22d(0x28e)](kj_div));var body=document[_0x5bd22d(0x185)];body[_0x5bd22d(0x1ca)][_0x5bd22d(0x1a1)]=_0x5bd22d(0x24f),body[_0x5bd22d(0x1ca)]['margin']='0';var canvas=document[_0x5bd22d(0x386)]('canvas');canvas[_0x5bd22d(0x270)]=0x266*RATE,canvas[_0x5bd22d(0x371)]=0x28a*RATE;small_header_flg&&(canvas['height']=0x262*RATE);FREE&&(canvas[_0x5bd22d(0x270)]=0x244*RATE,typeof COMMENT_LINE!=='undefined'?COMMENT_LINE==0x0?canvas['height']=0x17c*RATE:canvas[_0x5bd22d(0x371)]=(0x17c+0x14*COMMENT_LINE)*RATE:canvas['height']=0x1ea*RATE);canvas[_0x5bd22d(0x1ca)]['width']=String(canvas[_0x5bd22d(0x270)]/devicePixelRatio)+'px',canvas[_0x5bd22d(0x1ca)]['height']=String(canvas['height']/devicePixelRatio)+'px',console[_0x5bd22d(0x186)]('myCanvas.style.width='+canvas[_0x5bd22d(0x1ca)][_0x5bd22d(0x270)]),canvas[_0x5bd22d(0x1ca)][_0x5bd22d(0x27a)]=_0x5bd22d(0x25d),kj_div['appendChild'](canvas);let canvas_rect=canvas[_0x5bd22d(0x32d)](),canvas_top=canvas_rect[_0x5bd22d(0x2fa)],canvas_x=canvas_rect[_0x5bd22d(0x188)];console[_0x5bd22d(0x186)]('#\x20canvas\x20top='+canvas_top),console[_0x5bd22d(0x186)]('#\x20canvas_x='+canvas_x+_0x5bd22d(0x240)+canvas['offsetLeft']);var top_label1=null,top_label2,top_label3,BUTTON_WIDTH=0x28;if(FREE)BUTTON_WIDTH=0x24;function set_buttons(_0x2667fa){const _0x1feace=_0x5bd22d;_0x2667fa[_0x1feace(0x1e2)]='button',_0x2667fa[_0x1feace(0x1ca)][_0x1feace(0x287)]=_0x1feace(0x1fe);let _0x32080b=String(canvas_top+TOP_INFO_H+0x4)+'px';_0x2667fa[_0x1feace(0x1ca)][_0x1feace(0x2fa)]=_0x32080b,_0x2667fa[_0x1feace(0x1ca)]['height']=_0x1feace(0x285);_0x2667fa!=button_flip&&_0x2667fa!=button_env&&(_0x2667fa[_0x1feace(0x1ca)][_0x1feace(0x270)]=String(BUTTON_WIDTH)+'px');_0x2667fa[_0x1feace(0x1ca)][_0x1feace(0x31a)]=_0x1feace(0x1b1),_0x2667fa['style']['userSelect']='none';if(!FREE&&(_0x2667fa==button_backB||_0x2667fa==button_nextB))return;document[_0x1feace(0x185)][_0x1feace(0x28e)](_0x2667fa);}function _0x1886(){const _0xc10838=['apply','rgb(128,\x20128,\x20128)','firstChild','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ4sMlJq5UA3D3By9zlPZ9WmSepgt1hjSrJAm4ax1lu39lx0C8erQbc9Xyt4LE2QZ6GzFAzKq1arxEAOw==','absolute','BRANCH_______________','開始局面\x20消費時間（１手/累積）','onerror','cookie','site','80px','mousedown','入玉宣言勝ち','%HIKIWAKE','get_kifu_size','603256vaQgGU','\x22\x20target=\x22_blank\x22','beginPath','The\x20File\x20APIs\x20are\x20not\x20fully\x20supported\x20in\x20this\x20browser.','＊開始局面','rgb(','#\x20toryo_sound_flg=','☗未定','gen_kiki','mov_strm_kp','test','香落ち','toryo_sound=','?te=','can_susumeru','次の分岐へ','発表：','readyState','**\x20store_kifu\x20move.k\x20===\x20\x27undefined\x27\x0a','init_teai','11px','#\x20COM_WIDTH=','teban','getTime','substring','***\x20move_data_from_moti\x20error\x20n=','***current_p_susumeru\x20branch=null','genmovq\x20f=','sakusya','toryo_sound','indexOf','move_s=','280rHWcuM','☖未定','%ILLEGAL_MOVE','##\x20Info\x20kisen=','棋譜保存','draw_board\x20onload','###\x20START_TESUU=','rgb(204,\x20158,\x20111)','\x20k=','iPad','#\x20piece_img.onload','overrideMimeType','コメント文字の大きさ','promote','#\x20Jump_henka\x20n=','offsetLeft','$START_TIME:','move_no','出典：','二枚落ち','set_modify_sub','modal','持駒：','\x20\x20canvas.offsetLeft=','**\x20UPDATE_TIME\x20設定エラー:','date','square','Help','trim','fillStyle','img','textAlign','anywhere','label','onUp','undefined','Illegal\x20Lose','\x20abnormal_flg=','500px','手反則負け','＊開始局面\x20消費時間（１手/累積）','back','***\x20ERROR\x20201:\x20消費時間の手数:','170px','</a>','#\x20====\x20TopInfo\x20======','\x20kf=','toryo_sound_flg=','scrollTop','閉じる','isFirefox=','NextR.gif','#EEF5DD','左五枚落ち','comment_height=','自動更新：60秒毎','selectedIndex','***\x20get_kifup\x20error\x20n=','#\x20body.scrollTop=','set_modify','innerHTML','next','kifu_array[0]:f=','muji','gote_name','###\x20touchDown\x20','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQysMlJq50A3I1f5hfwjB/YjaRmiihabmzrqlbcZkceyrgOz7nDygMImiQ94XHiWzqfnAgAOw==','開始\x20','motijikan','strokeStyle','<br>','width','#\x20sort_board\x20teban=','Final','href','---\x20set_bunki_combo','rgb(85,\x2085,\x2085)','\x22\x20target=\x22_blank\x22>','className','clientHeight','BackR.gif','backgroundColor','button','get_next_move','rgb(30,\x2030,\x2030)','\x20t=','15px\x20\x27ＭＳ\x20Ｐゴシック\x27','##\x20clientHeight=','shohi_jikan','<U><FONT\x20color=\x22#0000ff\x22><a\x20href=\x22','DrawPiece\x20s=','seiseki','20px','手番：先手','position','button_backr','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQosMlJq704692A/5wEPOQDHOFYnmlpopxKsrFLb98Hc0fvh8CgcLiJAAA7','15px','消費時間','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ4sMlJq72g5ksBOJMHcg3wfJKJcuYJtqvVunPcPfg5u2z+1SMMDgULClcqIyYmIoWMNpJS6axaLREAOw==','move_data_from_moti','appendChild','min','***\x20先後未定\x20error','createTextNode','drawImage','clear_sq\x20***\x20ban_img\x20==\x20null\x20s=','kifu_root','###\x20html_kj_div\x20==\x20null','168749qylvep','overflowY','FileReader','#\x20OnComSizeChange\x20\x20val\x20=\x20','切れ負け','150px','lastIndexOf','open','その他','responseText','Kifu\x20','***\x20駒がない\x20f=','get_motijikan','caldir','End\x20','###\x20top_label3.style.width=','kifu_list','target','四枚落ち','rgb(50,\x20140,\x20245)','15108zRMXKt','%CHUDAN','motigoma','.kifu','###\x20font_size=','Left','RATE=','先手持駒：','sente_name','\u3000\u3000☖','lineHeight','FileList','入玉勝ち','none','onClick\x20x:','button_last','board','作品名：','csa_load','userAgent','input','%KACHI','block','１手進める','button_top','***\x20自分の駒を取る\x20kt=','上手：','textContent','#\x20canX=','残り時間','FromToK','###\x20iOS','48jHoimT','193158BSOKmX','手番：後手','modify','current_bunki','abnormal_flg','toLowerCase','自動更新：３分毎','#\x20StopAutoUpdate\x20','持将棋','***\x20exec_move\x20error\x20f=','発表誌：','Nyugyoku\x20Win','function','Time\x20up','Mate','##\x20cookies','140%','\u3000\u3000変化なし','protocol','自動更新しない','上手番','#\x20komaotoOnChange\x20\x20\x20','後手：','***current_p_susumeru\x20next=null','_blank','strokeRect','12px','#\x20Komaoto\x20','連続で戻す','documentElement','1px\x201px\x2010px\x203px\x20#000','border','###\x20comment_div.style.cssText=','offsetTop','hour\x20','search','***\x20move_data\x20error\x20k=0\x20f=','komaoto_flg=','消費時間：','\x20ポイント','motigoma_pn_use','end_date','error\x20moves=','Repetition','replace','三枚落ち','fillText','top','get_last_move','status','error\x20tos=','持ち駒制限','find_oya','##\x20cbd.teai=','===\x20load_kifu\x20===','clr_bd_data','***\x20ban3.jpg\x20load\x20error','text/plain;\x20charset=UTF-8','store_move_set\x20f=','#\x20csa_load\x20call_tesuu=','V1.07','button_env','setk','\x20canY=','get_kifup','happyoushi','comment_str_size=','text','1px\x20solid\x20#888','手合割：','getContext','exec_move','onerror\x20','ReplayStop','charAt','\x20f=','syutten','true','store_kifu','padding','六枚落ち','store_move\x20','\x20\x20９','current_p','####\x20loading\x20','手時間切れ負け','十枚落ち','flip_teban','***\x20盤面読み込みエラー\x20','ban3.jpg?','comment','fill','is_bunki_n','happyou_nengetu','自動更新：30秒毎','get_new_kp','#\x20元\x20body.scrollTop=','scroll','getBoundingClientRect','###\x20set_button_positions\x20scroll_top2=','overflowWrap','size','***\x20set_kifu_list\x20i=','#\x20url=','**\x20修飾子が決まらない\x20f=','+--','move_data','get_koma_2posi','Stop.gif','clear_info','20px\x20\x27メイリオ\x27','set_modify_kp','*\x20env_div\x20===\x20\x27undefined\x27','作者：','開始日時：','***\x20back_move\x20error\x20kp=null\x20move_no=','終了\x20','get_comment','開始局面','Top.gif','motigoma_pn','10067580rxkwTR','userAgent=','move_data_to_moti','13px\x20\x27メイリオ\x27','komaoto','先手番','rgb(255,\x200,\x200)','###\x20total=','変化：','下手持駒：','後手反則負け','千日手','addEventListener','black','substr','---\x20ReplayTop','#\x20OnUpdateChange\x20\x20val\x20=\x20','Next.gif','エラー\x20002：ディレクトリィ\x20KJ_DIR\x20の指定がありません。','上手の持駒：','ontouchend','手まで','先後未定：','clientX','blur','###\x20button_env.onclick\x20設定','get_main_all_time','##\x20onClick\x20scroll_top2=','#\x20LoadKoma\x20--','KIF\x20onload','###\x20TopInfo\x20canvas_top=','###\x20window\x20\x20resize','0px','持ち時間：','2px','to_old_border','飛車落ち','後手の持駒：','sakuhinmei','bunki_flg','***\x20caldir\x20error\x20t=','##\x20onloadend\x20readyState=','fontSize','後手持駒：','button_back','height','rgb(255,\x20255,\x20200)','checkbox','***\x20ExecMove\x20','rgb(242,\x20192,\x20119)','stroke','button_next','option','setAttribute','BackMove','**\x20f=','clientY','##\x20------\x20load_kifu_sub\x20call_tesuu=','%TIME_UP','muji=','text/plain;\x20charset=Shift_JIS','display','mouseup','disabled','手数---','http:','createElement','sengo_mitei_flg','***\x20駒に打つ','button_nextr','rgb(255,\x20255,\x20255)','add_comment','Y\x20盤内','statusText','##\x20kifu_select\x20offsetHeight=','１手戻す','setbd','手番：上手','下手：','slice','###\x20line3.length=','BackB.gif','fillRect','resize','残り時間：終局まで','#\x20mokumeoOnChange\x20\x20\x20','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ+sMlJq50A3JZ3PlX2AKD1YcCjktcpqmsZZikMs2Zt3zJF6zbc7HB48Vq4ok7oYypHPVS0oZxKiBvsZsvtUiIAOw==','length','#\x20分岐','###\x20button_env.onclick','teai','button_stop','Start\x20','event','###\x20touchUp\x20','#\x20onreadystatechange\x20readyState=','五枚落ち','2150DEdoYM','src','46px','#\x20game_end_sound\x20','div','onload','先手の持駒：','846421tRZaXz','kisen','###\x20document\x20complete','##\x20update_timer\x20','kifu_array','###\x20old_border=','font','駒の名前が違います。','\x20COM_WIDTH','**\x20store\x20move.k\x20===\x20\x27undefined\x27\x0a','store','角落ち','###\x20html_kj_div\x20!=\x20null','#\x20file_url=','setTransform','add','branch','###\x20comment_str_size=','#\x20te=','<a\x20href=\x22h','get_total_time_kp','debug_show','free_help.html','erak','body','log','clear_kifu','left','その他\u3000','rgb(0,\x200,\x200)','場所：','lineWidth','send','title','false','ルールエラー\x20','***\x20back','csa_load_comment\x20','offsetHeight','#\x20COMM_LEFT=','pageY','22px','右香落ち','rgb(0,\x200,\x20255)','Spend','iPadからのアクセス','muji_flg=','cssText','piece_4g.png?','##\x20---\x20adjust_kifu_position','八枚落ち','#fefefe','minWidth','removeChild','localhost','value','開始局面へ','残り時間：','comment_textarea','rgb(224,\x20178,\x20131)','play','##\x20set_button_positions\x20canvas_top=','飛香落ち','▽未定','http','File','button_help','#\x20OnButtonNextRClick\x20\x20\x20','1px','Last.gif','text-align:\x20left\x20!important;','###\x20get_shohi\x20shohi_jikan=','24px','piece','lineTo','hirate','***\x20piece_4g.png\x20load\x20error','10px\x20\x27メイリオ\x27','#\x20Not\x20Modified','interactive','\u3000Version\x20','uniq','time','rgb(255,\x20255,\x20153)','11pt','split','KJ_DIV','反則負け','###\x20sente_shohi=','\u3000\u3000☗','23392720RhwrFs','手の勝ち','%SENNICHITE','style','後手番','start','手番：下手','#\x20---\x20set_kifu_list\x20size=','focus','\x27**','Draw','moveTo','***\x20ERROR\x20202:\x20消費時間:','error','genmovq','is_henka_kp','change','is_syuukyoku','mov_strm_sub','copy_from_board','下手番','click','data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ+sMlJq50A3JY3eF2VHdf3gBoGkJZ5otJYvnQmt3R+i/lpr7Pa6rCjuEYHUhGDSrI4wNbwGYtakhvsZsvtUiIAOw==','rgba(0,\x200,\x200,\x201)','komaoto=','info','select','type','リーグ成績：','反則勝ち','Back.gif','最終局面へ','発表年月：','back_move','complete','current_p_susumeru','***\x20空白なし\x20url=\x27','%TORYO','\x20pt=','checked','100px','options','GET',';\x20samesite=Strict;','targetTouches','下手の持駒：','jump_back','###\x20Window.focus\x20###','center','Help\x20file_url=','127.0.0.1'];_0x1886=function(){return _0xc10838;};return _0x1886();}const button_top=document['createElement']('button');button_top['setAttribute']('id',_0x5bd22d(0x2c2)),button_top[_0x5bd22d(0x350)]('click',OnButtonTopClick);var top_img=document['createElement'](_0x5bd22d(0x247));const WEBPACK=!![];if(WEBPACK){const top_gif=_0x5bd22d(0x39a);top_img[_0x5bd22d(0x3a6)]=top_gif;}else top_img['src']=KJ_DIR+_0x5bd22d(0x342);button_top[_0x5bd22d(0x28e)](top_img),button_top['style'][_0x5bd22d(0x188)]=String(canvas_x+0xa)+'px',button_top[_0x5bd22d(0x18e)]=_0x5bd22d(0x1a5);var button_backr=document[_0x5bd22d(0x386)](_0x5bd22d(0x27b));button_backr[_0x5bd22d(0x379)]('id',_0x5bd22d(0x288)),button_backr[_0x5bd22d(0x350)](_0x5bd22d(0x1dc),OnButtonBackRClick);var backr_img=document['createElement']('img');WEBPACK?backr_img['src']=_0x5bd22d(0x28c):backr_img[_0x5bd22d(0x3a6)]=KJ_DIR+_0x5bd22d(0x279);button_backr[_0x5bd22d(0x28e)](backr_img),button_backr[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(canvas_x+0x3c)+'px',button_backr[_0x5bd22d(0x18e)]=_0x5bd22d(0x2e7);const button_back=document[_0x5bd22d(0x386)](_0x5bd22d(0x27b));button_back[_0x5bd22d(0x379)]('id',_0x5bd22d(0x370)),button_back[_0x5bd22d(0x350)]('click',OnButtonBackClick);var back_img=document[_0x5bd22d(0x386)](_0x5bd22d(0x247));WEBPACK?back_img['src']='data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQwsMlJq70VAIz1AwdHec8XimRpcqm6Wq37WkdcgmINyLjY6Kqe7+cRDonG4++kbB4jADs=':back_img['src']=KJ_DIR+_0x5bd22d(0x1e5);button_back[_0x5bd22d(0x28e)](back_img),button_back[_0x5bd22d(0x1ca)]['left']=String(canvas_x+0x6e)+'px',button_back[_0x5bd22d(0x18e)]=_0x5bd22d(0x38f);const button_stop=document[_0x5bd22d(0x386)](_0x5bd22d(0x27b));button_stop[_0x5bd22d(0x379)]('id',_0x5bd22d(0x39f)),button_stop['addEventListener'](_0x5bd22d(0x1dc),OnButtonStopClick);const stop_img=document[_0x5bd22d(0x386)](_0x5bd22d(0x247));WEBPACK?stop_img[_0x5bd22d(0x3a6)]=_0x5bd22d(0x289):stop_img[_0x5bd22d(0x3a6)]=KJ_DIR+_0x5bd22d(0x337);button_stop[_0x5bd22d(0x28e)](stop_img),button_stop['style'][_0x5bd22d(0x188)]=String(canvas_x+0xa0)+'px',button_stop[_0x5bd22d(0x18e)]='停止';const button_next=document[_0x5bd22d(0x386)]('button');button_next['setAttribute']('id',_0x5bd22d(0x377)),button_next['addEventListener'](_0x5bd22d(0x1dc),OnButtonNextClick);const next_img=document[_0x5bd22d(0x386)](_0x5bd22d(0x247));WEBPACK?next_img[_0x5bd22d(0x3a6)]=_0x5bd22d(0x26b):next_img[_0x5bd22d(0x3a6)]=KJ_DIR+_0x5bd22d(0x355);button_next[_0x5bd22d(0x28e)](next_img),button_next[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(canvas_x+0xd2)+'px',button_next[_0x5bd22d(0x18e)]=_0x5bd22d(0x2c1);const button_nextr=document['createElement'](_0x5bd22d(0x27b));button_nextr[_0x5bd22d(0x379)]('id',_0x5bd22d(0x389)),button_nextr['addEventListener'](_0x5bd22d(0x1dc),OnButtonNextRClick);const nextr_img=document['createElement'](_0x5bd22d(0x247));WEBPACK?nextr_img['src']='data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ6sMlJq52g5qu3BB7XAI9HhhdZfs8qqiuMUnBZz2wLHPJxpDqfavcDEkcl3+s4YnKcTlFxMhVZr9hJBAA7':nextr_img[_0x5bd22d(0x3a6)]=KJ_DIR+_0x5bd22d(0x25c);button_nextr[_0x5bd22d(0x28e)](nextr_img),button_nextr[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(canvas_x+0x104)+'px',button_nextr[_0x5bd22d(0x18e)]='連続で進める';const button_last=document[_0x5bd22d(0x386)](_0x5bd22d(0x27b));button_last['setAttribute']('id',_0x5bd22d(0x2b9)),button_last[_0x5bd22d(0x350)](_0x5bd22d(0x1dc),OnButtonLastClick);const last_img=document[_0x5bd22d(0x386)](_0x5bd22d(0x247));WEBPACK?last_img[_0x5bd22d(0x3a6)]=_0x5bd22d(0x1dd):last_img[_0x5bd22d(0x3a6)]=KJ_DIR+_0x5bd22d(0x1b2);button_last[_0x5bd22d(0x28e)](last_img),button_last[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(canvas_x+0x136)+'px',button_last[_0x5bd22d(0x18e)]=_0x5bd22d(0x1e6);const button_backB=document['createElement'](_0x5bd22d(0x27b));if(FREE){button_backB[_0x5bd22d(0x350)](_0x5bd22d(0x1dc),ReplayBackBranch);const backb_img=document['createElement'](_0x5bd22d(0x247));WEBPACK?backb_img[_0x5bd22d(0x3a6)]='data:image/gif;base64,R0lGODlhFAAPALMAAAAAAIAAAACAAICAAAAAgIAAgACAgICAgMDAwP8AAAD/AP//AAAA//8A/wD//////yH5BAEAAA0ALAAAAAAUAA8AAAQ6sMlJq70XAIz1A4e1Vd7zhSTalOYphmzrTlot32B1gDtwm7mUpIdT0YxEoHGybBCDHJ2mGR1Sq1hsBAA7':backb_img[_0x5bd22d(0x3a6)]=KJ_DIR+_0x5bd22d(0x395),button_backB[_0x5bd22d(0x28e)](backb_img),button_backB[_0x5bd22d(0x18e)]='前の分岐へ';}const button_nextB=document['createElement'](_0x5bd22d(0x27b));if(FREE){button_nextB[_0x5bd22d(0x350)](_0x5bd22d(0x1dc),ReplayNextBranch);const nextb_img=document['createElement'](_0x5bd22d(0x247));WEBPACK?nextb_img['src']=_0x5bd22d(0x1fd):nextb_img[_0x5bd22d(0x3a6)]=KJ_DIR+'NextB.gif',button_nextB[_0x5bd22d(0x28e)](nextb_img),button_nextB[_0x5bd22d(0x18e)]=_0x5bd22d(0x218);}const button_flip=document['createElement'](_0x5bd22d(0x27b));button_flip[_0x5bd22d(0x379)]('id','button_flip'),button_flip[_0x5bd22d(0x350)](_0x5bd22d(0x1dc),Flip),button_flip[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(canvas_x+0x186)+'px',button_flip[_0x5bd22d(0x2c5)]='反転',button_flip[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=_0x5bd22d(0x21d);FREE?button_flip['style']['width']=String(0x2a)+'px':button_flip[_0x5bd22d(0x1ca)][_0x5bd22d(0x270)]=String(BUTTON_WIDTH+0x6)+'px';function Flip(){bdinv_flg=0x1-bdinv_flg,draw_board();}const button_help=document[_0x5bd22d(0x386)](_0x5bd22d(0x27b));button_help['setAttribute']('id',_0x5bd22d(0x1af)),button_help['addEventListener'](_0x5bd22d(0x1dc),Help),button_help[_0x5bd22d(0x1ca)]['left']=String(canvas_x+0x1bd)+'px',button_help['textContent']=_0x5bd22d(0x244),button_help['style'][_0x5bd22d(0x36e)]='11px',button_help[_0x5bd22d(0x1ca)][_0x5bd22d(0x270)]=String(BUTTON_WIDTH)+'px';function Help(){const _0x565c56=_0x5bd22d;let _0x12ac3e=KJ_DIR+'help.html';FREE&&(_0x12ac3e=KJ_DIR+_0x565c56(0x183)),console[_0x565c56(0x186)](_0x565c56(0x1f8)+_0x12ac3e),window[_0x565c56(0x29d)](_0x12ac3e,_0x565c56(0x2e3),'width=643,height=842');}const button_env=document[_0x5bd22d(0x386)](_0x5bd22d(0x27b));button_env[_0x5bd22d(0x379)]('id',_0x5bd22d(0x308)),button_env['textContent']='設定',button_env['style'][_0x5bd22d(0x36e)]=_0x5bd22d(0x21d),button_env['style'][_0x5bd22d(0x270)]=_0x5bd22d(0x3a7),set_buttons(button_top),set_buttons(button_backr),set_buttons(button_back),set_buttons(button_stop),set_buttons(button_next),set_buttons(button_nextr),set_buttons(button_last);FREE&&(set_buttons(button_backB),set_buttons(button_nextB));set_buttons(button_flip),set_buttons(button_help),set_buttons(button_env);function set_button_positions(_0x4d2684){const _0x2ac79c=_0x5bd22d;if(_0x4d2684){if(isIPad){console[_0x2ac79c(0x1e0)](_0x2ac79c(0x19a));return;}if(isIOS){console[_0x2ac79c(0x1e0)](_0x2ac79c(0x2c9));return;}}let _0x12ae86=canvas[_0x2ac79c(0x32d)](),_0x48b253=_0x12ae86[_0x2ac79c(0x188)],_0x430154=_0x12ae86[_0x2ac79c(0x2fa)],_0x456541=document[_0x2ac79c(0x185)][_0x2ac79c(0x259)],_0x9dbc0=document[_0x2ac79c(0x2e8)]['scrollTop'];if(_0x9dbc0>_0x456541)_0x430154+=_0x9dbc0;else _0x430154+=_0x456541;console[_0x2ac79c(0x186)](_0x2ac79c(0x1aa)+_0x430154);const _0x360331=0x5;let _0xa30935=0xa;FREE&&(_0xa30935=0x8);button_top['style'][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331)+'px',button_backr['style'][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+BUTTON_WIDTH+_0xa30935)+'px',button_back['style'][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0x2)+'px',button_stop['style']['left']=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0x3)+'px',button_next[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0x4)+'px',button_nextr[_0x2ac79c(0x1ca)]['left']=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0x5)+'px',button_last[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0x6)+'px';FREE?(button_backB[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0x7)+'px',button_nextB[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0x8)+'px',button_flip[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0x9)+'px',button_help[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+(BUTTON_WIDTH+_0xa30935)*0xa+0x2)+'px'):(button_flip[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x48b253+_0x360331+0x17c)+'px',button_help[_0x2ac79c(0x1ca)]['left']=String(_0x48b253+_0x360331+0x1b3)+'px');let _0x5219f8=String(_0x430154+TOP_INFO_H+0x4)+'px';button_top[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8,button_backr[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8,button_back[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8,button_stop[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8,button_next[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8,button_nextr[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8,button_last[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8;FREE&&(button_backB[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8,button_nextB[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8);button_flip[_0x2ac79c(0x1ca)]['top']=_0x5219f8,button_help[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=_0x5219f8,button_env[_0x2ac79c(0x1ca)]['top']=_0x5219f8,button_env[_0x2ac79c(0x1ca)][_0x2ac79c(0x371)]=_0x2ac79c(0x196);let _0x1c6a39=String(_0x430154+COMMENT_TOP)+'px';comment_textarea['style'][_0x2ac79c(0x2fa)]=_0x1c6a39;HTML_COMMENT&&(comment_div['style'][_0x2ac79c(0x2fa)]=_0x1c6a39);COMM_LEFT=_0x48b253+0xaf;if(FREE){COMM_LEFT=_0x48b253+0x2;const _0x5ef792=0x2,_0x1a8036=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+_0x5ef792;let _0x4e75b3=_0x48b253+_0x1a8036+MOTI_SIZE_X+0x1-_0x5ef792;comment_textarea[_0x2ac79c(0x1ca)][_0x2ac79c(0x270)]=String(_0x4e75b3-COMM_LEFT)+'px',HTML_COMMENT&&(comment_div[_0x2ac79c(0x1ca)][_0x2ac79c(0x270)]=String(_0x4e75b3-COMM_LEFT)+'px');}comment_textarea[_0x2ac79c(0x1ca)]['left']=String(COMM_LEFT)+'px';HTML_COMMENT&&(comment_div[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(COMM_LEFT)+'px');if(FREE){let _0x1d1d56=KOMADAI_RIGHT_X+MOTI_SIZE_X;button_env['style'][_0x2ac79c(0x188)]=String(_0x48b253+_0x1d1d56-0x2c)+'px';}else{let _0x592ca7=COMM_LEFT+COM_WIDTH;button_env[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x592ca7-0x2c)+'px';}let _0x5aa86c=_0x48b253+0x2;kifu_select[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x5aa86c)+'px';FREE?kifu_select[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+0xb9)+'px':kifu_select[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+TOP_INFO_H+0x174)+'px';FREE&&(branch_select[_0x2ac79c(0x1ca)]['left']=String(_0x5aa86c)+'px');button_save[_0x2ac79c(0x1ca)]['left']=String(_0x5aa86c)+'px';FREE?adjust_kifu_position():typeof UPDATE_TIME!==_0x2ac79c(0x24c)?button_save[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+TOP_INFO_H+0x20c)+'px':button_save[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+TOP_INFO_H+0x20c+0x18)+'px';update_select['style'][_0x2ac79c(0x188)]=String(_0x5aa86c)+'px';if(FREE)update_select[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+0xbd+0x82+0x2+0x18+0x4)+'px';else update_select[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+TOP_INFO_H+0x228)+'px';if(!FREE){let _0x46314e=0x2,_0x226b77=_0x48b253+0x4;!small_header_flg&&(typeof top_label1!==_0x2ac79c(0x24c)&&top_label1!=null&&(top_label1[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x226b77)+'px',top_label1[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+_0x46314e)+'px'),typeof top_label2!==_0x2ac79c(0x24c)&&top_label2!=null&&(top_label2['style'][_0x2ac79c(0x188)]=String(_0x226b77)+'px',top_label2['style']['top']=String(_0x430154+_0x46314e+0x14)+'px'));let _0x14918b;if(small_header_flg)_0x14918b=_0x46314e+0x10;else _0x14918b=_0x46314e+0x3c;typeof top_label3!==_0x2ac79c(0x24c)?(top_label3[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+_0x14918b-0x10)+'px',top_label3[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x226b77)+'px',top_label3[_0x2ac79c(0x1ca)]['textAlign']=_0x2ac79c(0x1f7)):console[_0x2ac79c(0x186)]('*\x20top_label3\x20===\x20\x27undefined\x27');}typeof env_div!=='undefined'&&env_div!=null?(env_div[_0x2ac79c(0x1ca)][_0x2ac79c(0x2fa)]=String(_0x430154+0x78)+'px',FREE?env_div[_0x2ac79c(0x1ca)]['left']=String(_0x48b253+0x96)+'px':env_div[_0x2ac79c(0x1ca)][_0x2ac79c(0x188)]=String(_0x48b253+0xaa)+'px'):console['log'](_0x2ac79c(0x33b));}function ___COMMENT________(){}var comment_textarea=document[_0x5bd22d(0x386)]('textarea');comment_textarea[_0x5bd22d(0x379)]('id',_0x5bd22d(0x1a7)),comment_textarea[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]='absolute';let comment_top_str=String(canvas_top+COMMENT_TOP)+'px';comment_textarea[_0x5bd22d(0x1ca)]['top']=comment_top_str,console[_0x5bd22d(0x186)](_0x5bd22d(0x25f)+comment_height),comment_textarea[_0x5bd22d(0x1ca)][_0x5bd22d(0x371)]=String(comment_height)+'px';const COM_WIDTH=0x1b2;comment_textarea['style']['width']=String(COM_WIDTH)+'px',console[_0x5bd22d(0x186)](_0x5bd22d(0x21e)+COM_WIDTH);var COMM_LEFT=canvas_x+0xaf;if(FREE){COMM_LEFT=canvas_x+0x2;const GAP=0x2,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+GAP;let right=canvas_x+OX+MOTI_SIZE_X+0x1-GAP;comment_textarea['style'][_0x5bd22d(0x270)]=String(right-COMM_LEFT)+'px';}else{}console[_0x5bd22d(0x186)](_0x5bd22d(0x194)+COMM_LEFT),comment_textarea[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(COMM_LEFT)+'px';!HTML_COMMENT&&document['body'][_0x5bd22d(0x28e)](comment_textarea);comment_textarea[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=_0x5bd22d(0x1c1),comment_textarea['style'][_0x5bd22d(0x2b4)]=_0x5bd22d(0x2db),comment_textarea['readOnly']=!![],comment_textarea['style'][_0x5bd22d(0x397)]=_0x5bd22d(0x2b7);var comment_div=document[_0x5bd22d(0x386)]('div');comment_div['style']['position']=_0x5bd22d(0x1fe),comment_div['style'][_0x5bd22d(0x2fa)]=String(canvas_top+COMMENT_TOP+0x0)+'px',comment_div[_0x5bd22d(0x1ca)]['height']=String(comment_height)+'px';if(FREE){COMM_LEFT=canvas_x+0x2;const GAP=0x2,OX=BD_ORG_X+0x9*SQ_SIZE_X+EDGE_X+RIGHT_GAP+GAP;let right=canvas_x+OX+MOTI_SIZE_X+0x1-GAP;comment_div[_0x5bd22d(0x1ca)]['width']=String(right-COMM_LEFT)+'px';}else comment_div[_0x5bd22d(0x1ca)]['width']=String(COM_WIDTH)+'px';comment_div['style'][_0x5bd22d(0x188)]=String(COMM_LEFT)+'px',comment_div['style']['backgroundColor']=_0x5bd22d(0x1a0),comment_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x2ea)]=_0x5bd22d(0x30f),comment_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x297)]=_0x5bd22d(0x32c),comment_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x32f)]=_0x5bd22d(0x249);let cssText=comment_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x19c)];comment_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x19c)]=cssText+_0x5bd22d(0x1b3),console[_0x5bd22d(0x186)](_0x5bd22d(0x2eb)+comment_div['style'][_0x5bd22d(0x19c)]);if(HTML_COMMENT){if(FREE&&typeof COMMENT_LINE!==_0x5bd22d(0x24c)&&COMMENT_LINE==0x0){}else document[_0x5bd22d(0x185)][_0x5bd22d(0x28e)](comment_div);}var comment_div_p=document[_0x5bd22d(0x386)]('p');comment_div_p[_0x5bd22d(0x379)]('id','comment_p'),comment_div_p[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe),comment_div_p[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(0x0)+'px',comment_div_p[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=String(comment_str_size)+'pt',comment_div_p[_0x5bd22d(0x1ca)]['lineHeight']=_0x5bd22d(0x2db),comment_div_p['style']['margin']=_0x5bd22d(0x366);if(HTML_COMMENT){if(FREE&&typeof COMMENT_LINE!==_0x5bd22d(0x24c)&&COMMENT_LINE==0x0){}else comment_div[_0x5bd22d(0x28e)](comment_div_p);}function KIFU_SELECT_____________(){}let kifu_sel_width=_0x5bd22d(0x254);if(FREE)kifu_sel_width='118px';var kifu_select=document[_0x5bd22d(0x386)](_0x5bd22d(0x1e1));kifu_select[_0x5bd22d(0x379)]('id',_0x5bd22d(0x2a6)),kifu_select[_0x5bd22d(0x1ca)]['position']=_0x5bd22d(0x1fe);FREE?kifu_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(canvas_top+0xbb)+'px':kifu_select['style'][_0x5bd22d(0x2fa)]=String(canvas_top+TOP_INFO_H+0x174)+'px';let kifu_select_x=canvas_x+0x2;kifu_select['style'][_0x5bd22d(0x188)]=String(kifu_select_x)+'px',kifu_select['style'][_0x5bd22d(0x270)]=kifu_sel_width;typeof UPDATE_TIME!==_0x5bd22d(0x24c)?kifu_select[_0x5bd22d(0x330)]=0x7:kifu_select[_0x5bd22d(0x330)]=0x8;document['body'][_0x5bd22d(0x28e)](kifu_select),kifu_select[_0x5bd22d(0x350)](_0x5bd22d(0x1d7),OnKifuSelectChange);isFirefox?kifu_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=_0x5bd22d(0x2e5):kifu_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]='12px';kifu_select['style']['padding']=_0x5bd22d(0x364),console[_0x5bd22d(0x186)](_0x5bd22d(0x38e)+kifu_select[_0x5bd22d(0x193)]);let ks_h=kifu_select[_0x5bd22d(0x32d)]()['height'];console[_0x5bd22d(0x186)]('##\x20ks_h='+ks_h);var branch_select=document[_0x5bd22d(0x386)]('select');branch_select[_0x5bd22d(0x1ca)]['position']=_0x5bd22d(0x1fe);if(FREE){if(typeof UPDATE_TIME!==_0x5bd22d(0x24c))branch_select['style'][_0x5bd22d(0x2fa)]=String(canvas_top+0xbd+0x82+0x2-0x11)+'px';else branch_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(canvas_top+0xbd+0x96+0x2-0x11)+'px';}else branch_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(canvas_top+TOP_INFO_H+0x228)+'px';branch_select['style']['left']=String(kifu_select_x)+'px',branch_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x270)]=kifu_sel_width,branch_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=_0x5bd22d(0x2e5);FREE&&(document[_0x5bd22d(0x185)]['appendChild'](branch_select),branch_select[_0x5bd22d(0x350)](_0x5bd22d(0x1d7),OnBranchChange));function KIFU_SAVE________(){}var button_save=document[_0x5bd22d(0x386)](_0x5bd22d(0x27b));button_save['addEventListener'](_0x5bd22d(0x1dc),OnButtonSaveClick),button_save[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe),button_save[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(kifu_select_x)+'px',button_save[_0x5bd22d(0x1ca)]['width']=kifu_sel_width;if(FREE){if(typeof UPDATE_TIME!=='undefined')button_save[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(canvas_top+0xbd+0x82+0x2)+'px';else button_save[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(canvas_top+0xbd+0x96+0x2)+'px';}else{if(typeof UPDATE_TIME!==_0x5bd22d(0x24c))button_save[_0x5bd22d(0x1ca)]['top']=String(canvas_top+TOP_INFO_H+0x20c)+'px';else{}}button_save[_0x5bd22d(0x1ca)]['height']=_0x5bd22d(0x1b5),button_save['textContent']=_0x5bd22d(0x22d),document[_0x5bd22d(0x185)][_0x5bd22d(0x28e)](button_save);function OnButtonSaveClick(){const _0x142655=_0x5bd22d;console[_0x142655(0x186)]('#\x20OnButtonSaveClick\x20\x20\x20');let _0x1dd053=get_kif_url();window[_0x142655(0x29d)](_0x1dd053,_0x142655(0x2e3));}var update_select=document[_0x5bd22d(0x386)](_0x5bd22d(0x1e1));update_select[_0x5bd22d(0x379)]('id','update_select'),update_select['style']['position']=_0x5bd22d(0x1fe);if(FREE)update_select['style'][_0x5bd22d(0x2fa)]=String(canvas_top+0xbd+0x82+0x2+0x18+0x4)+'px';else update_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(canvas_top+TOP_INFO_H+0x228)+'px';update_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(kifu_select_x)+'px',update_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x270)]=kifu_sel_width;let op=document[_0x5bd22d(0x386)](_0x5bd22d(0x378));op[_0x5bd22d(0x1a4)]=0x0,op['text']=_0x5bd22d(0x2de),update_select[_0x5bd22d(0x28e)](op);let op1=document[_0x5bd22d(0x386)](_0x5bd22d(0x378));op1[_0x5bd22d(0x1a4)]=0x1,op1[_0x5bd22d(0x30e)]=_0x5bd22d(0x329),update_select[_0x5bd22d(0x28e)](op1);let op2=document[_0x5bd22d(0x386)](_0x5bd22d(0x378));op2[_0x5bd22d(0x1a4)]=0x2,op2[_0x5bd22d(0x30e)]=_0x5bd22d(0x260),update_select[_0x5bd22d(0x28e)](op2);let op3=document[_0x5bd22d(0x386)]('option');op3[_0x5bd22d(0x1a4)]=0x3,op3[_0x5bd22d(0x30e)]=_0x5bd22d(0x2d1),update_select[_0x5bd22d(0x28e)](op3);typeof UPDATE_TIME!==_0x5bd22d(0x24c)&&(document[_0x5bd22d(0x185)]['appendChild'](update_select),update_select[_0x5bd22d(0x350)](_0x5bd22d(0x1d7),OnUpdateChange));function adjust_kifu_position(){const _0x3a98ee=_0x5bd22d;console['log'](_0x3a98ee(0x19e));FREE&&(Kifu[_0x3a98ee(0x36b)]==0x0?(button_backB[_0x3a98ee(0x1ca)][_0x3a98ee(0x381)]=_0x3a98ee(0x2b7),button_nextB['style'][_0x3a98ee(0x381)]='none',branch_select['style']['display']=_0x3a98ee(0x2b7)):(button_backB[_0x3a98ee(0x1ca)][_0x3a98ee(0x381)]=_0x3a98ee(0x2c0),button_nextB[_0x3a98ee(0x1ca)][_0x3a98ee(0x381)]=_0x3a98ee(0x2c0),branch_select[_0x3a98ee(0x1ca)]['display']=_0x3a98ee(0x2c0)));FREE?typeof UPDATE_TIME!==_0x3a98ee(0x24c)?Kifu[_0x3a98ee(0x36b)]==0x1?kifu_select[_0x3a98ee(0x330)]=0x6:kifu_select[_0x3a98ee(0x330)]=0x7:Kifu[_0x3a98ee(0x36b)]==0x1?kifu_select[_0x3a98ee(0x330)]=0x7:kifu_select[_0x3a98ee(0x330)]=0x8:typeof UPDATE_TIME!==_0x3a98ee(0x24c)?kifu_select[_0x3a98ee(0x330)]=0x7:kifu_select['size']=0x8;console[_0x3a98ee(0x186)](_0x3a98ee(0x280)+kifu_select[_0x3a98ee(0x278)]);let _0x4c104b=canvas['getBoundingClientRect'](),_0x7a759a=_0x4c104b[_0x3a98ee(0x188)],_0x15b8d2=_0x4c104b[_0x3a98ee(0x2fa)],_0x3146d1=document[_0x3a98ee(0x185)][_0x3a98ee(0x259)],_0x5a2c7b=document[_0x3a98ee(0x2e8)][_0x3a98ee(0x259)];console[_0x3a98ee(0x186)](_0x3a98ee(0x32e)+_0x5a2c7b);if(_0x5a2c7b>_0x3146d1)_0x15b8d2+=_0x5a2c7b;else _0x15b8d2+=_0x3146d1;let _0x117874=_0x7a759a+0x2;!isIPad&&!isIOS&&(kifu_select[_0x3a98ee(0x1ca)][_0x3a98ee(0x188)]=String(_0x117874)+'px');if(FREE){if(typeof UPDATE_TIME!=='undefined'){branch_select['style']['top']=String(_0x15b8d2+0xbb+0x84+0x2-0x11)+'px';if(Kifu[_0x3a98ee(0x36b)]==0x1){}else{}}else{branch_select['style'][_0x3a98ee(0x2fa)]=String(_0x15b8d2+0xbd+0x96+0x2-0x11)+'px';if(Kifu['bunki_flg']==0x1){}else{}}branch_select[_0x3a98ee(0x1ca)][_0x3a98ee(0x188)]=String(_0x117874)+'px';}else branch_select[_0x3a98ee(0x1ca)][_0x3a98ee(0x2fa)]=String(_0x15b8d2+TOP_INFO_H+0x228)+'px';if(FREE)Kifu['bunki_flg']==0x1?typeof UPDATE_TIME!==_0x3a98ee(0x24c)?(button_save[_0x3a98ee(0x1ca)]['height']=_0x3a98ee(0x196),button_save[_0x3a98ee(0x1ca)][_0x3a98ee(0x2fa)]=String(_0x15b8d2+0xbd+0x82+0x5)+'px'):button_save[_0x3a98ee(0x1ca)][_0x3a98ee(0x2fa)]=String(_0x15b8d2+0xbd+0x96+0x5)+'px':typeof UPDATE_TIME!==_0x3a98ee(0x24c)?button_save[_0x3a98ee(0x1ca)][_0x3a98ee(0x2fa)]=String(_0x15b8d2+0xbd+0x82+0x5)+'px':button_save[_0x3a98ee(0x1ca)][_0x3a98ee(0x2fa)]=String(_0x15b8d2+0xbd+0x96+0x5)+'px';else{if(typeof UPDATE_TIME!=='undefined'){}else{}}if(isIPad||isIOS)return;button_save[_0x3a98ee(0x1ca)][_0x3a98ee(0x188)]=String(_0x117874)+'px',update_select[_0x3a98ee(0x1ca)]['left']=String(_0x117874)+'px';}set_button_positions(![]);function ___SOUND______(){}var komaoto;function Komaoto(){const _0x2b33cd=_0x5bd22d;console[_0x2b33cd(0x186)](_0x2b33cd(0x2e6));if(!komaoto_flg)return;if(komaoto==null)komaoto=new Audio(KJ_DIR+'ke-22c.mp3');try{komaoto[_0x2b33cd(0x1a9)]();}catch(_0xd0586b){console[_0x2b33cd(0x186)](_0xd0586b);}}function game_end_sound(){const _0x19c69b=_0x5bd22d;console[_0x19c69b(0x186)](_0x19c69b(0x3a8));if(!komaoto_flg)return;if(FREE){Komaoto();return;}if(!toryo_sound_flg){Komaoto();return;}new Audio(KJ_DIR+'01S007.mp3')['play']();}function ___TIMER______(){}var go_rep_flg=0x0,replay_stop_flg=0x0;let replay_timer_count=0x0;var replay_timer=function(){const _0x285707=_0x5bd22d;if(go_rep_flg==0x1){if(replay_stop_flg||Kifu[_0x285707(0x217)]()==0x0){ReplayStop();return;}let _0x4dd23d=Kifu['get_next_move']();ExecMove(Kifu,cbd,0x0,_0x4dd23d);}if(go_rep_flg==-0x1){if(replay_stop_flg||Kifu[_0x285707(0x23a)]<=0x0){ReplayStop();return;}BackMove(Kifu,cbd,0x0,0x1);}replay_timer_count++;if(replay_timer_count==0x1){if(FREE){}}};setInterval(replay_timer,0x320);let updatew_timer_count=0x0;var update_timer=function(){const _0x2a0ba5=_0x5bd22d;console[_0x2a0ba5(0x186)](_0x2a0ba5(0x170)+updatew_timer_count);if(loading){console[_0x2a0ba5(0x186)](_0x2a0ba5(0x31f));return;}let _0x598980=Kifu[_0x2a0ba5(0x23a)];!Kifu[_0x2a0ba5(0x217)]()&&(_0x598980=-0x2);load_kifu('',Kifu,0x1,_0x598980),updatew_timer_count++;if(!FREE){if(typeof IMAGE_UPDATE!==_0x2a0ba5(0x24c)&&IMAGE_UPDATE){LoadImages(Kifu);return;}updatew_timer_count>=0x14&&(LoadImages(Kifu),updatew_timer_count=0x0);}},update_timer_id;if(typeof UPDATE_TIME!==_0x5bd22d(0x24c)){update_select[_0x5bd22d(0x261)]=UPDATE_TIME;if(UPDATE_TIME==0x0)clearInterval(update_timer_id);else{if(UPDATE_TIME==0x1)update_timer_id=setInterval(update_timer,0x7530);else{if(UPDATE_TIME==0x2)update_timer_id=setInterval(update_timer,0xea60);else UPDATE_TIME==0x3?update_timer_id=setInterval(update_timer,0xea60*0x3):console[_0x5bd22d(0x1d4)](_0x5bd22d(0x241)+UPDATE_TIME);}}}document[_0x5bd22d(0x350)]('readystatechange',_0x3e4248=>{const _0x59ecb3=_0x5bd22d;if(_0x3e4248['target'][_0x59ecb3(0x21a)]===_0x59ecb3(0x1bc)){}_0x3e4248[_0x59ecb3(0x2a7)][_0x59ecb3(0x21a)]===_0x59ecb3(0x1e9)&&console[_0x59ecb3(0x186)](_0x59ecb3(0x16f));}),window[_0x5bd22d(0x350)](_0x5bd22d(0x397),function(){const _0x21c4ae=_0x5bd22d;console[_0x21c4ae(0x186)](_0x21c4ae(0x363)),set_button_positions(!![]);},![]);function onDown(_0x470641){}function onUp(_0x528b9a){const _0xf39e4=_0x5bd22d;console[_0xf39e4(0x186)](_0xf39e4(0x24b));}function onClick(_0x47d9c8){const _0x594993=_0x5bd22d;let _0x787aca=document[_0x594993(0x185)][_0x594993(0x259)],_0x40a799=document[_0x594993(0x2e8)][_0x594993(0x259)];console[_0x594993(0x186)](_0x594993(0x35f)+_0x40a799+'\x20scroll_top='+_0x787aca);_0x40a799>_0x787aca&&(_0x787aca=_0x40a799);let _0x40682e=_0x47d9c8[_0x594993(0x35b)]-canvas[_0x594993(0x238)],_0x545a5b=_0x47d9c8[_0x594993(0x37c)]-canvas['offsetTop']+_0x787aca;console['log'](_0x594993(0x2b8),_0x40682e,'y:',_0x545a5b),_0x545a5b>=BD_ORG_Y-EDGE_Y&&_0x545a5b<=BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y&&(console[_0x594993(0x186)](_0x594993(0x38c)),_0x40682e>=BD_ORG_X-EDGE_X&&_0x40682e<=BD_ORG_X+SQ_SIZE_X*0x3&&ReplayBack(),_0x40682e>=BD_ORG_X+SQ_SIZE_X*0x6&&_0x40682e<=BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X&&ReplayNext());}function touchUp(_0x501d5a){const _0x35a583=_0x5bd22d;console[_0x35a583(0x186)](_0x35a583(0x3a2));let _0x50013c=_0x501d5a['targetTouches'][0x0]['pageX']-canvas[_0x35a583(0x238)],_0x3ea0ca=_0x501d5a['targetTouches'][0x0][_0x35a583(0x195)]-canvas['offsetTop'];console[_0x35a583(0x186)](_0x35a583(0x2c6),_0x50013c,_0x35a583(0x30a),_0x3ea0ca);}function touchDown(_0x3ea905){const _0x5482df=_0x5bd22d;console['log'](_0x5482df(0x26a));let _0x3f3ba6=_0x3ea905['targetTouches'][0x0]['pageX']-canvas['offsetLeft'],_0x5a888a=_0x3ea905[_0x5482df(0x1f3)][0x0][_0x5482df(0x195)]-canvas[_0x5482df(0x2ec)];_0x5a888a>=BD_ORG_Y-EDGE_Y&&_0x5a888a<=BD_ORG_Y+SQ_SIZE_Y*0x9+EDGE_Y&&(console[_0x5482df(0x186)](_0x5482df(0x38c)),_0x3f3ba6>=BD_ORG_X-EDGE_X&&_0x3f3ba6<=BD_ORG_X+SQ_SIZE_X*0x3&&ReplayBack(),_0x3f3ba6>=BD_ORG_X+SQ_SIZE_X*0x6&&_0x3f3ba6<=BD_ORG_X+SQ_SIZE_X*0x9+EDGE_X&&ReplayNext());}function kifu_select_add_option(_0x44e40b,_0x593202,_0x8bdae3){const _0x2538ac=_0x5bd22d;var _0x28ed2b=document['createElement'](_0x2538ac(0x378));_0x28ed2b[_0x2538ac(0x30e)]=_0x44e40b,_0x28ed2b[_0x2538ac(0x1a4)]=_0x593202,_0x28ed2b[_0x2538ac(0x18e)]=_0x44e40b,FREE?_0x28ed2b['style'][_0x2538ac(0x31a)]=_0x2538ac(0x364):_0x28ed2b[_0x2538ac(0x1ca)][_0x2538ac(0x31a)]=_0x2538ac(0x1b1),kifu_select[_0x2538ac(0x17c)](_0x28ed2b);}function set_kifu_list(){const _0x1077c1=_0x5bd22d;let _0x4bbdca=Kifu['get_main_all_time'](),_0x4b694b=kifu_select[_0x1077c1(0x1f0)];for(let _0x327c61=_0x4b694b['length']-0x1;_0x327c61>=0x0;_0x327c61--){kifu_select[_0x1077c1(0x1a2)](_0x4b694b[_0x327c61]);}let _0x180183=Kifu[_0x1077c1(0x208)]();console[_0x1077c1(0x186)](_0x1077c1(0x1ce)+_0x180183);if(Kifu['get_comment'](0x0)==null){if(_0x4bbdca==0x0)kifu_select_add_option(_0x1077c1(0x341),'0','開始局面');else kifu_select_add_option(_0x1077c1(0x200),'0',_0x1077c1(0x200));}else{if(_0x4bbdca==0x0)kifu_select_add_option('＊開始局面','0',_0x1077c1(0x20d));else kifu_select_add_option(_0x1077c1(0x251),'0','＊開始局面\x20消費時間（１手/累積）');}for(let _0x327adb=0x1;_0x327adb<=_0x180183;_0x327adb++){let _0xae73d1=Kifu[_0x1077c1(0x30b)](_0x327adb);typeof _0xae73d1['k']===_0x1077c1(0x24c)&&console[_0x1077c1(0x1d4)](_0x1077c1(0x331)+_0x327adb+_0x1077c1(0x231)+_0xae73d1['k']+_0x1077c1(0x316)+_0xae73d1['f']);if(_0xae73d1==null)break;let _0x20d4a3;if(_0xae73d1[_0x1077c1(0x325)]==null)_0x20d4a3='\u3000';else{if(_0xae73d1[_0x1077c1(0x325)][_0x1077c1(0x227)]('※')>=0x0)_0x20d4a3='＃';else _0x20d4a3='＊';}let _0x80100b,_0x48442e=0x0;if(_0xae73d1['t']>=0xb){let _0x1afb32=Kifu['mov_strm_kp'](0x0,0x3,_0xae73d1,0x4);_0x48442e=_0x1afb32[_0x1077c1(0x39b)],_0x80100b=_0x20d4a3+_0x327adb+'\x20'+_0x1afb32;}else{let _0x3a9681='';if(english_flg==0x0){if(cbd['teai']==HIRATE){if((_0x327adb&0x1)==0x0)_0x3a9681='後';else _0x3a9681='先';}else{if((_0x327adb&0x1)==0x0)_0x3a9681='上';else _0x3a9681='下';}}let _0x4d9159=Kifu[_0x1077c1(0x30b)](_0x327adb-0x1);console['log']('###\x20last_kp.k='+_0x4d9159['k']);if(_0xae73d1['t']==CHUDAN)_0x80100b='';else _0x80100b='まで';if(_0xae73d1['t']==TORYO){if(cbd[_0x1077c1(0x39e)]==HIRATE){if((_0x327adb&0x1)==0x0)_0x80100b+='先';else _0x80100b+='後';}else{if((_0x327adb&0x1)==0x0)_0x80100b+='上';else _0x80100b+='下';}_0x80100b+=_0x1077c1(0x1c8);}else{if(_0xae73d1['t']==SENNITITE){if(english_flg)_0x80100b+=_0x1077c1(0x2f6);else _0x80100b+=_0x1077c1(0x34f);}else{if(_0xae73d1['t']==JISHOGI){if(english_flg)_0x80100b+=_0x1077c1(0x1d1);else _0x80100b+=_0x1077c1(0x2d3);}else{if(_0xae73d1['t']==KIREMAKE){if(english_flg)_0x80100b+=_0x1077c1(0x2d8);else _0x80100b+=_0x3a9681+_0x1077c1(0x320);}else{if(_0xae73d1['t']==HANSOKU_MAKE){if(english_flg)_0x80100b+=_0x3a9681+_0x1077c1(0x24d);else _0x80100b+=_0x3a9681+_0x1077c1(0x250);}else{if(_0xae73d1['t']==HANSOKU_KACHI){if(english_flg)_0x80100b+='Illegal\x20Lose';else{if(cbd[_0x1077c1(0x39e)]==HIRATE){if(_0x4d9159['k']&0x80)_0x80100b+='先';else _0x80100b+='後';}else{if(_0x4d9159['k']&0x80)_0x80100b+='下';else _0x80100b+='上';}_0x80100b+=_0x1077c1(0x250);}}else{if(_0xae73d1['t']==KACHI){if(english_flg)_0x80100b+=_0x1077c1(0x2d6);else _0x80100b+=_0x1077c1(0x206);}else{if(_0xae73d1['t']==TUMI){if(english_flg)_0x80100b+=_0x1077c1(0x2d9);else _0x80100b+='詰み';}}}}}}}}}if(_0x4bbdca>0x0){let _0x96f7d8=parseInt(_0xae73d1[_0x1077c1(0x1bf)]/0x3c);if(_0x96f7d8>0x0){if(_0x48442e==0x4)_0x80100b+='\u3000\u3000'+_0x96f7d8;else _0x80100b+='\u3000'+_0x96f7d8;_0x80100b+='\x20/\x20';let _0x34a027=parseInt(Kifu[_0x1077c1(0x181)](_0xae73d1)/0x3c);_0x80100b+=_0x34a027;}}kifu_select_add_option(_0x80100b,_0x327adb,_0x80100b);}select_kifu_list();}function select_kifu_list(){const _0xd79670=_0x5bd22d;let _0x5374be=kifu_select['clientHeight'],_0x14e823=kifu_select[_0xd79670(0x330)],_0x1131ee=0x12;_0x14e823!=0x0&&(_0x1131ee=_0x5374be/_0x14e823);kifu_select[_0xd79670(0x261)]=Kifu[_0xd79670(0x23a)];if(Kifu[_0xd79670(0x217)]()==0x0)kifu_select['scrollTop']=Kifu[_0xd79670(0x23a)]*_0x1131ee;else{if(Kifu[_0xd79670(0x23a)]<=0x3)kifu_select['scrollTop']=0x0;else kifu_select[_0xd79670(0x259)]=(Kifu[_0xd79670(0x23a)]-0x3)*_0x1131ee;}}function set_bunki_combo(){const _0x35a1e3=_0x5bd22d;console[_0x35a1e3(0x186)](_0x35a1e3(0x274));let _0x41b799=branch_select[_0x35a1e3(0x1f0)];for(let _0x1e1903=_0x41b799[_0x35a1e3(0x39b)]-0x1;_0x1e1903>=0x0;_0x1e1903--){branch_select[_0x35a1e3(0x1a2)](_0x41b799[_0x1e1903]);}if(Kifu[_0x35a1e3(0x2ce)]()==0x0){let _0x2310b2=new Option(_0x35a1e3(0x2dc),0x0);branch_select[_0x35a1e3(0x17c)](_0x2310b2);return;}let _0x519341=Kifu[_0x35a1e3(0x31e)][_0x35a1e3(0x266)];if(_0x519341==null)return;let _0x147b35='1\x20'+Kifu['mov_strm_kp'](0x0,0x3,_0x519341,0x5),_0x629100=new Option(_0x147b35,0x0);branch_select[_0x35a1e3(0x17c)](_0x629100),_0x519341=_0x519341[_0x35a1e3(0x17d)];for(let _0x4965a8=0x1;_0x519341!=null;_0x4965a8++){_0x147b35=_0x4965a8+0x1+'\x20'+Kifu[_0x35a1e3(0x212)](0x0,0x3,_0x519341,0x5);let _0x1568e6=new Option(_0x147b35,_0x4965a8);branch_select[_0x35a1e3(0x17c)](_0x1568e6),_0x519341=_0x519341[_0x35a1e3(0x17d)];}}function comment_link(_0x40ae0f){const _0x539a47=_0x5bd22d;let _0x1a4a22=_0x40ae0f[_0x539a47(0x2ee)](_0x539a47(0x385)),_0x4e3713=_0x40ae0f[_0x539a47(0x2ee)]('https:');if(_0x1a4a22<0x0)_0x1a4a22=_0x4e3713;else{if(_0x4e3713>=0x0&&_0x4e3713<_0x1a4a22)_0x1a4a22=_0x4e3713;}if(_0x1a4a22>=0x0){let _0x1d38cc=_0x40ae0f['substring'](0x0,_0x1a4a22),_0x1420d0=_0x40ae0f[_0x539a47(0x352)](_0x1a4a22),_0x4845f9=_0x1420d0[_0x539a47(0x2ee)]('\x20');if(_0x4845f9>=0x0){let _0x28abaa=_0x1420d0['substring'](_0x4845f9);_0x28abaa=comment_link(_0x28abaa);let _0x13bacc=_0x1420d0[_0x539a47(0x221)](0x0,_0x4845f9),_0x1050af=_0x539a47(0x282)+_0x13bacc+_0x539a47(0x276)+_0x13bacc+'</a></FONT></U>';_0x40ae0f=_0x1d38cc+_0x1050af+_0x28abaa;}else console[_0x539a47(0x1d4)](_0x539a47(0x1eb)+url+'\x27');}return _0x40ae0f;}function AutoLink(_0x531e44){const _0x4b4c92=_0x5bd22d;let _0x3cd967=/((h?)(ttps?:\/\/[a-zA-Z0-9.\-_@:/~?%&;=+#',()*!]+))/g,_0x38abf2=function(_0x280149,_0x1a2219,_0x5e266d,_0xf00f7f){const _0x21f6bc=_0x26d3;return _0x21f6bc(0x180)+_0xf00f7f+_0x21f6bc(0x20a)+'>'+_0x1a2219+_0x21f6bc(0x255);};return _0x531e44[_0x4b4c92(0x2f7)](_0x3cd967,_0x38abf2);}function make_html_comment(_0xeb2eaa){const _0x3bdc14=_0x5bd22d;return _0xeb2eaa=_0xeb2eaa['replace'](/\r?\n/g,_0x3bdc14(0x26f)),_0xeb2eaa=AutoLink(_0xeb2eaa),_0xeb2eaa;}function disp_comment(){const _0xee4703=_0x5bd22d;let _0x1dc40d=Kifu['get_kifup'](Kifu[_0xee4703(0x23a)]),_0x2d07a3=Kifu[_0xee4703(0x340)](Kifu[_0xee4703(0x23a)]),_0x46d097='';if(_0x2d07a3==null){if(Kifu[_0xee4703(0x23a)]>0x0&&_0x1dc40d['t']<0xb){let _0x342086=Kifu['get_comment'](Kifu[_0xee4703(0x23a)]-0x1);if(_0x342086==null)_0x46d097='';else _0x46d097=_0x342086;}else _0x46d097='';}else _0x46d097=_0x2d07a3;_0x46d097=_0x46d097[_0xee4703(0x2f7)](/▲/g,'☗'),_0x46d097=_0x46d097[_0xee4703(0x2f7)](/△/g,'☖'),comment_textarea[_0xee4703(0x1a4)]=_0x46d097,HTML_COMMENT&&(comment_div[_0xee4703(0x259)]=0x0,_0x46d097=make_html_comment(_0x46d097),comment_div_p[_0xee4703(0x265)]=_0x46d097);}function ViewUpdate(){const _0x1acb9f=_0x5bd22d;draw_board(),ShohiGraph(Kifu,cbd),disp_comment(),select_kifu_list(),FREE&&Info(Kifu),FREE&&Kifu[_0x1acb9f(0x36b)]&&set_bunki_combo();}function ExecMove(_0x26aea5,_0x45f213,_0xda1e87,_0x58ef18){const _0x5ec68e=_0x5bd22d;if(_0xda1e87!=MODE_SILENT&&_0x58ef18['t']>0xa){}let _0x46038f=_0x26aea5[_0x5ec68e(0x1ea)](_0x58ef18);if(_0x46038f!=0x0)return console[_0x5ec68e(0x1d4)](_0x5ec68e(0x374)),_0x46038f;_0x58ef18['k']=_0x45f213['FromToK'](_0x58ef18['f']);if(_0x58ef18['t']<0xb)_0x58ef18['c']=0x0;else _0x58ef18['c']=_0x45f213[_0x5ec68e(0x2ba)][_0x58ef18['t']&0x7f];_0x45f213[_0x5ec68e(0x312)](_0x58ef18),_0x26aea5[_0x5ec68e(0x23a)]++;_0x58ef18['t']>0xa&&(_0x45f213['teban']=0x80-_0x45f213[_0x5ec68e(0x21f)],_0xda1e87<MODE_SILENT&&(draw_board(),select_kifu_list()));if(_0xda1e87!=MODE_SILENT)Komaoto();return _0xda1e87!=MODE_SILENT&&_0x58ef18['t']>0xa&&(DrawKomadaiTeban(_0x45f213,0x0,_0x26aea5),DrawKomadaiTeban(_0x45f213,0x80,_0x26aea5),RightImageName(_0x26aea5),LeftImageName(_0x26aea5),disp_comment()),_0xda1e87!=MODE_SILENT&&(FREE&&Info(_0x26aea5),ShohiGraph(_0x26aea5,_0x45f213)),0x0;}function BackMove(_0x862504,_0x2d1bdc,_0x529434,_0x5a6ef9){const _0x3d45ee=_0x5bd22d;if(_0x862504[_0x3d45ee(0x23a)]<=0x0)return 0x1;let _0x319220=_0x862504[_0x3d45ee(0x30b)](_0x862504[_0x3d45ee(0x23a)]);if(_0x319220['t']>=0xb)_0x2d1bdc[_0x3d45ee(0x21f)]=0x80-_0x2d1bdc[_0x3d45ee(0x21f)];let _0x251d40=_0x319220['f'],_0x26009e=_0x319220['t'],_0x1a7c1f=_0x319220['c'];_0x2d1bdc['BackMove'](_0x319220);_0x529434!=MODE_SILENT&&_0x251d40<=0x63&&_0x251d40>=0xb&&(clear_sq(_0x251d40),DrawPiece(_0x251d40,_0x2d1bdc[_0x3d45ee(0x2c8)](_0x251d40)));_0x862504[_0x3d45ee(0x252)]();if(_0x529434!=MODE_SILENT&&_0x26009e>=0xb){if(_0x862504[_0x3d45ee(0x23a)]>0x0){var _0x2ff276=_0x862504[_0x3d45ee(0x2fb)]();DrawLastPiece(_0x2d1bdc,_0x2ff276['t']&0x7f),DrawPiece(_0x2ff276['t']&0x7f,_0x2d1bdc[_0x3d45ee(0x2c8)](_0x2ff276['t']&0x7f)),DrawLastPieceFrom();}_0x26009e&=0x7f,clear_sq(_0x26009e);_0x1a7c1f!=0x0&&(DrawKomadai(_0x2d1bdc['teban']),DrawPiece(_0x26009e,_0x319220['c']));if(_0x251d40<=0x63)console['log']('BackMove\x20移動元の駒を描く\x20'+_0x251d40),DrawPiece(_0x251d40,_0x319220['k']);else DrawKomadai(_0x2d1bdc[_0x3d45ee(0x21f)]);DrawKomadaiTeban(_0x2d1bdc,0x0,_0x862504),DrawKomadaiTeban(_0x2d1bdc,0x80,_0x862504),RightImageName(_0x862504),LeftImageName(_0x862504);}if(_0x529434!=MODE_SILENT&&_0x5a6ef9!=0x0)Komaoto();return _0x529434!=MODE_SILENT&&_0x26009e>=0xb&&disp_comment(),_0x529434!=MODE_SILENT&&(FREE&&Info(_0x862504),ShohiGraph(_0x862504,_0x2d1bdc),select_kifu_list()),0x0;}function ReplayTop(){const _0xfc06e3=_0x5bd22d;console[_0xfc06e3(0x186)](_0xfc06e3(0x353)),cbd[_0xfc06e3(0x1da)](start),Kifu['start'](),draw_board(),ShohiGraph(Kifu,cbd),disp_comment();if(Kifu[_0xfc06e3(0x36b)])set_kifu_list();select_kifu_list(),ButtonUpdate(),set_bunki_combo();}function ReplayNext(){const _0x28c8fa=_0x5bd22d;let _0x4ac0ec=Kifu[_0x28c8fa(0x27c)]();if(_0x4ac0ec['t']==CHUDAN||_0x4ac0ec['f']==0x0&&_0x4ac0ec['t']==0x0)return;ExecMove(Kifu,cbd,0x0,_0x4ac0ec),ButtonUpdate(),set_bunki_combo();}function ReplayBack(){BackMove(Kifu,cbd,0x0,0x1),ButtonUpdate();if(Kifu['bunki_flg'])set_kifu_list();set_bunki_combo();}function ReplayLast(_0x2bfa21,_0x3965be){const _0x271803=_0x5bd22d;for(;;){let _0x5468be=Kifu[_0x271803(0x27c)](cbd);if(_0x5468be['f']==0x0&&_0x5468be['t']==0x0)break;if(_0x3965be==0x0&&_0x5468be['t']<0xb)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x5468be);if(_0x5468be['t']<0xb)break;}_0x2bfa21==0x0&&(ViewUpdate(),ButtonUpdate(),set_bunki_combo());}function ReplayStop(){const _0xd70d66=_0x5bd22d;console[_0xd70d66(0x186)](_0xd70d66(0x314)),replay_stop_flg=0x0,go_rep_flg=0x0,ButtonUpdate();}function Jump_sub(_0x4cb43e){const _0x46320c=_0x5bd22d;if(_0x4cb43e==Kifu[_0x46320c(0x23a)])return;if(_0x4cb43e>Kifu['move_no'])for(;;){let _0x47b06c=Kifu[_0x46320c(0x27c)](cbd);if(_0x47b06c['f']==0x0&&_0x47b06c['t']==0x0)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x47b06c);if(_0x47b06c['t']<0xb)break;if(Kifu['move_no']>=_0x4cb43e)break;}else for(;;){BackMove(Kifu,cbd,MODE_SILENT,0x0);if(Kifu[_0x46320c(0x23a)]<=_0x4cb43e)break;}}function Jump_henka(_0x1d1bce,_0x3637cd){const _0xff805c=_0x5bd22d;console[_0xff805c(0x186)](_0xff805c(0x237)+_0x1d1bce+'\x20h='+_0x3637cd);let _0x58e329;if(_0x3637cd==0x0||Kifu['is_bunki_n'](_0x1d1bce)==0x0){_0x58e329=Kifu[_0xff805c(0x30b)](Kifu[_0xff805c(0x23a)]);let _0x230ca9=Kifu[_0xff805c(0x1d6)](_0x58e329),_0x4a3eac=_0x1d1bce-Kifu[_0xff805c(0x23a)];Jump_sub(_0x1d1bce);_0x230ca9!=0x0&&_0x4a3eac<0x0&&set_kifu_list();ViewUpdate(),ButtonUpdate();return;}Jump_sub(_0x1d1bce-0x1),_0x58e329=Kifu[_0xff805c(0x30b)](_0x1d1bce);let _0x41b9a1=_0x58e329['branch'],_0x30a7d8=new Kifup();if(_0x3637cd==0x1){_0x30a7d8['f']=_0x41b9a1['f'],_0x30a7d8['t']=_0x41b9a1['t'],ExecMove(Kifu,cbd,MODE_SILENT,_0x30a7d8),set_kifu_list(),ViewUpdate(),ButtonUpdate();return;}for(let _0xeaacad=0x1;_0x41b9a1!=null;_0xeaacad++){if(_0xeaacad==_0x3637cd){_0x30a7d8['f']=_0x41b9a1['f'],_0x30a7d8['t']=_0x41b9a1['t'],ExecMove(Kifu,cbd,MODE_SILENT,_0x30a7d8),set_kifu_list(),ViewUpdate(),ButtonUpdate();return;}_0x41b9a1=_0x41b9a1[_0xff805c(0x17d)];}}function ReplayNextBranch(){const _0x425370=_0x5bd22d;while(!![]){let _0x252879=Kifu[_0x425370(0x27c)]();if(_0x252879['f']==0x0&&_0x252879['t']==0x0)break;if(_0x252879['t']<0xb)break;ExecMove(Kifu,cbd,MODE_SILENT,_0x252879);if(Kifu[_0x425370(0x217)]()==0x0)break;if(Kifu['is_bunki_n'](Kifu[_0x425370(0x23a)]+0x1)!=0x0)break;}ViewUpdate(),ButtonUpdate(),Komaoto();}function ReplayBackBranch(){const _0x27cb08=_0x5bd22d;let _0x2329f1=Kifu[_0x27cb08(0x30b)](Kifu[_0x27cb08(0x23a)]),_0xebca5f=Kifu[_0x27cb08(0x1d6)](_0x2329f1);for(;;){if(Kifu[_0x27cb08(0x23a)]<=0x0)break;BackMove(Kifu,cbd,MODE_SILENT,0x0);if(Kifu[_0x27cb08(0x327)](Kifu[_0x27cb08(0x23a)]+0x1)!=0x0)break;}if(_0xebca5f!=0x0)set_kifu_list();ViewUpdate(),ButtonUpdate(),Komaoto();}function ___TOUCH_EVENT______(){}canvas['addEventListener'](_0x5bd22d(0x205),onDown,![]),canvas[_0x5bd22d(0x350)](_0x5bd22d(0x382),onUp,![]);isIOS?canvas[_0x5bd22d(0x350)]('touchstart',touchDown,![]):canvas[_0x5bd22d(0x350)](_0x5bd22d(0x1dc),onClick,![]);load_kifu('',Kifu,0x1,-0x1),draw_board(),LoadImages(Kifu);function ButtonUpdate(){const _0x1e8147=_0x5bd22d;Kifu['move_no']<=0x0?(button_top[_0x1e8147(0x383)]=_0x1e8147(0x318),button_back['disabled']=_0x1e8147(0x318),button_backr['disabled']=_0x1e8147(0x318),FREE&&(button_backB[_0x1e8147(0x383)]=_0x1e8147(0x318))):(button_top['disabled']='',button_back[_0x1e8147(0x383)]='',button_backr['disabled']='',FREE&&Kifu[_0x1e8147(0x36b)]==0x1&&(button_backB[_0x1e8147(0x383)]='')),Kifu[_0x1e8147(0x217)]()!=0x0?(button_next[_0x1e8147(0x383)]='',button_nextr['disabled']='',button_last[_0x1e8147(0x383)]='',FREE&&Kifu['bunki_flg']==0x1&&(button_nextB[_0x1e8147(0x383)]='')):(button_next['disabled']=_0x1e8147(0x318),button_nextr['disabled']=_0x1e8147(0x318),button_last[_0x1e8147(0x383)]=_0x1e8147(0x318),FREE&&Kifu[_0x1e8147(0x36b)]==0x1&&(button_nextB[_0x1e8147(0x383)]=_0x1e8147(0x318)));}function EnableAllButton(){const _0x3fdc35=_0x5bd22d;button_top[_0x3fdc35(0x383)]='',button_back[_0x3fdc35(0x383)]='',button_backr[_0x3fdc35(0x383)]='',button_next[_0x3fdc35(0x383)]='',button_nextr[_0x3fdc35(0x383)]='',button_last[_0x3fdc35(0x383)]='';}function __OnChange_____(){}function OnKifuSelectChange(){let _0x20a47b=kifu_select['selectedIndex'];console['log']('#\x20OnKifuSelectChange\x20val='+_0x20a47b),Jump_sub(_0x20a47b),draw_board(),ShohiGraph(Kifu,cbd),disp_comment(),FREE&&Info(Kifu),set_bunki_combo(),ButtonUpdate(),Komaoto();}function OnBranchChange(){const _0x13937e=_0x5bd22d;let _0x205d7b=branch_select['selectedIndex'];console[_0x13937e(0x186)]('##\x20OnBranchChange\x20index='+_0x205d7b),_0x205d7b!=0x0&&(Jump_henka(Kifu[_0x13937e(0x23a)]+0x1,_0x205d7b),Komaoto());}function StopAutoUpdate(){const _0x1d1a58=_0x5bd22d;console[_0x1d1a58(0x186)](_0x1d1a58(0x2d2)),clearInterval(update_timer_id),update_select[_0x1d1a58(0x261)]=0x0;}function OnUpdateChange(){const _0x419eaa=_0x5bd22d;let _0x38126e=update_select[_0x419eaa(0x261)];console[_0x419eaa(0x186)](_0x419eaa(0x354)+_0x38126e);if(_0x38126e==0x0)clearInterval(update_timer_id);else{if(_0x38126e==0x1)update_timer_id=setInterval(update_timer,0x7530);else{if(_0x38126e==0x2)update_timer_id=setInterval(update_timer,0xea60);else{if(_0x38126e==0x3)update_timer_id=setInterval(update_timer,0xea60*0x3);}}}}function komaotoOnChange(){const _0x22ce10=_0x5bd22d;komaoto_flg=komaoto_check[_0x22ce10(0x1ee)],console[_0x22ce10(0x186)](_0x22ce10(0x2e0)+komaoto_flg),document[_0x22ce10(0x202)]=_0x22ce10(0x1df)+komaoto_flg+COOKIE_STR;}function OnButtonTopClick(){ReplayTop(),Komaoto();}function OnButtonBackRClick(){EnableAllButton(),replay_stop_flg=0x0,go_rep_flg=-0x1;}function OnButtonBackClick(){ReplayBack();}function OnButtonNextClick(){ReplayNext();}function OnButtonNextRClick(){const _0x12038a=_0x5bd22d;console[_0x12038a(0x186)](_0x12038a(0x1b0)),EnableAllButton(),replay_stop_flg=0x0,go_rep_flg=0x1;}function OnButtonLastClick(){ReplayLast(0x0,0x1),Komaoto();}function OnButtonStopClick(){replay_stop_flg=0x1,go_rep_flg=0x0;}document['onkeydown']=function(_0xefa5d5){const _0x1d1af5=_0x5bd22d;if(!_0xefa5d5)_0xefa5d5=window[_0x1d1af5(0x3a1)];let _0x3af9bf=_0xefa5d5['keyCode'];if(_0x3af9bf==0x27)ReplayNext();else{if(_0x3af9bf==0x25)ReplayBack();else{if(_0x3af9bf==0x24)ReplayTop(),Komaoto();else _0x3af9bf==0x23&&OnButtonLastClick();}}console['log'](_0xefa5d5);};var env_div=document[_0x5bd22d(0x386)](_0x5bd22d(0x3a9));env_div['style'][_0x5bd22d(0x248)]=_0x5bd22d(0x1f7),env_div['className']=_0x5bd22d(0x23e),env_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x270)]='300px',env_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe);{let canvas_rect=canvas['getBoundingClientRect'](),canvas_top=canvas_rect[_0x5bd22d(0x2fa)],scroll_top=document[_0x5bd22d(0x185)]['scrollTop'],scroll_top2=document[_0x5bd22d(0x2e8)][_0x5bd22d(0x259)];if(scroll_top2>scroll_top)canvas_top+=scroll_top2;else canvas_top+=scroll_top;env_div['style']['top']=String(canvas_top+0x78)+'px';}FREE?env_div[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(canvas_x+0x96)+'px':env_div[_0x5bd22d(0x1ca)]['left']=String(canvas_x+0xaa)+'px';env_div['style'][_0x5bd22d(0x371)]=_0x5bd22d(0x29b),env_div['style'][_0x5bd22d(0x27a)]=_0x5bd22d(0x1a0),env_div['style'][_0x5bd22d(0x2ea)]='1px\x20solid\x20#888',env_div['style']['boxShadow']=_0x5bd22d(0x2e9),document[_0x5bd22d(0x185)][_0x5bd22d(0x28e)](env_div);let modal_content=document['createElement'](_0x5bd22d(0x3a9));modal_content[_0x5bd22d(0x277)]='modal-content',modal_content['style'][_0x5bd22d(0x31a)]='20px',env_div[_0x5bd22d(0x1ca)]['display']=_0x5bd22d(0x2b7),env_div['appendChild'](modal_content);let modal_p=document[_0x5bd22d(0x386)]('p'),ver=version['substring'](0x1);FREE?modal_p[_0x5bd22d(0x265)]='<A\x20href=\x22http://kakinoki.o.oo7.jp/js/kifujs.html\x22\x20target=\x22_blank\x22>Kifu\x20for\x20JavaScript\x20Free</A>'+_0x5bd22d(0x1bd)+ver:modal_p[_0x5bd22d(0x2c5)]='\u3000Kifu\x20for\x20JavaScript\x20Pro\x20Version\x20'+ver;modal_p[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]='absolute',modal_p[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(0x5a)+'px',modal_p[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=_0x5bd22d(0x21d),modal_content['appendChild'](modal_p);let modal_p2=document['createElement']('p');modal_p2[_0x5bd22d(0x2c5)]='Copyright\x20(C)\x202020,\x20Yoshikazu\x20Kakinoki',modal_p2['style'][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe),modal_p2[_0x5bd22d(0x1ca)]['top']=String(0x6e)+'px',modal_p2['style'][_0x5bd22d(0x36e)]='11px',modal_content[_0x5bd22d(0x28e)](modal_p2);let komaoto_check2=document[_0x5bd22d(0x386)]('input');komaoto_check2[_0x5bd22d(0x379)](_0x5bd22d(0x1e2),_0x5bd22d(0x373)),komaoto_check2[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe);let check_top2=0xa;komaoto_check2[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(check_top2)+'px',komaoto_check2[_0x5bd22d(0x1ca)]['left']=String(0x14)+'px';if(komaoto_flg==![])komaoto_check2[_0x5bd22d(0x1ee)]=![];else komaoto_check2[_0x5bd22d(0x1ee)]=!![];komaoto_check2[_0x5bd22d(0x350)](_0x5bd22d(0x1d7),komaotoOnChange2),modal_content[_0x5bd22d(0x28e)](komaoto_check2);function komaotoOnChange2(){const _0x29c6a6=_0x5bd22d;komaoto_flg=komaoto_check2[_0x29c6a6(0x1ee)],console['log']('#\x20komaotoOnChange2\x20\x20\x20'+komaoto_flg),document['cookie']=_0x29c6a6(0x1df)+komaoto_flg+COOKIE_STR,komaoto_flg&&Komaoto();}let label_size_str=_0x5bd22d(0x2e5);var komaoto_label2=document[_0x5bd22d(0x386)](_0x5bd22d(0x24a));komaoto_label2['appendChild'](document[_0x5bd22d(0x291)]('駒音')),komaoto_label2['style']['position']=_0x5bd22d(0x1fe),komaoto_label2[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(check_top2)+'px',komaoto_label2[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(0x14+0x16)+'px',komaoto_label2['style']['fontSize']=label_size_str,modal_content[_0x5bd22d(0x28e)](komaoto_label2);let mokume_check=document[_0x5bd22d(0x386)]('input');mokume_check[_0x5bd22d(0x379)]('type',_0x5bd22d(0x373)),mokume_check['style'][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe);let mokume_top=check_top2+0x0;mokume_check[_0x5bd22d(0x1ca)]['top']=String(mokume_top)+'px',mokume_check[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(0x78)+'px';if(muji_flg)mokume_check['checked']=![];else mokume_check['checked']=!![];mokume_check['addEventListener']('change',mokumeoOnChange),modal_content[_0x5bd22d(0x28e)](mokume_check);function mokumeoOnChange(){const _0x23fcf4=_0x5bd22d;muji_flg=!mokume_check[_0x23fcf4(0x1ee)],console['log'](_0x23fcf4(0x399)+muji_flg),document[_0x23fcf4(0x202)]=_0x23fcf4(0x37f)+muji_flg+COOKIE_STR,draw_board();}let mokume_label=document[_0x5bd22d(0x386)]('label');mokume_label[_0x5bd22d(0x28e)](document[_0x5bd22d(0x291)]('木目')),mokume_label[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]='absolute',mokume_label[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(mokume_top)+'px',mokume_label[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(0x78+0x16)+'px',mokume_label[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=label_size_str,modal_content['appendChild'](mokume_label);let toryo_top=check_top2+0x16;if(!FREE){let toryo_check=document[_0x5bd22d(0x386)](_0x5bd22d(0x2be));toryo_check[_0x5bd22d(0x379)](_0x5bd22d(0x1e2),_0x5bd22d(0x373)),toryo_check['style'][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe),toryo_check[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(toryo_top)+'px',toryo_check[_0x5bd22d(0x1ca)]['left']=String(0x14)+'px';if(toryo_sound_flg)toryo_check[_0x5bd22d(0x1ee)]=!![];else toryo_check['checked']=![];toryo_check[_0x5bd22d(0x350)](_0x5bd22d(0x1d7),toryoOnChange),modal_content[_0x5bd22d(0x28e)](toryo_check);function toryoOnChange(){const _0x35d187=_0x5bd22d;toryo_sound_flg=toryo_check[_0x35d187(0x1ee)],console[_0x35d187(0x186)](_0x35d187(0x20f)+toryo_sound_flg),document[_0x35d187(0x202)]=_0x35d187(0x215)+toryo_sound_flg+COOKIE_STR,game_end_sound();}let toryo_label=document[_0x5bd22d(0x386)](_0x5bd22d(0x24a));toryo_label[_0x5bd22d(0x28e)](document[_0x5bd22d(0x291)]('投了効果音')),toryo_label['style'][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe),toryo_label['style']['top']=String(toryo_top)+'px',toryo_label['style'][_0x5bd22d(0x188)]=String(0x14+0x16)+'px',toryo_label[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=label_size_str,modal_content[_0x5bd22d(0x28e)](toryo_label);}let comm_label=document[_0x5bd22d(0x386)](_0x5bd22d(0x24a));comm_label['appendChild'](document[_0x5bd22d(0x291)](_0x5bd22d(0x235))),comm_label[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe),comm_label['style']['top']=String(toryo_top+0x1e)+'px',comm_label[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(0x14)+'px',comm_label[_0x5bd22d(0x1ca)][_0x5bd22d(0x36e)]=label_size_str,modal_content[_0x5bd22d(0x28e)](comm_label);var com_size_select=document['createElement'](_0x5bd22d(0x1e1));com_size_select['style'][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe),com_size_select[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(toryo_top+0x1e)+'px',com_size_select[_0x5bd22d(0x1ca)]['left']=String(0xb4)+'px',com_size_select['style']['width']=_0x5bd22d(0x1ef);for(let pt=0x9;pt<0xf;pt++){let op=document[_0x5bd22d(0x386)](_0x5bd22d(0x378));op[_0x5bd22d(0x1a4)]=pt,op[_0x5bd22d(0x30e)]=String(pt)+_0x5bd22d(0x2f2),com_size_select['appendChild'](op);}com_size_select['selectedIndex']=comment_str_size-0x9,modal_content[_0x5bd22d(0x28e)](com_size_select),com_size_select['addEventListener'](_0x5bd22d(0x1d7),OnComSizeChange);function OnComSizeChange(){const _0x32273f=_0x5bd22d;let _0x21db33=com_size_select[_0x32273f(0x261)],_0x347cf1=0x9+_0x21db33;console[_0x32273f(0x186)](_0x32273f(0x299)+_0x21db33+_0x32273f(0x1ed)+_0x347cf1),comment_div_p['style'][_0x32273f(0x36e)]=String(_0x347cf1)+'pt',document[_0x32273f(0x202)]=_0x32273f(0x30d)+_0x347cf1+COOKIE_STR;}var button_close=document[_0x5bd22d(0x386)](_0x5bd22d(0x27b));button_close['addEventListener']('click',OnButtonClose),button_close[_0x5bd22d(0x1ca)][_0x5bd22d(0x287)]=_0x5bd22d(0x1fe),button_close[_0x5bd22d(0x1ca)][_0x5bd22d(0x188)]=String(0xc8)+'px',button_close[_0x5bd22d(0x1ca)][_0x5bd22d(0x270)]=_0x5bd22d(0x204),button_close[_0x5bd22d(0x1ca)][_0x5bd22d(0x2fa)]=String(0x14)+'px',button_close[_0x5bd22d(0x1ca)]['height']='24px',button_close[_0x5bd22d(0x2c5)]=_0x5bd22d(0x25a),modal_content[_0x5bd22d(0x28e)](button_close);function OnButtonClose(){const _0x50c5d9=_0x5bd22d;env_div[_0x50c5d9(0x1ca)][_0x50c5d9(0x381)]='none';}console[_0x5bd22d(0x1e0)](_0x5bd22d(0x35d)),button_env['onclick']=function(){const _0x3ceaaf=_0x5bd22d;console[_0x3ceaaf(0x1e0)](_0x3ceaaf(0x39d)),env_div[_0x3ceaaf(0x1ca)][_0x3ceaaf(0x381)]=='block'?env_div[_0x3ceaaf(0x1ca)][_0x3ceaaf(0x381)]=_0x3ceaaf(0x2b7):env_div[_0x3ceaaf(0x1ca)][_0x3ceaaf(0x381)]=_0x3ceaaf(0x2c0);};