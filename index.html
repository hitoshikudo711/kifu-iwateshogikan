<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>棋譜から学ぶやさしい将棋</title>
  <style>
    body {
      background-color: #f4f4f4;
      font-family: 'Helvetica Neue', Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #2c3e50;
      color: #ffffff;
      padding: 1.5rem 0;
      font-size: 2rem;
    }
    main {
      padding: 2rem;
    }
    select {
      padding: 0.5rem;
      font-size: 1rem;
      margin-top: 1rem;
    }
    #KJ_DIV {
      margin-top: 2rem;
    }
    footer {
      margin-top: 3rem;
      font-size: 0.8rem;
      color: #777;
    }
    p {
      line-height: 1.6;
    }
  </style>
</head>
<body>

<header>
  棋譜から学ぶやさしい将棋
</header>

<main>
  <h1>GitHub Pagesで柿木棋譜ビューアを使う</h1>

  <p>
    好きな棋譜を選んで再生してみよう！<br>
    盤面の大きさはブラウザの表示倍率で調節してください<br>
    （Windows Chromeの場合は Ctrl + マウスホイール上下）
  </p>

  <!-- 棋譜選択セレクトボックス -->
  <select id="kifuSelector" onchange="onKifuSelect()">
    <option value="test.kif">「四間飛車棒銀対策」太地将棋学校1限目</option>
    <option value="henka.kif">分岐有り</option>
    <option value="tume.kif">詰め将棋</option>
  </select>

  <!-- 棋譜ビューアの表示場所 -->
  <div id="KJ_DIV"></div>
</main>

<footer>
  &copy; 2025 やさしい将棋プロジェクト
</footer>

<!-- 🔥 先に変数と関数を定義 -->
<script language="javascript" type="text/javascript">
let KJ_DIR = "/shogi-kifu/";  // ファイルは直下に置いている前提
let KIF_FILE_NAME = "test.kif";
const UPDATE_TIME = 1;

function onKifuSelect() {
  const select = document.getElementById('kifuSelector');
  KIF_FILE_NAME = select.value;
  load_kifu();
}

window.onload = function() {
  load_kifu();
};
</script>

<!-- 🔥 最後にkj_free.jsを読み込む -->
<script src="/shogi-kifu/kifu/kj_free107/kj_free/kj_free.js"></script>

</body>
</html>
